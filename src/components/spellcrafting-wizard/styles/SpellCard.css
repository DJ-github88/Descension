/*
 * SpellCard.css - WoW-inspired styling for individual spell cards
 * Midnight Blue theme with classic RPG aesthetics
 * Also includes styles for SpellbookWindow components
 */

 @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Open+Sans:wght@400;600;700&display=swap');

 /* ========== VARIABLES ========== */
 :root {
   /* Primary colors - Midnight Blue theme */
   --card-primary: #1e3a8a;
   --card-primary-glow: rgba(30, 58, 138, 0.5);
   --card-primary-hover: #2563eb;
   --card-bg: #111827;
   --card-bg-gradient: linear-gradient(to bottom, #1e293b, #0f172a);
   --card-selected-bg: linear-gradient(to bottom, #1e3a8a, #172554);
   --card-border: #334155;

   /* Text colors */
   --card-text: #e2e8f0;
   --card-text-muted: #94a3b8;
   --card-text-bright: #ffffff;

   /* Rarity colors - Classic WoW inspired but with blue focus */
   --card-common: #9d9d9d;
   --card-uncommon: #1e9d24;
   --card-rare: #0369a1;
   --card-epic: #7e22ce;
   --card-legendary: #0d47a1;

   /* Effect colors */
   --effect-damage: rgba(185, 28, 28, 0.25);
   --effect-damage-text: #ef4444;
   --effect-healing: rgba(22, 163, 74, 0.25);
   --effect-healing-text: #22c55e;
   --effect-buff: rgba(37, 99, 235, 0.25);
   --effect-buff-text: #3b82f6;
   --effect-debuff: rgba(147, 51, 234, 0.25);
   --effect-debuff-text: #a855f7;
   --effect-utility: rgba(20, 184, 166, 0.25);
   --effect-utility-text: #2dd4bf;
   --effect-control: rgba(6, 182, 212, 0.25);
   --effect-control-text: #22d3ee;
   --effect-summoning: rgba(124, 58, 237, 0.25);
   --effect-summoning-text: #8b5cf6;
   --effect-transformation: rgba(59, 130, 246, 0.25);
   --effect-transformation-text: #60a5fa;
   --effect-more: rgba(100, 116, 139, 0.25);
   --effect-more-text: #cbd5e1;

   /* Dimensions */
   --card-border-radius: 8px;
   --card-padding: 1rem;
   --card-gap: 0.75rem;
   --card-icon-size: 52px;
   --card-level-size: 22px;

   /* Animations */
   --card-transition: all 0.25s ease;
 }

 /* ========== BASE CARD STYLING ========== */
 /* Main spell card styling is now in SpellLibrary.css and ConsolidatedSpellCard.css */
 /* This file contains additional styling specific to the spell card component */
 .spell-card {
   position: relative;
   background-color: var(--card-bg);
   background-image: var(--card-bg-gradient);
   border-radius: var(--card-border-radius);
   padding: var(--card-padding);
   cursor: pointer;
   transition: var(--card-transition);
   border: 2px solid var(--card-border);
   display: flex;
   flex-direction: column;
   gap: var(--card-gap);
   overflow: hidden;
   box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.05);
   width: 100%;
   font-family: 'Open Sans', sans-serif;
 }

 /* ========== CARD STATES ========== */
 .spell-card:hover {
   box-shadow: 0 0 15px var(--card-primary-glow), 0 0 5px var(--card-primary-glow) inset;
   border-color: var(--card-primary-hover);
   transform: translateY(-3px) scale(1.02);
 }

 .spell-card.selected {
   border-color: var(--card-primary-hover);
   background-image: var(--card-selected-bg);
   box-shadow: 0 0 20px var(--card-primary-glow), 0 0 10px var(--card-primary-glow) inset;
 }

 .spell-card.disabled {
   opacity: 0.6;
   filter: grayscale(60%);
   cursor: not-allowed;
   box-shadow: none;
   transform: none;
 }

 /* Loading state with shimmer effect */
 .spell-card.loading {
   position: relative;
   overflow: hidden;
 }

 .spell-card.loading::after {
   content: "";
   position: absolute;
   top: 0;
   left: -100%;
   width: 200%;
   height: 100%;
   background: linear-gradient(
     90deg,
     transparent,
     rgba(30, 58, 138, 0.2),
     transparent
   );
   animation: loadingShimmer 1.5s infinite;
 }

 @keyframes loadingShimmer {
   0% { transform: translateX(0%); }
   100% { transform: translateX(50%); }
 }

 /* ========== RARITY STYLING ========== */
 .spell-card.common {
   border-color: var(--card-common);
 }

 .spell-card.uncommon {
   border-color: var(--card-uncommon);
 }

 .spell-card.rare {
   border-color: var(--card-rare);
   box-shadow: 0 0 8px rgba(3, 105, 161, 0.3);
 }

 .spell-card.epic {
   border-color: var(--card-epic);
   box-shadow: 0 0 10px rgba(126, 34, 206, 0.4);
 }

 .spell-card.legendary {
   border-color: var(--card-legendary);
   box-shadow: 0 0 12px rgba(13, 71, 161, 0.5);
   background-image: linear-gradient(to bottom, #1e3a8a, #0c2461);
 }

 /* ========== CATEGORY INDICATORS ========== */
 .spell-card-categories {
   position: absolute;
   top: 0;
   left: 0;
   right: 0;
   display: flex;
   height: 4px;
 }

 .spell-card-category-indicator {
   flex: 1;
   height: 100%;
 }

 /* ========== SPELL ICON ========== */
 .spell-card-icon {
   position: relative;
   width: var(--card-icon-size);
   height: var(--card-icon-size);
   background-color: #0f172a;
   border-radius: 6px;
   display: flex;
   align-items: center;
   justify-content: center;
   font-size: 1.5rem;
   color: var(--card-primary-hover);
   border: 2px solid var(--card-border);
   margin-top: 0.5rem;
   box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3), 0 0 2px rgba(30, 58, 138, 0.4) inset;
   overflow: hidden;
 }

 .spell-card-icon::after {
   content: '';
   position: absolute;
   top: 0;
   left: 0;
   right: 0;
   height: 20%;
   background: linear-gradient(to bottom, rgba(255, 255, 255, 0.1), transparent);
 }

 .spell-card-level {
   position: absolute;
   bottom: -5px;
   right: -5px;
   background-color: var(--card-primary);
   color: white;
   border-radius: 4px;
   width: var(--card-level-size);
   height: var(--card-level-size);
   font-size: 0.8rem;
   display: flex;
   align-items: center;
   justify-content: center;
   font-weight: bold;
   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
   border: 1px solid rgba(255, 255, 255, 0.3);
 }

 /* ========== SPELL INFO ========== */
 .spell-card-info {
   flex: 1;
 }

 .spell-card-name {
   font-size: 1.1rem;
   margin: 0 0 0.25rem 0;
   color: var(--card-text);
   text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8), 0 0 5px rgba(30, 58, 138, 0.3);
   white-space: nowrap;
   overflow: hidden;
   text-overflow: ellipsis;
   font-weight: 600;
   letter-spacing: 0.5px;
   font-family: 'Cinzel', serif;
 }

 .spell-card-type {
   font-size: 0.8rem;
   color: var(--card-text-muted);
   display: flex;
   gap: 0.5rem;
   align-items: center;
 }

 .spell-card-school {
   font-style: italic;
   opacity: 0.8;
 }

 .spell-card-cost {
   font-size: 0.85rem;
   display: flex;
   align-items: center;
   gap: 0.25rem;
   margin-top: 0.3rem;
   color: #bfdbfe;
 }

 .spell-card-cost-icon {
   color: var(--card-primary-hover);
   font-size: 0.75rem;
 }

 .spell-card-cooldown {
   color: var(--card-text-muted);
   font-size: 0.75rem;
   margin-left: auto;
 }

 /* ========== SPELL DESCRIPTION ========== */
 .spell-card-description {
   font-size: 0.9rem;
   color: var(--card-text-muted);
   margin: 0.5rem 0;
   line-height: 1.4;
   display: -webkit-box;
   -webkit-line-clamp: 3;
   line-clamp: 3;
   -webkit-box-orient: vertical;
   overflow: hidden;
   max-height: 2.8em;
 }

/* ========== CRITICAL HIT SECTION ========== */
.spell-card-critical {
  margin-top: 0.5rem;
  border-radius: 6px;
  overflow: hidden;
  background-color: rgba(239, 68, 68, 0.08);
  border: 1px solid rgba(239, 68, 68, 0.2);
  transition: all 0.2s ease;
}

.spell-card-critical-tag {
  display: flex;
  align-items: center;
  padding: 0.4rem 0.6rem;
  gap: 0.5rem;
  background-color: rgba(239, 68, 68, 0.1);
  border-bottom: 1px solid rgba(239, 68, 68, 0.15);
}

.bullseye-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  background-color: rgba(239, 68, 68, 0.2);
  border-radius: 50%;
  font-size: 10px;
}

.spell-card-critical-tag span {
  font-size: 0.75rem;
  font-weight: 600;
  color: #ef4444;
}

.crit-detail {
  margin-left: auto;
  background-color: rgba(239, 68, 68, 0.15);
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 0.7rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 150px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

 .spell-card.expanded .spell-card-description {
   display: block;
   animation: fadeIn 0.3s ease-out;
 }

 @keyframes fadeIn {
   from { opacity: 0; }
   to { opacity: 1; }
 }

 /* ========== EFFECT TAGS ========== */
 .spell-card-effects {
   display: flex;
   flex-wrap: wrap;
   gap: 0.3rem;
   margin-top: 0.5rem;
 }

 .spell-card-effect-tag {
   font-size: 0.7rem;
   padding: 0.1rem 0.4rem;
   border-radius: 10px;
   white-space: nowrap;
   text-transform: capitalize;
   box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
   font-weight: 500;
 }

 .spell-card-effect-tag.damage {
   background-color: var(--effect-damage);
   color: var(--effect-damage-text);
   border: 1px solid rgba(185, 28, 28, 0.4);
 }

 .spell-card-effect-tag.healing {
   background-color: var(--effect-healing);
   color: var(--effect-healing-text);
   border: 1px solid rgba(22, 163, 74, 0.4);
 }

 .spell-card-effect-tag.buff {
   background-color: var(--effect-buff);
   color: var(--effect-buff-text);
   border: 1px solid rgba(37, 99, 235, 0.4);
 }

 .spell-card-effect-tag.debuff {
   background-color: var(--effect-debuff);
   color: var(--effect-debuff-text);
   border: 1px solid rgba(147, 51, 234, 0.4);
 }

 .spell-card-effect-tag.utility {
   background-color: var(--effect-utility);
   color: var(--effect-utility-text);
   border: 1px solid rgba(20, 184, 166, 0.4);
 }

 .spell-card-effect-tag.control {
   background-color: var(--effect-control);
   color: var(--effect-control-text);
   border: 1px solid rgba(6, 182, 212, 0.4);
 }

 .spell-card-effect-tag.summoning {
   background-color: var(--effect-summoning);
   color: var(--effect-summoning-text);
   border: 1px solid rgba(124, 58, 237, 0.4);
 }

 .spell-card-effect-tag.transformation {
   background-color: var(--effect-transformation);
   color: var(--effect-transformation-text);
   border: 1px solid rgba(59, 130, 246, 0.4);
 }

 .spell-card-effect-tag.more {
   background-color: var(--effect-more);
   color: var(--effect-more-text);
   border: 1px solid rgba(100, 116, 139, 0.4);
 }

 /* ========== ROLLABLE TABLE ========== */
 .spell-card-rollable-table {
   margin-top: 0.5rem;
 }

 .spell-card-rollable-table-tag {
   display: flex;
   align-items: center;
   gap: 0.5rem;
   font-size: 0.8rem;
   padding: 0.3rem 0.6rem;
   border-radius: 4px;
   background-color: rgba(30, 58, 138, 0.2);
   border: 1px solid rgba(30, 58, 138, 0.4);
   color: var(--card-text);
 }

 .table-icon {
   font-size: 1rem;
 }

 .table-detail {
   margin-left: auto;
   font-size: 0.75rem;
   color: var(--card-text-muted);
   white-space: nowrap;
   overflow: hidden;
   text-overflow: ellipsis;
   max-width: 150px;
 }

 /* ========== STATS DISPLAY ========== */
 .spell-card-stats {
   display: none;
   font-size: 0.85rem;
   color: var(--card-text-muted);
   margin-top: 0.5rem;
   border-top: 1px solid rgba(51, 65, 85, 0.5);
   padding-top: 0.5rem;
 }

 .spell-card.expanded .spell-card-stats {
   display: block;
 }

 .spell-card-stat {
   display: flex;
   justify-content: space-between;
   margin-bottom: 0.25rem;
 }

 .spell-card-stat-value {
   color: var(--card-text);
 }

 .spell-card-stat-value.buff {
   color: var(--effect-healing-text);
 }

 .spell-card-stat-value.debuff {
   color: var(--effect-damage-text);
 }

 /* ========== ACTION BUTTONS ========== */
 .spell-card-actions {
   display: flex;
   justify-content: flex-end;
   gap: 0.5rem;
   opacity: 0;
   transition: opacity 0.2s ease;
   position: absolute;
   top: 0.5rem;
   right: 0.5rem;
 }

 .spell-card:hover .spell-card-actions {
   opacity: 1;
 }

 .spell-card-action-btn {
   background-color: rgba(15, 23, 42, 0.9);
   color: var(--card-text-muted);
   border: 1px solid var(--card-border);
   border-radius: 50%;
   width: 26px;
   height: 26px;
   display: flex;
   align-items: center;
   justify-content: center;
   cursor: pointer;
   font-size: 0.9rem;
   transition: all 0.2s ease;
   box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
 }

 .spell-card-action-btn:hover {
   transform: scale(1.15);
   filter: brightness(1.2);
 }

 .spell-card-action-btn.edit-btn:hover {
   background-color: var(--card-primary-hover);
   color: white;
   border-color: var(--card-primary-hover);
 }

 .spell-card-action-btn.duplicate-btn:hover {
   background-color: #0d9488;
   color: white;
   border-color: #0d9488;
 }

 .spell-card-action-btn.delete-btn:hover {
   background-color: #b91c1c;
   color: white;
   border-color: #b91c1c;
 }

 .spell-card-action-btn.category-btn:hover {
   background-color: #0284c7;
   color: white;
   border-color: #0284c7;
 }

 /* ========== CATEGORY MENU ========== */
 .spell-card-category-menu {
   position: absolute;
   top: 2rem;
   right: 1rem;
   width: 200px;
   background-color: var(--card-bg);
   border: 1px solid var(--card-border);
   border-radius: 4px;
   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(30, 58, 138, 0.1);
   z-index: 10;
   padding: 0.5rem;
   animation: menuFadeIn 0.2s ease-out;
 }

 @keyframes menuFadeIn {
   from {
     opacity: 0;
     transform: translateY(-10px);
   }
   to {
     opacity: 1;
     transform: translateY(0);
   }
 }

 .category-menu-header {
   display: flex;
   justify-content: space-between;
   align-items: center;
   margin-bottom: 0.5rem;
   padding-bottom: 0.5rem;
   border-bottom: 1px solid var(--card-border);
 }

 .category-menu-header h4 {
   margin: 0;
   font-size: 0.9rem;
   color: var(--card-text);
   font-family: 'Cinzel', serif;
 }

 .close-menu-btn {
   background: none;
   border: none;
   color: #94a3b8;
   cursor: pointer;
   font-size: 0.8rem;
 }

 .close-menu-btn:hover {
   color: var(--card-primary-hover);
 }

 .category-menu-options {
   display: flex;
   flex-direction: column;
   gap: 0.5rem;
   max-height: 200px;
   overflow-y: auto;
   scrollbar-width: thin;
   scrollbar-color: var(--card-border) var(--card-bg);
 }

 .category-menu-options::-webkit-scrollbar {
   width: 6px;
 }

 .category-menu-options::-webkit-scrollbar-track {
   background: var(--card-bg);
 }

 .category-menu-options::-webkit-scrollbar-thumb {
   background-color: var(--card-border);
   border-radius: 3px;
 }

 .category-menu-option {
   display: flex;
   align-items: center;
   gap: 0.5rem;
   cursor: pointer;
   font-size: 0.9rem;
   color: var(--card-text-muted);
   padding: 0.25rem 0;
   transition: all 0.2s ease;
 }

 .category-menu-option:hover {
   color: var(--card-text-bright);
   background-color: rgba(30, 58, 138, 0.1);
 }

 .category-menu-option input {
   accent-color: var(--card-primary);
 }

 .category-color {
   width: 12px;
   height: 12px;
   border-radius: 2px;
   border: 1px solid rgba(255, 255, 255, 0.2);
 }

 /* ========== LAST MODIFIED INDICATOR ========== */
 .spell-card-last-modified {
   position: absolute;
   bottom: 0.5rem;
   right: 0.5rem;
   font-size: 0.7rem;
   color: #94a3b8;
   opacity: 0.5;
   cursor: help;
 }

 /* ========== ANIMATIONS ========== */
 @keyframes spellCardAppear {
   from {
     transform: translateY(20px);
     opacity: 0;
   }
   to {
     transform: translateY(0);
     opacity: 1;
   }
 }

 .spell-card-new {
   animation: spellCardAppear 0.4s ease-out;
 }

 @keyframes spellCardSelect {
   0% {
     box-shadow: 0 0 0 rgba(30, 58, 138, 0);
   }
   50% {
     box-shadow: 0 0 20px rgba(30, 58, 138, 0.8), 0 0 10px rgba(30, 58, 138, 0.6) inset;
   }
   100% {
     box-shadow: 0 0 15px rgba(30, 58, 138, 0.6), 0 0 5px rgba(30, 58, 138, 0.4) inset;
   }
 }

 .spell-card.just-selected {
   animation: spellCardSelect 0.6s ease-out;
 }

 /* ========== LIST VIEW STYLES ========== */
 .list-view .spell-card {
   flex-direction: row;
   align-items: center;
   gap: 1rem;
   padding: 0.5rem 1rem;
   height: 60px;
 }

 .list-view .spell-card-icon {
   width: 38px;
   height: 38px;
   font-size: 1.2rem;
   flex-shrink: 0;
 }

 .list-view .spell-card-level {
   width: 18px;
   height: 18px;
   font-size: 0.65rem;
 }

 .list-view .spell-card-info {
   display: flex;
   align-items: center;
   width: 100%;
   margin-right: 1rem;
 }

 .list-view .spell-card-name {
   margin: 0;
   width: 180px;
 }

 .list-view .spell-card-type {
   width: 120px;
   margin-left: 1rem;
 }

 .list-view .spell-card-effects {
   margin-left: auto;
   margin-top: 0;
 }

 .list-view .spell-card-actions {
   position: static;
   opacity: 0;
 }

 .list-view .spell-card:hover .spell-card-actions {
   opacity: 1;
 }

 .list-view .spell-card-last-modified {
   position: static;
   margin-left: auto;
 }

 .list-view .spell-card-description,
 .list-view .spell-card-stats {
   display: none;
 }

 /* ========== GRID VIEW STYLES ========== */


 .grid-view .spell-card {
   height: auto;
   min-height: 180px;
 }

 /* ========== ACCESSIBILITY ========== */
 .spell-card:focus-visible {
   outline: 3px solid var(--card-primary-hover);
   outline-offset: 2px;
 }

 .spell-card-action-btn:focus-visible {
   outline: 2px solid var(--card-primary-hover);
   outline-offset: 2px;
 }

 /* High contrast mode support */
 @media (forced-colors: active) {
   .spell-card {
     border: 2px solid CanvasText;
   }

   .spell-card.selected {
     border: 2px solid Highlight;
   }

   .spell-card-icon {
     border: 2px solid CanvasText;
   }

   .spell-card-action-btn {
     border: 1px solid CanvasText;
   }
 }

 /* ========== RESPONSIVE STYLES ========== */
 @media (max-width: 768px) {
   .grid-view {
     grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
   }

   .list-view .spell-card-type {
     display: none;
   }

   .list-view .spell-card-name {
     width: auto;
   }
 }

 @media (max-width: 576px) {
   .grid-view {
     grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
   }

   .spell-card-icon {
     width: 42px;
     height: 42px;
     font-size: 1.3rem;
   }

   .list-view .spell-card-actions {
     position: absolute;
     top: 0.5rem;
     right: 0.5rem;
   }

   .list-view .spell-card-effects {
     display: none;
   }
 }

 /* ========== ENHANCED THEME ========== */
 .spell-card::before {
   content: '';
   position: absolute;
   top: 0;
   left: 0;
   right: 0;
   bottom: 0;
   background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" fill-opacity="0.03"><path d="M0 0h100v100H0z" fill="none"/><path d="M30 10l5 5-5 5 5 5-5 5 5 5-5 5 5 5-5 5 5 5-5 5 5 5-5 5 5 5-5 5h70V10H30zm0 0l-5-5h-5l-5 5v90l5 5h5l5-5" fill="%231e3a8a"/></svg>');
   pointer-events: none;
   opacity: 0.5;
   z-index: 1;
   border-radius: var(--card-border-radius);
 }

 .spell-card::after {
   content: '';
   position: absolute;
   top: 0;
   left: 0;
   right: 0;
   height: 10px;
   background: linear-gradient(to bottom, rgba(59, 130, 246, 0.1), transparent);
   pointer-events: none;
 }

 .spell-card > * {
   position: relative;
   z-index: 2;
 }

 .spell-card.legendary::before {
   background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" fill-opacity="0.1"><path d="M0 0h100v100H0z" fill="none"/><path d="M50 15l3 9h10l-8 6 3 9-8-6-8 6 3-9-8-6h10z M20 40l2 6h7l-5 4 2 6-6-4-5 4 2-6-5-4h7z M80 40l2 6h7l-5 4 2 6-6-4-5 4 2-6-5-4h7z" fill="%230d47a1"/></svg>');
 }

 /* ========== WoW Classic Spellbook Styles ========== */

/* Spellbook Header */
.spellbook-header-container {
  display: flex;
  align-items: center;
  padding: 5px;
  background-color: rgba(0, 0, 0, 0.3);
  border-bottom: 1px solid #3b3b3b;
}

.spellbook-title-wrapper {
  display: flex;
  align-items: center;
  gap: 10px;
}

.spellbook-icon {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  overflow: hidden;
  border: 1px solid #8b8b8b;
}

.spellbook-icon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.window-title {
  font-family: 'Cinzel', serif;
  font-weight: 600;
  font-size: 18px;
  color: #ffcc66;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
}

/* Spell Cards WoW Classic Style */
.wow-spell-card {
  position: relative;
  width: 100%;
  background-color: #0a0a0a;
  border: 2px solid #3b3b3b;
  border-radius: 6px;
  overflow: hidden;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  margin-bottom: 16px;
  cursor: pointer;
}

.wow-spell-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.6);
}

.wow-spell-card.common { border-color: #9d9d9d; }
.wow-spell-card.uncommon { border-color: #1eff00; }
.wow-spell-card.rare { border-color: #0070dd; }
.wow-spell-card.epic { border-color: #a335ee; }
.wow-spell-card.legendary { border-color: #ff8000; }

.wow-spell-card.spell-fire { background-color: rgba(153, 30, 0, 0.15); }
.wow-spell-card.spell-frost { background-color: rgba(0, 90, 153, 0.15); }
.wow-spell-card.spell-arcane { background-color: rgba(153, 0, 153, 0.15); }
.wow-spell-card.spell-nature { background-color: rgba(0, 153, 0, 0.15); }
.wow-spell-card.spell-shadow { background-color: rgba(76, 0, 153, 0.15); }
.wow-spell-card.spell-holy { background-color: rgba(153, 153, 0, 0.15); }
.wow-spell-card.spell-physical { background-color: rgba(76, 76, 76, 0.15); }

.spell-card-gloss {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 40%;
  background: linear-gradient(to bottom,
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0.05) 40%,
    rgba(255, 255, 255, 0) 100%);
  pointer-events: none;
}

.spell-card-content {
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.spell-card-header {
  display: flex;
  align-items: center;
  gap: 10px;
}

.spell-icon-wrapper {
  position: relative;
  width: 48px;
  height: 48px;
  flex-shrink: 0;
}

.spell-icon-border {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  border-radius: 6px;
  border: 2px solid #4a4a4a;
  overflow: hidden;
  background-color: #000;
}

.spell-icon {
  width: 100%;
  height: 100%;
  object-fit: cover;
  image-rendering: -webkit-optimize-contrast;
}

.spell-rank {
  position: absolute;
  bottom: -5px;
  right: -5px;
  background-color: rgba(0, 0, 0, 0.8);
  border: 1px solid #8b8b8b;
  color: #ffcc66;
  font-size: 12px;
  min-width: 18px;
  height: 18px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  z-index: 2;
  padding: 0 5px;
}

.spell-info {
  flex: 1;
  overflow: hidden;
}

.spell-name {
  font-family: 'Cinzel', serif;
  margin: 0 0 2px;
  color: #ffd100;
  text-shadow: 1px 1px 2px #000;
  font-size: 16px;
  line-height: 1.2;
  font-weight: 600;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.spell-meta {
  display: flex;
  font-size: 12px;
  gap: 8px;
  color: #8ba5d9;
  opacity: 0.9;
}

.spell-divider {
  height: 1px;
  background: linear-gradient(to right,
    rgba(118, 118, 118, 0) 0%,
    rgba(118, 118, 118, 0.5) 50%,
    rgba(118, 118, 118, 0) 100%);
  margin: 4px 0;
}

.spell-body {
  font-size: 13px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.spell-description {
  margin: 0;
  color: #e6e6e6;
  line-height: 1.4;
  font-family: 'Open Sans', sans-serif;
  font-size: 12px;
  max-height: 60px;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
}

.spell-stats {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-top: 5px;
  padding-left: 5px;
  border-left: 2px solid rgba(130, 130, 130, 0.3);
}

.spell-stat {
  display: flex;
  font-size: 12px;
  justify-content: space-between;
  color: #c2c2c2;
}

.spell-stat-name {
  font-weight: 600;
  color: #b6b6b6;
}

.spell-stat-value {
  text-align: right;
  flex: 1;
}

.spell-stat-value.damage {
  color: #ff5c5c;
}

.spell-stat-value.healing {
  color: #56fe56;
}

.spell-stat-value.cooldown {
  color: #8ba5d9;
}

.spell-footer {
  display: flex;
  justify-content: space-between;
  margin-top: 8px;
  gap: 10px;
}

.spell-type-badge, .spell-effect-badge {
  display: inline-flex;
  align-items: center;
  font-size: 10px;
  padding: 2px 6px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.5);
  text-transform: uppercase;
  font-weight: bold;
  letter-spacing: 0.5px;
}

.spell-type-badge {
  border: 1px solid rgba(138, 180, 248, 0.5);
  color: #8ab4f8;
}

.spell-effect-badge {
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: #ebebeb;
}

.spell-effect-badge.damage {
  border-color: rgba(255, 92, 92, 0.5);
  color: #ff5c5c;
}

.spell-effect-badge.healing {
  border-color: rgba(86, 254, 86, 0.5);
  color: #56fe56;
}

.spell-effect-badge.buff {
  border-color: rgba(176, 154, 239, 0.5);
  color: #b09aef;
}

.spell-effect-badge.debuff {
  border-color: rgba(254, 169, 86, 0.5);
  color: #fea956;
}

.spell-effect-badge.utility {
  border-color: rgba(86, 210, 254, 0.5);
  color: #56d2fe;
}

/* Spellbook Content */
.spellbook-content-container {
  padding: 16px;
}

.spellbook-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.spellbook-title {
  display: flex;
  align-items: center;
  gap: 10px;
}

.spellbook-title-icon {
  width: 36px;
  height: 36px;
  border-radius: 4px;
  border: 2px solid #4a4a4a;
}

.spellbook-title h2 {
  margin: 0;
  font-family: 'Cinzel', serif;
  color: #ffcc66;
  font-weight: 600;
  font-size: 22px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
}

.wow-search-container {
  display: flex;
  align-items: center;
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px solid #3b3b3b;
  border-radius: 15px;
  padding: 2px 10px;
  transition: all 0.2s ease;
  height: 30px;
}

.wow-search-container.focused {
  box-shadow: 0 0 0 2px rgba(255, 204, 102, 0.3);
  border-color: #ffcc66;
}

.search-icon-wrapper {
  color: #8b8b8b;
  margin-right: 8px;
  display: flex;
  align-items: center;
}

.wow-search-input {
  background: transparent;
  border: none;
  color: #ebebeb;
  font-family: 'Open Sans', sans-serif;
  font-size: 14px;
  flex: 1;
  min-width: 200px;
  outline: none;
}

.wow-search-input::placeholder {
  color: #8b8b8b;
}

.clear-search-btn {
  background: none;
  border: none;
  color: #8b8b8b;
  font-size: 18px;
  cursor: pointer;
  padding: 0 5px;
}

.clear-search-btn:hover {
  color: #ebebeb;
}

/* Filter Section */
.filter-container {
  background-color: rgba(0, 0, 0, 0.2);
  border: 1px solid #3b3b3b;
  border-radius: 6px;
  padding: 14px;
  margin-bottom: 20px;
}

.wow-filter-title {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 15px;
  color: #ffcc66;
  font-family: 'Cinzel', serif;
  font-size: 16px;
  font-weight: 600;
}

.filter-icon {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  border: 1px solid #8b8b8b;
}

.wow-filter-sections {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.wow-filter-section {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.wow-filter-label {
  font-size: 14px;
  color: #b6b6b6;
  font-weight: 600;
}

.wow-filter-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.wow-filter-btn {
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px solid #3b3b3b;
  border-radius: 15px;
  color: #ebebeb;
  font-size: 12px;
  padding: 5px 10px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.wow-filter-btn:hover {
  background-color: rgba(30, 30, 30, 0.5);
  border-color: #8b8b8b;
}

.wow-filter-btn.active {
  background-color: rgba(255, 204, 102, 0.2);
  border-color: #ffcc66;
  color: #ffcc66;
}

.wow-filter-btn.wow-damage { color: #ff5c5c; }
.wow-filter-btn.wow-damage.active { border-color: #ff5c5c; background-color: rgba(255, 92, 92, 0.2); }

.wow-filter-btn.wow-healing { color: #56fe56; }
.wow-filter-btn.wow-healing.active { border-color: #56fe56; background-color: rgba(86, 254, 86, 0.2); }

.wow-filter-btn.wow-buff { color: #b09aef; }
.wow-filter-btn.wow-buff.active { border-color: #b09aef; background-color: rgba(176, 154, 239, 0.2); }

.wow-filter-btn.wow-debuff { color: #fea956; }
.wow-filter-btn.wow-debuff.active { border-color: #fea956; background-color: rgba(254, 169, 86, 0.2); }

.wow-filter-btn.wow-utility { color: #56d2fe; }
.wow-filter-btn.wow-utility.active { border-color: #56d2fe; background-color: rgba(86, 210, 254, 0.2); }

/* Active Filters */
.wow-active-filters {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 20px;
  padding: 10px;
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 6px;
  border: 1px dashed #3b3b3b;
}

.wow-active-filters-label {
  color: #b6b6b6;
  font-size: 12px;
  font-weight: 600;
}

.wow-filter-tag {
  display: flex;
  align-items: center;
  background-color: rgba(255, 204, 102, 0.1);
  border: 1px solid rgba(255, 204, 102, 0.3);
  color: #ffcc66;
  border-radius: 12px;
  padding: 3px 8px 3px 10px;
  font-size: 12px;
  gap: 8px;
}

.wow-filter-tag button {
  background: none;
  border: none;
  color: #ffcc66;
  font-size: 16px;
  line-height: 1;
  padding: 0;
  cursor: pointer;
}

.wow-filter-tag button:hover {
  color: #ffffff;
}

.wow-clear-all-filters {
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px solid #3b3b3b;
  color: #ebebeb;
  border-radius: 12px;
  padding: 3px 10px;
  font-size: 12px;
  cursor: pointer;
  margin-left: auto;
}

.wow-clear-all-filters:hover {
  background-color: rgba(30, 30, 30, 0.5);
  border-color: #8b8b8b;
}

/* Spell Grid */
.wow-spell-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 16px;
}

.wow-no-spells-message {
  grid-column: 1 / -1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
  gap: 15px;
}

.no-spells-icon {
  width: 64px;
  height: 64px;
  border-radius: 10px;
  border: 2px solid #3b3b3b;
  opacity: 0.7;
}

.wow-no-spells-message p {
  color: #b6b6b6;
  font-size: 16px;
  margin: 0;
}

.wow-reset-filters-btn {
  margin-top: 10px;
  background-color: rgba(255, 204, 102, 0.2);
  border: 1px solid #ffcc66;
  color: #ffcc66;
  border-radius: 20px;
  padding: 8px 20px;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.wow-reset-filters-btn:hover {
  background-color: rgba(255, 204, 102, 0.3);
}

/* Collections Tab Styles */
.wow-collection-content {
  padding: 16px;
}

.wow-collection-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.wow-collection-title {
  display: flex;
  align-items: center;
  gap: 10px;
}

.collection-title-icon {
  width: 36px;
  height: 36px;
  border-radius: 4px;
  border: 2px solid #4a4a4a;
}

.wow-collection-title h2 {
  margin: 0;
  font-family: 'Cinzel', serif;
  color: #ffcc66;
  font-weight: 600;
  font-size: 22px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
}

.wow-create-collection-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px solid #ffcc66;
  color: #ffcc66;
  border-radius: 20px;
  padding: 6px 14px;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.wow-create-collection-btn:hover {
  background-color: rgba(255, 204, 102, 0.2);
}

.wow-create-collection-btn .btn-icon {
  width: 20px;
  height: 20px;
  border-radius: 4px;
}

.wow-create-collection-form {
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px solid #3b3b3b;
  border-radius: 6px;
  padding: 20px;
  margin-bottom: 20px;
}

.wow-create-collection-form h3 {
  margin: 0 0 10px;
  font-family: 'Cinzel', serif;
  color: #ffcc66;
  font-weight: 600;
  font-size: 18px;
  text-align: center;
}

.form-divider {
  height: 1px;
  background: linear-gradient(to right,
    rgba(118, 118, 118, 0) 0%,
    rgba(118, 118, 118, 0.5) 50%,
    rgba(118, 118, 118, 0) 100%);
  margin: 10px 0 20px;
}

.wow-form-group {
  margin-bottom: 16px;
}

.wow-form-group label {
  display: block;
  margin-bottom: 6px;
  font-size: 14px;
  color: #ebebeb;
  font-weight: 600;
}

.wow-input, .wow-textarea {
  width: 100%;
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px solid #3b3b3b;
  border-radius: 4px;
  color: #ebebeb;
  padding: 8px 12px;
  font-family: 'Open Sans', sans-serif;
  font-size: 14px;
}

.wow-input:focus, .wow-textarea:focus {
  outline: none;
  border-color: #ffcc66;
  box-shadow: 0 0 0 2px rgba(255, 204, 102, 0.3);
}

.wow-textarea {
  resize: vertical;
  min-height: 80px;
}

.wow-color-picker {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 8px;
}

.wow-color-option {
  width: 30px;
  height: 30px;
  border-radius: 15px;
  border: 2px solid transparent;
  cursor: pointer;
  transition: all 0.2s ease;
}

.wow-color-option.selected {
  border-color: #ffffff;
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);
}

.wow-form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 20px;
}

.wow-btn {
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.wow-btn-cancel {
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px solid #8b8b8b;
  color: #ebebeb;
}

.wow-btn-cancel:hover {
  background-color: rgba(30, 30, 30, 0.5);
  border-color: #a0a0a0;
}

.wow-btn-create {
  background-color: rgba(255, 204, 102, 0.2);
  border: 1px solid #ffcc66;
  color: #ffcc66;
}

.wow-btn-create:hover {
  background-color: rgba(255, 204, 102, 0.3);
}

.wow-btn-create:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.wow-collections-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 20px;
}

.wow-collection-card {
  background-color: rgba(0, 0, 0, 0.2);
  border: 2px solid #3b3b3b;
  border-radius: 6px;
  overflow: hidden;
  transition: all 0.2s ease;
  cursor: pointer;
}

.wow-collection-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
}

.wow-collection-card-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px;
}

.collection-icon {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.wow-collection-card-header h3 {
  margin: 0;
  font-family: 'Cinzel', serif;
  color: #ffffff;
  font-weight: 600;
  font-size: 16px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
}

.wow-collection-card-body {
  padding: 12px;
  background-color: rgba(0, 0, 0, 0.3);
}

.wow-collection-card-body p {
  margin: 0 0 12px;
  font-size: 12px;
  color: #ebebeb;
  line-height: 1.4;
  height: 50px;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
}

.wow-collection-stats {
  display: flex;
  gap: 15px;
}

.wow-stat {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.wow-stat-value {
  font-size: 18px;
  font-weight: bold;
  color: #ffcc66;
}

.wow-stat-label {
  font-size: 10px;
  color: #a0a0a0;
  text-transform: uppercase;
}

.wow-no-collections {
  grid-column: 1 / -1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
  gap: 15px;
}

.no-collections-icon {
  width: 64px;
  height: 64px;
  border-radius: 10px;
  border: 2px solid #3b3b3b;
  opacity: 0.7;
}

.wow-no-collections p {
  color: #b6b6b6;
  font-size: 16px;
  margin: 0;
}

.wow-create-first {
  margin-top: 10px;
  background-color: rgba(255, 204, 102, 0.2);
  border: 1px solid #ffcc66;
  color: #ffcc66;
  font-size: 14px;
}

.wow-create-first:hover {
  background-color: rgba(255, 204, 102, 0.3);
}

/* ========== SPELLBOOK LAYOUT & TABS ========== */
.spellbook-layout {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: #111827;
  color: var(--card-text);
}

.spellbook-tabs {
  display: flex;
  background-color: #0f172a;
  border-bottom: 2px solid #2d3748;
  padding: 0 10px;
  margin-bottom: 10px;
  position: relative;
  z-index: 1;
}

.wow-tab {
  position: relative;
  display: flex;
  align-items: center;
  padding: 8px 16px;
  margin-right: 4px;
  background: linear-gradient(to bottom, #1e293b 0%, #0f172a 100%);
  border: 1px solid #334155;
  border-bottom: none;
  border-radius: 6px 6px 0 0;
  color: #94a3b8;
  font-family: 'Cinzel', serif;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  overflow: hidden;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
}

.wow-tab::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
}

.wow-tab:hover {
  background: linear-gradient(to bottom, #1e3a8a 0%, #172554 100%);
  color: #e2e8f0;
}

.wow-tab.active {
  background: linear-gradient(to bottom, #2563eb 0%, #1e40af 100%);
  color: #ffffff;
  border-color: #3b82f6;
  z-index: 2;
}

.wow-tab.active::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 2px;
  background-color: #1e40af;
}

.tab-icon {
  width: 20px;
  height: 20px;
  margin-right: 8px;
  border-radius: 2px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.tab-text {
  font-size: 14px;
  letter-spacing: 0.5px;
}

.spellbook-main-content {
  flex-grow: 1;
  overflow-y: auto;
  padding: 0 15px 15px;
}

/* Spellbook Header */
.spellbook-header-container {
  display: flex;
  align-items: center;
  padding: 5px;
}

.spellbook-title-wrapper {
  display: flex;
  align-items: center;
  gap: 10px;
}

.spellbook-icon {
  display: block;
  width: 32px;
  height: 32px;
  overflow: hidden;
  border-radius: 4px;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.spellbook-icon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.window-title {
  font-family: 'Cinzel', serif;
  font-weight: 700;
  font-size: 18px;
  color: #ffcc66;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  letter-spacing: 0.5px;
}

/* Fix for line-clamp compatibility */
.spell-card-description {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  font-size: 0.85rem;
  color: var(--card-text-muted);
  line-height: 1.4;
  max-height: 2.8em;
}

/* Fix for line-clamp compatibility in collection card description */
.wow-collection-card-description {
  font-size: 0.85rem;
  color: var(--card-text-muted);
  margin-top: 0.25rem;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.4;
  max-height: 2.8em;
}