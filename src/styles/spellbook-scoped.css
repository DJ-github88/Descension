/* ===== SPELLBOOK SCOPED CSS ===== */
/* This file ensures spellbook styles ONLY apply within .spellbook-scoped containers */

/* IMPORTANT: This file should be loaded AFTER the main spellbook CSS to override global selectors */

/* Scope unified spell cards to spellbook only */
.spellbook-scoped .unified-spell-card {
  /* Apply spellbook styling only within spellbook */
  background: var(--pf-gradient-parchment, #ede4d3);
  border: none;
  border-radius: var(--pf-border-radius-lg, 12px);
  box-shadow: var(--pf-shadow-parchment, 0 4px 12px rgba(139, 69, 19, 0.15));
  color: var(--pf-text-primary, #2d1810);
  font-family: var(--pf-font-body, 'Crimson Text', serif);
}

.spellbook-scoped .unified-spell-card-header {
  /* Apply spellbook header styling only within spellbook */
  background: var(--pf-gradient-header, linear-gradient(135deg, #c4a373 0%, #a08c70 50%, #8b7355 100%)) !important;
  border-bottom: var(--pf-border-width-thick, 3px) solid var(--pf-brown-medium, #8B4513) !important;
  color: var(--pf-text-primary, #2d1810) !important;
  font-family: var(--pf-font-display, 'Cinzel', serif) !important;
}

.spellbook-scoped .wow-spell-card {
  /* Apply spellbook styling to wow cards only within spellbook */
  background: var(--pf-gradient-parchment, #ede4d3);
  border: none;
  border-radius: var(--pf-border-radius-lg, 12px);
  color: var(--pf-text-primary, #2d1810);
  font-family: var(--pf-font-body, 'Crimson Text', serif);
}

/* Reset spell cards OUTSIDE of spellbook to character sheet styling */
.unified-spell-card:not(.spellbook-scoped .unified-spell-card) {
  /* Character sheet styling for external spell cards */
  background: #f0e6d2 !important;
  border: 1px solid #8B4513 !important;
  border-radius: 6px !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
  color: #5a1e12 !important;
  font-family: 'Cinzel', 'Trajan Pro', 'Times New Roman', serif !important;
}

.unified-spell-card-header:not(.spellbook-scoped .unified-spell-card-header) {
  /* Character sheet header styling for external spell cards */
  background: linear-gradient(135deg, #c4a373 0%, #a08c70 50%, #8b7355 100%) !important;
  border-bottom: 2px solid #8B4513 !important;
  color: #2d1810 !important;
  font-family: 'Cinzel', 'Trajan Pro', 'Times New Roman', serif !important;
}

.wow-spell-card:not(.spellbook-scoped .wow-spell-card) {
  /* Character sheet styling for external wow cards */
  background: #f0e6d2 !important;
  border: 1px solid #8B4513 !important;
  border-radius: 6px !important;
  color: #5a1e12 !important;
  font-family: 'Cinzel', 'Trajan Pro', 'Times New Roman', serif !important;
}

/* Ensure character sheet elements maintain their styling */
.character-sheet-container,
.character-sheet-container *,
.character-container,
.character-container *,
.character-navigation,
.character-navigation * {
  font-family: 'Cinzel', 'Trajan Pro', 'Times New Roman', serif !important;
  color: #5a1e12 !important;
}

/* Prevent CSS variable leakage outside spellbook */
:root {
  /* Default character sheet variables */
  --pf-font-body: 'Cinzel', 'Trajan Pro', 'Times New Roman', serif;
  --pf-font-display: 'Cinzel', 'Trajan Pro', 'Times New Roman', serif;
  --pf-font-ui: 'Cinzel', 'Trajan Pro', 'Times New Roman', serif;
  --pf-text-primary: #5a1e12;
  --pf-text-secondary: #5a1e12;
  --pf-gradient-parchment: linear-gradient(135deg, rgba(240, 230, 210, 0.95) 0%, rgba(230, 220, 200, 0.9) 50%, rgba(213, 203, 176, 0.85) 100%);
}

/* Only allow spellbook variables within spellbook scope */
.spellbook-scoped {
  --pf-font-body: 'Crimson Text', serif;
  --pf-font-display: 'Cinzel', serif;
  --pf-font-ui: 'Crimson Text', serif;
  --pf-text-primary: #2d1810;
  --pf-text-secondary: #5a1e12;
  --pf-gradient-parchment: linear-gradient(135deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%);
  --pf-gradient-header: linear-gradient(135deg, #c4a373 0%, #a08c70 50%, #8b7355 100%);
  --pf-brown-medium: #8B4513;
  --pf-border-radius-lg: 12px;
  --pf-border-width-thick: 3px;
  --pf-shadow-parchment: 0 4px 12px rgba(139, 69, 19, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.2);
}
