/* D&D/Pathfinder Themed Item Tooltip */
.item-tooltip {
    background: linear-gradient(145deg,
            #ffffff 0%,
            #fafafa 20%,
            #f5f5f5 50%,
            #f0f0f0 80%,
            #f5f5f5 100%) !important;
    border: 2px solid #8B4513 !important;
    border-radius: 8px;
    padding: 16px;
    color: #2d1810 !important;
    /* Set default text color */
    font-family: 'Bookman Old Style', 'Garamond', serif;
    width: 100%;
    min-width: 280px;
    max-width: 300px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.35),
        inset 0 2px 4px rgba(255, 255, 255, 0.6),
        inset 0 -2px 4px rgba(139, 69, 19, 0.15),
        0 0 0 1px rgba(139, 69, 19, 0.25),
        0 0 20px rgba(139, 69, 19, 0.1) !important;
    pointer-events: none;
    margin: 0;
    backdrop-filter: blur(4px);
    text-align: left !important;
}

/* Global override for all text inside tooltip - will be refined by more specific rules */
.item-tooltip * {
    color: inherit;
}

/* Override all white text to Pathfinder brown-dark - more aggressive approach */
.item-tooltip div[style*="#ffffff"]:not(.item-name):not([class*="quality-"]),
.item-tooltip div[style*="rgb(255, 255, 255)"]:not(.item-name):not([class*="quality-"]) {
    color: #5a1e12 !important;
}

.item-tooltip span[style*="#ffffff"]:not(.item-name):not([class*="quality-"]),
.item-tooltip span[style*="rgb(255, 255, 255)"]:not(.item-name):not([class*="quality-"]) {
    color: #5a1e12 !important;
}

/* More specific: target divs with inline color styles that aren't item-name */
.item-tooltip>div>div[style*="color"]:not(.item-name):not([class*="quality-"]) {
    color: #5a1e12 !important;
}

.review-tooltip .item-tooltip,
.review-step .item-tooltip,
.review-tooltip-container .item-tooltip {
    margin: 0;
    width: 100%;
}

/* Quality-based borders and effects - maintain WoW style for item quality */
.item-tooltip[data-quality="poor"] {
    border-color: #9d9d9d !important;
    border-width: 3px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 0 15px rgba(157, 157, 157, 0.6) !important;
}

.item-tooltip[data-quality="common"] {
    border-color: #ffffff !important;
    border-width: 3px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 0 15px rgba(255, 255, 255, 0.5) !important;
}

.item-tooltip[data-quality="uncommon"] {
    border-color: #4a934a !important;
    /* Softer green */
    border-width: 3px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 0 18px rgba(74, 147, 74, 0.5) !important;
}

.item-tooltip[data-quality="rare"] {
    border-color: #0070dd !important;
    border-width: 3px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 0 18px rgba(0, 112, 221, 0.6) !important;
}

.item-tooltip[data-quality="epic"] {
    border-color: #a335ee !important;
    border-width: 3px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 0 18px rgba(163, 53, 238, 0.6) !important;
}

.item-tooltip[data-quality="legendary"] {
    border-color: #ff8000 !important;
    border-width: 3px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 0 22px rgba(255, 128, 0, 0.7) !important;
}

.item-tooltip[data-quality="artifact"] {
    border-color: #e6cc80 !important;
    border-width: 3px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 0 25px rgba(230, 204, 128, 0.8) !important;
}

/* Item Icon Container */
.item-icon-container {
    display: flex;
    justify-content: center;
    margin-bottom: 12px;
}

.item-tooltip .item-icon {
    width: 48px;
    height: 48px;
    border-radius: 4px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* Currency coin icon coloring in tooltip - matching currency display colors */
.item-tooltip .item-icon.coin-platinum,
.item-tooltip img.coin-platinum {
    filter: brightness(1.8) saturate(0.2) contrast(1.4) sepia(0) hue-rotate(200deg);
}

.item-tooltip .item-icon.coin-gold,
.item-tooltip img.coin-gold {
    filter: brightness(1.1) saturate(1.5) contrast(1.2) hue-rotate(0deg);
}

.item-tooltip .item-icon.coin-silver,
.item-tooltip img.coin-silver {
    filter: brightness(1.2) saturate(0) contrast(1.2) sepia(0) grayscale(0.8);
}

.item-tooltip .item-icon.coin-copper,
.item-tooltip img.coin-copper {
    filter: brightness(0.9) saturate(2.0) hue-rotate(15deg) contrast(1.4);
}

/* Magical background for item icons - prevents beige icons from fading into beige tooltip */
/* Pathfinder-themed cloudy ethereal background - soft, neutral, and magical */
.item-icon-magical-bg {
    background:
        /* Soft ethereal cloud from top-left */
        radial-gradient(ellipse at 20% 20%, rgba(255, 250, 240, 0.5) 0%, rgba(245, 240, 230, 0.3) 25%, rgba(235, 230, 220, 0.15) 40%, transparent 65%),
        /* Gentle cloud from bottom-right */
        radial-gradient(ellipse at 80% 80%, rgba(240, 235, 230, 0.4) 0%, rgba(230, 225, 220, 0.25) 30%, rgba(220, 215, 210, 0.12) 45%, transparent 60%),
        /* Soft center cloud */
        radial-gradient(circle at 50% 50%, rgba(250, 245, 240, 0.3) 0%, rgba(240, 235, 230, 0.15) 35%, transparent 55%),
        /* Cloudy ethereal base - soft neutral beiges and creams */
        linear-gradient(135deg,
            rgba(200, 190, 180, 0.6) 0%,
            rgba(210, 200, 190, 0.55) 20%,
            rgba(205, 195, 185, 0.55) 40%,
            rgba(215, 205, 195, 0.55) 60%,
            rgba(210, 200, 190, 0.55) 80%,
            rgba(200, 190, 180, 0.6) 100%),
        /* Subtle cloud texture pattern */
        repeating-linear-gradient(45deg,
            transparent,
            transparent 5px,
            rgba(255, 255, 255, 0.03) 5px,
            rgba(255, 255, 255, 0.03) 10px);
    position: relative;
}

.item-tooltip .item-name {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 10px;
    line-height: 1.2;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    border-bottom: 1px solid rgba(139, 69, 19, 0.4);
    padding-bottom: 8px;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.3);
}

/* Scrolling animation for long item names */
.item-name-scrolling {
    overflow: hidden !important;
    position: relative;
    /* Add fade effect on edges */
    mask-image: linear-gradient(to right,
            transparent 0%,
            black 8%,
            black 92%,
            transparent 100%);
    -webkit-mask-image: linear-gradient(to right,
            transparent 0%,
            black 8%,
            black 92%,
            transparent 100%);
}

.item-name-scroll-text {
    display: inline-block;
    animation: scroll-title 8s linear infinite;
    animation-delay: 1.5s;
    white-space: nowrap;
    /* Start with text visible at the beginning */
    transform: translateX(0);
}

@keyframes scroll-title {
    0% {
        transform: translateX(0);
    }

    10% {
        transform: translateX(0);
    }

    90% {
        transform: translateX(var(--scroll-distance, 0));
    }

    100% {
        transform: translateX(var(--scroll-distance, 0));
    }
}

/* Pause animation on hover for better readability */
.item-name-scrolling:hover .item-name-scroll-text {
    animation-play-state: paused;
}

/* Quality colors matching RARITY_COLORS constant - improved readability */
.quality-poor {
    color: #6b5d4f !important;
    /* Darker brown-grey for better readability on beige */
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5) !important;
}

.quality-common {
    color: #f0e6d2 !important;
    /* Light beige for better contrast */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8), 0 0 4px rgba(0, 0, 0, 0.6) !important;
}

.quality-uncommon {
    color: #4a934a !important;
    /* Softer, more pleasant green */
    text-shadow:
        0 0 8px rgba(74, 147, 74, 0.6),
        0 1px 2px rgba(0, 0, 0, 0.8),
        0 2px 4px rgba(0, 0, 0, 0.6) !important;
    /* Better contrast on any background */
}

.quality-rare {
    color: #5b9bd5 !important;
    /* Softer, lighter blue */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8), 0 0 6px rgba(91, 155, 213, 0.5) !important;
}

.quality-epic {
    color: #b886db !important;
    /* Softer, lighter purple */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8), 0 0 6px rgba(184, 134, 219, 0.5) !important;
}

.quality-legendary {
    color: #ffaa44 !important;
    /* Softer orange */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8), 0 0 6px rgba(255, 170, 68, 0.5) !important;
}

.quality-artifact {
    color: #f0d890 !important;
    /* Softer, lighter gold */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8), 0 0 6px rgba(240, 216, 144, 0.5) !important;
}

.item-type,
.item-slot {
    color: #6b5230 !important;
    /* Rich brown - more readable on parchment */
    font-size: 16px !important;
    margin-bottom: 4px;
    letter-spacing: 0.2px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
}

.item-type span,
.item-slot span {
    font-size: 16px !important;
}

/* Override inline styles for item type/slot displays */
.item-tooltip>div[style*="color: #ffffff"],
.item-tooltip>div[style*="color:#ffffff"],
.item-tooltip div[style*="color: #ffffff"]:not(.item-name) {
    color: #8B4513 !important;
    /* Pathfinder brown-medium */
}

.item-armor {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 14px;
    margin: 8px 0;
    padding: 4px 0;
    border-top: 1px solid rgba(139, 69, 19, 0.4);
    border-bottom: 1px solid rgba(139, 69, 19, 0.4);
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 500;
}

/* Stats styling */
.item-stats {
    font-size: 14px;
    margin: 8px 0;
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.base-stat {
    color: #5a1e12 !important;
    /* Pathfinder brown-dark */
    display: block !important;
    margin: 2px 0 !important;
    font-family: 'Bookman Old Style', 'Garamond', serif !important;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3) !important;
    font-weight: 500 !important;
    margin-left: 0 !important;
    padding-left: 0 !important;
    text-align: left !important;
    width: 100% !important;
}

.item-tooltip .base-stat {
    text-align: left !important;
    margin-left: 0 !important;
    padding-left: 0 !important;
}

.combat-stat {
    color: #5a1e12 !important;
    /* Pathfinder brown-dark */
    display: block;
    margin: 4px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);
    font-weight: 600;
}

.damage-type {
    color: #8b0000 !important;
    /* Deep red for damage - Pathfinder style */
    font-weight: 600;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

/* Override inline styles for damage displays */
.item-tooltip div[style*="color: #ffffff"] span[style*="damage"] {
    color: #8b0000 !important;
}

/* Description styling - Auto-adjusts size based on content */
.item-description {
    color: #4a3728 !important;
    /* Darker warm brown for better visibility */
    font-size: 14px;
    font-style: italic;
    margin: 8px 0 0 0;
    /* Remove bottom margin to eliminate gap */
    line-height: 1.5;
    padding: 6px 0;
    /* Reduced padding for auto-sizing */
    border-top: 1px solid rgba(139, 69, 19, 0.3);
    font-family: 'Times New Roman', serif;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);
    /* Auto-sizing properties */
    min-height: auto;
    /* Allow natural height */
    max-height: none;
    /* No height restrictions */
    overflow: visible;
    /* Ensure content is visible */
    word-wrap: break-word;
    /* Handle long words */
    hyphens: auto;
    /* Better text wrapping */
}

/* Remove extra space when description is empty or very short */
.item-description:empty {
    display: none;
    /* Hide completely when empty */
}

/* Miscellaneous item specific styles */
.item-misc-info {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 15px;
    font-weight: 500;
    margin: 6px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-reagent-info {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-size: 14px;
    margin: 4px 0;
    line-height: 1.4;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-crafting-info {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 14px;
    margin: 4px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 500;
}

.item-trade-info {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-size: 14px;
    margin: 4px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-key-info {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 14px;
    margin: 4px 0;
    font-weight: 600;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-location-info {
    color: #a08c70;
    /* Pathfinder brown-light */
    font-size: 14px;
    font-style: italic;
    margin: 4px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-security-info {
    color: #d4af37;
    /* Pathfinder gold */
    font-size: 14px;
    margin: 4px 0;
    font-weight: 500;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

/* Reagent Item Specific Styles */
.item-reagent-type {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-size: 0.95em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 500;
}

.item-reagent-magic-type {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 0.95em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 500;
}

.item-reagent-state {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 0.9em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.reagent-details {
    margin: 4px 0;
    padding: 4px;
    border-left: 2px solid #8B4513;
    /* Pathfinder brown-medium */
    background-color: rgba(212, 175, 55, 0.15);
    /* Subtle gold tint */
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.reagent-detail-used-for,
.reagent-detail-quantity,
.reagent-detail-preservation {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 0.9em;
    margin: 2px 0;
    padding-left: 8px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-reagent-description {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-style: italic;
    font-size: 0.9em;
    margin: 4px 0;
    line-height: 1.2;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

/* Quest Items */
.item-quest-info {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 0.9em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 500;
}

.item-quest-chain {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-size: 0.9em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

/* Crafting Materials */
.item-crafting-type {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-size: 0.95em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 500;
}

.item-crafting-professions {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 0.9em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-crafting-method {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-size: 0.9em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-crafting-location {
    color: #a08c70;
    /* Pathfinder brown-light */
    font-size: 0.9em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-style: italic;
}

.item-crafting-recipes {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 0.9em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

/* Trade Goods */
.item-trade-category {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-size: 0.95em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 500;
}

.item-trade-origin {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 0.9em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-trade-demand {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-size: 0.9em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-trade-quality {
    color: #a08c70;
    /* Pathfinder brown-light */
    font-size: 0.9em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-style: italic;
}

/* Junk Items */
.item-junk-type {
    color: #a08c70;
    /* Pathfinder brown-light */
    font-size: 0.95em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-junk-condition {
    color: #a08c70;
    /* Pathfinder brown-light */
    font-size: 0.9em;
    margin: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-style: italic;
}

/* Junk details */
.junk-details-grid {
    margin: 12px 0;
    padding: 8px 12px;
    background: rgba(184, 150, 40, 0.15);
    /* Match other miscellaneous grids */
    border-radius: 4px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.junk-detail-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 3px 0;
    line-height: 1.3;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.junk-detail-label {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 14px;
    flex: 0 0 auto;
    margin-right: 16px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.item-junk-detail {
    color: #5a1e12;
    /* Darker brown for better visibility */
    font-size: 14px;
    flex: 1;
    text-align: right;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);
}

/* Common header styles */
.item-misc-header {
    font-size: 15px;
    font-weight: 600;
    margin-bottom: 8px;
    text-transform: capitalize;
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-family: 'Bookman Old Style', 'Garamond', serif;
    border-bottom: 1px solid rgba(139, 69, 19, 0.3);
    padding-bottom: 4px;
}

/* Detail grids */
.quest-details-grid,
.key-details-grid,
.crafting-details-grid,
.trade-details-grid {
    margin: 12px 0;
    padding: 8px 12px;
    background: rgba(184, 150, 40, 0.15);
    /* More visible Pathfinder parchment tint */
    border-radius: 4px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

/* Reagent details grid - unified with others */
.reagent-details-grid {
    margin: 12px 0;
    padding: 8px 12px;
    background: rgba(184, 150, 40, 0.15);
    /* Match other miscellaneous grids */
    border-radius: 4px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

/* Detail rows */
.quest-detail-row,
.key-detail-row,
.crafting-detail-row,
.trade-detail-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 3px 0;
    line-height: 1.3;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

/* Reagent detail rows - standardized with others */
.reagent-detail-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 3px 0;
    line-height: 1.3;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

/* Labels */
.quest-detail-label,
.key-detail-label {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 14px;
    flex: 0 0 auto;
    margin-right: 16px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

/* Reagent detail labels - standardized font size */
.reagent-detail-label {
    color: #5a1e12;
    /* Consistent with other labels */
    font-size: 14px;
    flex: 0 0 auto;
    margin-right: 16px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
}

.trade-detail-label {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 14px;
    flex: 0 0 auto;
    margin-right: 16px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.crafting-detail-label {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 14px;
    flex: 0 0 auto;
    margin-right: 16px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

/* Values */
.quest-detail-value {
    color: #5a1e12;
    /* Darker brown for better visibility */
    font-size: 14px;
    flex: 1;
    text-align: right;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);
}

.reagent-detail-value {
    color: #5a1e12;
    /* Consistent with other values */
    font-size: 14px;
    flex: 1;
    text-align: right;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);
}

.reagent-detail-value.magic-type {
    font-weight: 500;
}

.key-detail-value {
    color: #5a1e12;
    /* Darker brown for better visibility */
    font-size: 14px;
    flex: 1;
    text-align: right;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);
}

.crafting-detail-value {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 14px;
    flex: 1;
    text-align: right;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.trade-detail-value {
    color: #5a1e12;
    /* Darker brown for better visibility */
    font-size: 14px;
    flex: 1;
    text-align: right;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);
}

/* Magic type specific */
.magic-type {
    font-weight: 600;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    text-shadow:
        1px 1px 1px rgba(0, 0, 0, 0.8),
        0 0 4px rgba(255, 255, 255, 0.5);
    /* Dual shadow for readability on any bg */
}

/* Special styles */
.item-requirement {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 14px;
    margin: 4px 0;
    padding: 2px 6px;
    background: rgba(212, 175, 55, 0.15);
    /* Subtle gold tint */
    border-radius: 3px;
    display: inline-block;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 500;
}

.item-time-limit {
    color: #d4af37;
    /* Pathfinder gold */
    font-size: 14px;
    margin: 4px 0;
    padding: 2px 6px;
    background: rgba(212, 175, 55, 0.15);
    /* Subtle gold tint */
    border-radius: 3px;
    display: inline-block;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 500;
}

.item-warning {
    color: #8b0000;
    /* Deep red for warning */
    font-size: 15px;
    margin: 8px 0;
    padding: 6px 12px;
    background: rgba(255, 68, 68, 0.15);
    /* Subtle red tint */
    border: 1px solid rgba(139, 0, 0, 0.3);
    border-radius: 4px;
    display: inline-block;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 700;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.item-magical-properties,
.item-special-properties {
    font-style: italic;
    font-size: 14px;
    margin: 12px 0;
    padding: 8px 10px;
    background: rgba(184, 150, 40, 0.12);
    /* Subtle Pathfinder gold tint */
    border-radius: 4px;
    line-height: 1.4;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    color: #5a1e12;
    /* Darker brown for better visibility */
    border: 1px solid rgba(139, 69, 19, 0.2);
}

/* Merchant Notes - Parchment Note Style */
.item-merchant-notes {
    font-style: italic;
    font-size: 13px;
    margin: 12px 0;
    padding: 10px 12px;
    background: linear-gradient(145deg, #e8dcc6 0%, #d5cbb0 50%, #c9b89a 100%);
    border: 2px solid #8B4513;
    border-radius: 6px;
    line-height: 1.4;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    color: #2d1810;
    /* Dark brown/black text */
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.4),
        inset 0 -1px 0 rgba(139, 69, 19, 0.2),
        0 2px 4px rgba(0, 0, 0, 0.2);
    position: relative;
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
    box-sizing: border-box;
}

/* Add a subtle parchment texture effect */
.item-merchant-notes::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
        radial-gradient(circle at 20% 20%, rgba(139, 69, 19, 0.05) 1px, transparent 1px),
        radial-gradient(circle at 80% 80%, rgba(139, 69, 19, 0.05) 1px, transparent 1px),
        radial-gradient(circle at 40% 60%, rgba(139, 69, 19, 0.03) 1px, transparent 1px);
    background-size: 20px 20px, 25px 25px, 15px 15px;
    border-radius: 4px;
    pointer-events: none;
}

/* Special Instructions - Instruction Note Style */
.item-special-instructions {
    font-style: italic;
    font-size: 13px;
    margin: 12px 0;
    padding: 10px 12px;
    background: linear-gradient(145deg, #e8dcc6 0%, #d5cbb0 50%, #c4a373 100%);
    border: 2px solid #8b7355;
    border-radius: 6px;
    line-height: 1.4;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    color: #2d1810;
    /* Dark brown/black text */
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.4),
        inset 0 -1px 0 rgba(139, 69, 19, 0.3),
        0 2px 4px rgba(0, 0, 0, 0.2);
    position: relative;
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
    box-sizing: border-box;
}

/* Add a subtle aged paper texture effect */
.item-special-instructions::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
        radial-gradient(circle at 15% 25%, rgba(139, 69, 19, 0.08) 1px, transparent 1px),
        radial-gradient(circle at 85% 75%, rgba(139, 69, 19, 0.06) 1px, transparent 1px),
        radial-gradient(circle at 45% 55%, rgba(139, 69, 19, 0.04) 1px, transparent 1px);
    background-size: 18px 18px, 22px 22px, 12px 12px;
    border-radius: 4px;
    pointer-events: none;
}

.item-source-location,
.item-recipes {
    font-size: 14px;
    margin: 10px 0;
    padding: 2px 0;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    color: #a08c70;
    /* Pathfinder brown-light */
    font-style: italic;
}

/* Component property sections - unified with grids */
.reagent-details,
.key-details {
    margin: 12px 0;
    padding: 8px 12px;
    background-color: rgba(184, 150, 40, 0.15);
    /* Matched backdrops */
    font-family: 'Bookman Old Style', 'Garamond', serif;
    border-radius: 4px;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.item-key-detail,
.reagent-detail-used-for,
.reagent-detail-quantity,
.reagent-detail-preservation {
    display: flex;
    justify-content: space-between;
    margin: 2px 0;
    font-size: 0.9em;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-key-detail label,
.reagent-detail-used-for label,
.reagent-detail-quantity label,
.reagent-detail-preservation label {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    margin-right: 8px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 600;
}

.item-key-detail value,
.reagent-detail-used-for value,
.reagent-detail-quantity value,
.reagent-detail-preservation value {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-family: 'Bookman Old Style', 'Garamond', serif;
    text-align: right;
    font-weight: 500;
}

.item-key-type {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 15px;
    font-weight: 600;
    margin-bottom: 8px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}





.item-key-detail {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-size: 14px;
    flex: 1;
    text-align: right;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 500;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.item-key-warning {
    color: #5a1e12;
    /* Pathfinder brown-dark */
    font-size: 14px;
    font-weight: 500;
    margin-top: 8px;
    padding: 4px 8px;
    background: rgba(212, 175, 55, 0.15);
    /* Subtle gold tint */
    border-radius: 3px;
    text-align: center;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-key-instructions {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-size: 14px;
    font-style: italic;
    margin-top: 8px;
    padding-top: 8px;
    border-top: 1px solid rgba(139, 69, 19, 0.3);
    line-height: 1.4;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

/* Magic type color coding for reagents */
.reagent-magic-fire {
    color: #ff4500 !important;
    /* Orange-red for fire */
}

.reagent-magic-nature {
    color: #4a934a !important;
    /* Forest green for nature */
}

.reagent-magic-shadow {
    color: #8b008b !important;
    /* Dark magenta for shadow */
}

.reagent-magic-arcane {
    color: #0070dd !important;
    /* Blue for arcane */
}

.reagent-magic-holy {
    color: #ffd700 !important;
    /* Gold for holy */
}

.reagent-magic-frost {
    color: #00bfff !important;
    /* Deep sky blue for frost */
}

.item-key-unlocks {
    color: #8B4513;
    /* Pathfinder brown-medium */
    font-size: 14px;
    flex: 1;
    text-align: right;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-weight: 500;
}

.item-key-location {
    color: #a08c70;
    /* Pathfinder brown-light */
    font-size: 14px;
    flex: 1;
    text-align: right;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    font-style: italic;
}

.item-key-security {
    color: #d4af37;
    /* Pathfinder gold */
    font-size: 14px;
    font-weight: 600;
    flex: 1;
    text-align: right;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

/* Value display */
.item-value {
    color: #d4af37 !important;
    /* Pathfinder gold */
    font-size: 14px;
    margin-top: 8px;
    font-weight: 600;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* Currency number styling - ensure white with strong contrast */
.currency-number {
    color: #ffffff !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 1), 0 0 6px rgba(0, 0, 0, 0.8) !important;
    font-weight: 600 !important;
}

/* Force white on any number spans in value section */
.item-tooltip span.currency-number,
.item-tooltip .currency-number {
    color: #ffffff !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 1), 0 0 6px rgba(0, 0, 0, 0.8) !important;
}

/* Override inline white text colors throughout tooltip - use more specific selectors */
.item-tooltip>div>div[style*="color"]:not(.item-name):not([class*="quality-"]) {
    color: #5a1e12 !important;
    /* Pathfinder brown-dark */
}

/* Force background override - highest priority */
.item-tooltip[style] {
    background: linear-gradient(145deg,
            #f0ead6 0%,
            #e8dcc6 20%,
            #d5cbb0 50%,
            #c9b89a 80%,
            #d5cbb0 100%) !important;
}

.item-tooltip div[style*="color: rgb(255, 255, 255)"]:not(.item-name):not([class*="quality-"]) {
    color: #5a1e12 !important;
    /* Pathfinder brown-dark */
}

/* Override inline styles for stats and combat info - green stats should be brown */
.item-tooltip div[style*="color: rgb(30, 255, 0)"],
.item-tooltip div[style*="color: #1eff00"],
.item-tooltip div[style*="color: rgb(30, 255, 0)"] span,
.item-tooltip div[style*="color: #1eff00"] span {
    color: #5a1e12 !important;
    /* Pathfinder brown-dark for stats */
}

/* Override any remaining green text in stats sections */
.item-tooltip div:has(span[style*="#1eff00"]),
.item-tooltip div:has(span[style*="rgb(30, 255, 0)"]) {
    color: #5a1e12 !important;
}

/* Override gold/yellow colors to use Pathfinder gold */
.item-tooltip div[style*="color: rgb(255, 209, 0)"],
.item-tooltip div[style*="color: #ffd100"],
.item-tooltip div[style*="color: rgb(255, 215, 0)"],
.item-tooltip div[style*="color: #ffd700"],
.item-tooltip span[style*="color: #ffd700"],
.item-tooltip span[style*="color: rgb(255, 215, 0)"] {
    color: #d4af37 !important;
    /* Pathfinder gold */
}

/* Override damage type colors in weapon stats */
.item-tooltip div[style*="color"] span[style*="damage"] {
    color: #8b0000 !important;
    /* Deep red for damage */
}

/* Base stat and combat stat overrides */
.base-stat,
.combat-stat {
    color: #5a1e12 !important;
    /* Pathfinder brown-dark */
    text-align: left !important;
    margin-left: 0 !important;
    padding-left: 0 !important;
}

/* Force left alignment for all stat divs */
.item-tooltip>div>div.base-stat,
.item-tooltip>div>div.combat-stat,
.item-tooltip div.base-stat,
.item-tooltip div.combat-stat {
    text-align: left !important;
    margin-left: 0 !important;
    padding-left: 0 !important;
    display: block !important;
}

/* Item type and slot wrapper - target the flex containers */
.item-tooltip>div[style*="display: flex"][style*="justifyContent: space-between"] {
    color: #6b5230 !important;
    /* Rich brown */
}

.item-tooltip>div[style*="display: flex"][style*="justifyContent: space-between"] span {
    color: #6b5230 !important;
    /* Rich brown */
}

.item-subtype {
    color: #a08c70;
    /* Pathfinder brown-light */
    font-size: 14px;
    margin-bottom: 4px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.item-tooltip-wrapper {
    pointer-events: none;
}

.item-tooltip hr {
    border: none;
    border-top: 1px solid rgba(139, 69, 19, 0.4);
    margin: 8px 0;
}

/* Magic type colors */
.magic-type[data-magic="fire"] {
    color: #ff4400;
}

.magic-type[data-magic="cold"] {
    color: #3399ff;
}

.magic-type[data-magic="lightning"] {
    color: #ffff00;
}

.magic-type[data-magic="acid"] {
    color: #00ff00;
}

.magic-type[data-magic="force"] {
    color: #ff66ff;
}

.magic-type[data-magic="necrotic"] {
    color: #4B0082;
    text-shadow:
        0 0 2px rgba(255, 255, 255, 0.8),
        0 0 4px rgba(255, 255, 255, 0.6),
        0 0 6px rgba(255, 255, 255, 0.4),
        1px 1px 0px rgba(255, 255, 255, 0.8),
        -1px -1px 0px rgba(255, 255, 255, 0.8),
        1px -1px 0px rgba(255, 255, 255, 0.8),
        -1px 1px 0px rgba(255, 255, 255, 0.8);
}

.magic-type[data-magic="radiant"] {
    color: #FFFACD;
}

.magic-type[data-magic="poison"] {
    color: #008000;
}

.magic-type[data-magic="psychic"] {
    color: #FF00FF;
}

.magic-type[data-magic="thunder"] {
    color: #0066ff;
}

/* Recipe-specific tooltip styles - unified with other grids */
.recipe-details-grid {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 4px 8px;
    margin: 12px 0;
    padding: 8px 12px;
    background: rgba(184, 150, 40, 0.2);
    /* Slightly stronger for recipes */
    border-radius: 4px;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.recipe-detail-row {
    display: contents;
}

.recipe-detail-label {
    color: #ffd100;
    font-weight: bold;
    font-size: 12px;
}

.item-recipe-detail {
    color: #ffffff;
    font-size: 12px;
}

.recipe-description {
    color: #ffd100 !important;
    font-style: italic;
    margin: 6px 0;
}

.recipe-section-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent 0%, #8b4513 20%, #a0522d 50%, #8b4513 80%, transparent 100%);
    margin: 8px 0;
    opacity: 0.6;
}

.recipe-result-section {
    margin: 8px 0;
}

.recipe-result-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 2px 0;
}

.recipe-result-label {
    color: #ffd100;
    font-weight: bold;
    font-size: 12px;
}

.item-recipe-result {
    font-weight: bold;
    font-size: 13px;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
}

.item-recipe-effect {
    color: #00ff00;
    font-style: italic;
    font-size: 11px;
}

.recipe-materials-section {
    margin: 8px 0;
}

.recipe-materials-header {
    color: #ffd100;
    font-weight: bold;
    font-size: 13px;
    margin-bottom: 4px;
}

.recipe-material-row {
    margin: 2px 0;
    padding: 1px 0;
    font-size: 12px;
    line-height: 1.3;
}

.recipe-material-name {
    font-weight: normal;
    font-size: 12px;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
}

.recipe-material-quantity {
    color: #ffffff;
    font-size: 12px;
}