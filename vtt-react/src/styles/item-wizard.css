/* ===== PATHFINDER-INSPIRED ITEM WIZARD STYLES ===== */

/* Import Pathfinder variables */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap');

/* Core Pathfinder variables for item wizard */
:root {
  --pf-parchment-light: #f8f4e6;
  --pf-parchment: #ede4d3;
  --pf-parchment-dark: #e8dcc6;
  --pf-brown-darkest: #2d1810;
  --pf-brown-dark: #5a1e12;
  --pf-brown-medium: #8B4513;
  --pf-brown-light: #a08c70;
  --pf-brown-lighter: #c4a373;
  --pf-gold: #d4af37;
  --pf-gold-light: #f4d03f;
  --pf-gold-dark: #b8860b;
  --pf-text-primary: #2d1810;
  --pf-text-secondary: #5a1e12;
  --pf-text-muted: #8B4513;
  --pf-text-on-dark: #f8f4e6;
  --pf-gradient-parchment: linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%);
  --pf-gradient-header: linear-gradient(135deg, #c4a373 0%, #a08c70 50%, #8b7355 100%);
  --pf-gradient-button: linear-gradient(145deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%);
  --pf-space-1: 4px;
  --pf-space-2: 8px;
  --pf-space-3: 12px;
  --pf-space-4: 16px;
  --pf-space-5: 20px;
  --pf-space-6: 24px;
  --pf-border-radius: 8px;
  --pf-border-radius-lg: 12px;
  --pf-border-width: 2px;
  --pf-border-width-thick: 3px;
  --pf-shadow-parchment: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 2px 0 rgba(255, 255, 255, 0.7), inset 0 -2px 0 rgba(139, 69, 19, 0.2), 0 0 0 1px rgba(139, 69, 19, 0.3), 0 0 20px rgba(139, 69, 19, 0.15);
  --pf-font-display: 'Cinzel', 'Times New Roman', serif;
  --pf-font-body: 'Crimson Text', serif;
  --pf-text-sm: 12px;
  --pf-text-base: 14px;
  --pf-text-lg: 16px;
  --pf-text-xl: 18px;
  --pf-font-bold: 600;
  --pf-transition-normal: 0.25s ease;
}

/* ===== GLOBAL DARK THEME OVERRIDES ===== */
/* Replace all dark backgrounds with Pathfinder parchment theme */
.item-wizard-modal *[style*="background: rgba(0, 0, 0"],
.item-wizard-modal *[style*="background-color: rgba(0, 0, 0"],
.item-wizard-modal *[style*="background: #1a1a1a"],
.item-wizard-modal *[style*="background: #2a2a2a"],
.item-wizard-modal *[style*="background-color: #1a1a1a"],
.item-wizard-modal *[style*="background-color: #2a2a2a"] {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    color: var(--pf-text-primary) !important;
}

/* Replace all white text with Pathfinder text colors */
.item-wizard-modal *[style*="color: #fff"],
.item-wizard-modal *[style*="color: white"],
.item-wizard-modal *[style*="color: #ffffff"] {
    color: var(--pf-text-primary) !important;
}

/* Force all stat buttons to have black text */
.item-wizard-modal .stat-button,
.item-wizard-modal .stat-button:hover,
.item-wizard-modal .stat-button:active,
.item-wizard-modal .stat-button:focus,
.item-wizard-modal button.stat-button,
.item-wizard-modal button.stat-button:hover,
.item-wizard-modal button.stat-button:active,
.item-wizard-modal button.stat-button:focus {
    color: #000000 !important;
    text-shadow: none !important;
}

/* ===== COMPREHENSIVE DARK THEME OVERRIDES ===== */
/* Override common dark background patterns */
.item-wizard-modal .spell-wizard-card,
.item-wizard-modal .stat-item,
.item-wizard-modal .property-item,
.item-wizard-modal .resistance-item,
.item-wizard-modal .size-button,
.item-wizard-modal .quality-option,
.item-wizard-modal .type-button,
.item-wizard-modal .category-button,
.item-wizard-modal .slot-button,
.item-wizard-modal .damage-type-button,
.item-wizard-modal .magic-type-button,
.item-wizard-modal .preservation-button,
.item-wizard-modal .level-button,
.item-wizard-modal .time-button,
.item-wizard-modal .stat-button,
.item-wizard-modal .threshold-button,
.item-wizard-modal .coin-count-button {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    color: var(--pf-text-primary) !important;
    border-radius: 8px !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1) !important;
    font-family: 'Cinzel', serif !important;
}

/* Override hover states */
.item-wizard-modal .spell-wizard-card:hover,
.item-wizard-modal .stat-item:hover,
.item-wizard-modal .property-item:hover,
.item-wizard-modal .resistance-item:hover,
.item-wizard-modal .size-button:hover,
.item-wizard-modal .quality-option:hover,
.item-wizard-modal .type-button:hover,
.item-wizard-modal .category-button:hover,
.item-wizard-modal .slot-button:hover,
.item-wizard-modal .damage-type-button:hover,
.item-wizard-modal .magic-type-button:hover,
.item-wizard-modal .preservation-button:hover,
.item-wizard-modal .level-button:hover,
.item-wizard-modal .time-button:hover,
.item-wizard-modal .stat-button:hover,
.item-wizard-modal .threshold-button:hover,
.item-wizard-modal .coin-count-button:hover {
    background: linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%) !important;
    border-color: var(--pf-gold) !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1),
        0 0 8px rgba(212, 175, 55, 0.3) !important;
}

/* Override selected states */
.item-wizard-modal .spell-wizard-card.selected,
.item-wizard-modal .stat-item.selected,
.item-wizard-modal .property-item.selected,
.item-wizard-modal .resistance-item.selected,
.item-wizard-modal .size-button.selected,
.item-wizard-modal .quality-option.selected,
.item-wizard-modal .type-button.selected,
.item-wizard-modal .category-button.selected,
.item-wizard-modal .slot-button.selected,
.item-wizard-modal .damage-type-button.selected,
.item-wizard-modal .magic-type-button.selected,
.item-wizard-modal .preservation-button.selected,
.item-wizard-modal .level-button.selected,
.item-wizard-modal .time-button.selected,
.item-wizard-modal .stat-button.selected {
    background: linear-gradient(145deg, var(--pf-gold-light) 0%, var(--pf-gold) 50%, var(--pf-gold-dark) 100%) !important;
    border-color: var(--pf-gold-dark) !important;
    color: var(--pf-brown-darkest) !important;
    box-shadow:
        inset 0 2px 4px rgba(212, 175, 55, 0.2),
        0 2px 4px rgba(0, 0, 0, 0.2),
        0 0 12px rgba(212, 175, 55, 0.4) !important;
}

/* Override section backgrounds */
.item-wizard-modal .weapon-stats-section,
.item-wizard-modal .carrying-capacity-section,
.item-wizard-modal .duration-section,
.item-wizard-modal .effects-section,
.item-wizard-modal .chance-on-being-hit-section,
.item-wizard-modal .wow-setting-section,
.item-wizard-modal .spell-damage-section,
.item-wizard-modal .damage-properties-section,
.item-wizard-modal .preview-section,
.item-wizard-modal .review-section,
.item-wizard-modal .property-section {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 12px !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

/* Override input fields */
.item-wizard-modal input,
.item-wizard-modal select,
.item-wizard-modal textarea,
.item-wizard-modal .wow-input,
.item-wizard-modal .stat-input,
.item-wizard-modal .damage-roll-input,
.item-wizard-modal .damage-type-select,
.item-wizard-modal .wow-select {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    color: var(--pf-text-primary) !important;
    border-radius: 8px !important;
    font-family: 'Crimson Text', serif !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

.item-wizard-modal input:focus,
.item-wizard-modal select:focus,
.item-wizard-modal textarea:focus,
.item-wizard-modal .wow-input:focus,
.item-wizard-modal .stat-input:focus,
.item-wizard-modal .damage-roll-input:focus,
.item-wizard-modal .damage-type-select:focus,
.item-wizard-modal .wow-select:focus {
    border-color: var(--pf-gold) !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1),
        0 0 12px rgba(212, 175, 55, 0.3) !important;
    outline: none !important;
}

/* Override text colors */
.item-wizard-modal h1,
.item-wizard-modal h2,
.item-wizard-modal h3,
.item-wizard-modal h4,
.item-wizard-modal h5,
.item-wizard-modal h6,
.item-wizard-modal label,
.item-wizard-modal .wow-section-header,
.item-wizard-modal .wizard-title {
    color: var(--pf-text-primary) !important;
    font-family: 'Cinzel', serif !important;
}

/* Override specific white text elements */
.item-wizard-modal .selected-spell-name,
.item-wizard-modal .resistance-label,
.item-wizard-modal .stat-label,
.item-wizard-modal .wow-option-text {
    color: var(--pf-text-primary) !important;
}

/* ===== COMPREHENSIVE DARK BACKGROUND OVERRIDES ===== */
/* Override ALL remaining dark backgrounds with Pathfinder theme */
.item-wizard-modal *[style*="background: rgba(0, 0, 0"],
.item-wizard-modal *[style*="background-color: rgba(0, 0, 0"],
.item-wizard-modal .spell-wizard-card,
.item-wizard-modal .stat-item,
.item-wizard-modal .property-item,
.item-wizard-modal .resistance-item,
.item-wizard-modal .size-button,
.item-wizard-modal .quality-option,
.item-wizard-modal .type-button,
.item-wizard-modal .category-button,
.item-wizard-modal .slot-button,
.item-wizard-modal .damage-type-button,
.item-wizard-modal .magic-type-button,
.item-wizard-modal .preservation-button,
.item-wizard-modal .level-button,
.item-wizard-modal .time-button,
.item-wizard-modal .stat-button,
.item-wizard-modal .threshold-button,
.item-wizard-modal .coin-count-button,
.item-wizard-modal .wizard-button,
.item-wizard-modal .nav-button,
.item-wizard-modal .spell-damage-section,
.item-wizard-modal .damage-properties-section,
.item-wizard-modal .preview-section,
.item-wizard-modal .review-section,
.item-wizard-modal .property-section,
.item-wizard-modal .resistance-section,
.item-wizard-modal .carrying-capacity-section,
.item-wizard-modal .duration-section,
.item-wizard-modal .effects-section,
.item-wizard-modal .chance-on-being-hit-section,
.item-wizard-modal .wow-setting-section,
.item-wizard-modal .gathering-requirements,
.item-wizard-modal .wow-icon-category,
.item-wizard-modal .wow-custom-url-section,
.item-wizard-modal .currency-type-display,
.item-wizard-modal .damage-section,
.item-wizard-modal .dice-input-group,
.item-wizard-modal .bonus-input-group,
.item-wizard-modal .dimension-group,
.item-wizard-modal .slots-input,
.item-wizard-modal .quantity-button {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    color: var(--pf-text-primary) !important;
    border-radius: 8px !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* Override ALL hover states */
.item-wizard-modal .spell-wizard-card:hover,
.item-wizard-modal .stat-item:hover,
.item-wizard-modal .property-item:hover,
.item-wizard-modal .resistance-item:hover,
.item-wizard-modal .size-button:hover,
.item-wizard-modal .quality-option:hover,
.item-wizard-modal .type-button:hover,
.item-wizard-modal .category-button:hover,
.item-wizard-modal .slot-button:hover,
.item-wizard-modal .damage-type-button:hover,
.item-wizard-modal .magic-type-button:hover,
.item-wizard-modal .preservation-button:hover,
.item-wizard-modal .level-button:hover,
.item-wizard-modal .time-button:hover,
.item-wizard-modal .stat-button:hover,
.item-wizard-modal .threshold-button:hover,
.item-wizard-modal .coin-count-button:hover,
.item-wizard-modal .wizard-button:hover,
.item-wizard-modal .nav-button:hover,
.item-wizard-modal .quantity-button:hover {
    background: linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%) !important;
    border-color: var(--pf-gold) !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1),
        0 0 8px rgba(212, 175, 55, 0.3) !important;
}

/* ===== FINAL COMPREHENSIVE OVERRIDES ===== */
/* Ensure ALL wizard headers and footers use Pathfinder parchment theme like recipe wizard */
.item-wizard-modal .wizard-header,
.item-wizard-modal .wizard-footer {
    background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
    color: var(--pf-text-primary, #2d1810) !important;
    font-family: 'Cinzel', 'Times New Roman', serif !important;
    box-shadow:
        0 4px 12px rgba(0, 0, 0, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.5),
        inset 0 -1px 0 rgba(139, 69, 19, 0.2) !important;
}

.item-wizard-modal .wizard-header {
    border-bottom: 3px solid var(--pf-brown-light, #a08c70) !important;
}

.item-wizard-modal .wizard-footer {
    border-top: 3px solid var(--pf-brown-light, #a08c70) !important;
}

.item-wizard-modal .wizard-header h2,
.item-wizard-modal .wizard-header h3,
.item-wizard-modal .wizard-header h4 {
    color: var(--pf-text-primary, #2d1810) !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5) !important;
    font-family: 'Cinzel', 'Times New Roman', serif !important;
}

/* ===== ITEM WIZARD CONTAINER ===== */

.item-wizard-modal.spellbook-wizard-layout {
  background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
  border: 3px solid var(--pf-brown-light, #a08c70) !important;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.7),
    inset 0 -2px 0 rgba(139, 69, 19, 0.2),
    0 0 0 1px rgba(139, 69, 19, 0.3),
    0 0 20px rgba(139, 69, 19, 0.15) !important;
  font-family: 'Cinzel', 'Times New Roman', serif !important;
  color: var(--pf-text-primary, #2d1810) !important;
  overflow: hidden !important;
  width: 800px !important;
  max-height: 90vh !important;
  min-height: 700px !important;
  height: 700px !important;
}

/* ===== SINGLE COLUMN LAYOUT (Preview is now external) ===== */

.item-wizard-content {
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  overflow: hidden !important;
  position: relative !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Subtle parchment texture overlay like recipe wizard */
.item-wizard-content.spellbook-wizard-layout::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  background:
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 4px,
      rgba(139, 69, 19, 0.02) 4px,
      rgba(139, 69, 19, 0.02) 8px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 6px,
      rgba(139, 69, 19, 0.01) 6px,
      rgba(139, 69, 19, 0.01) 12px
    ) !important;
  pointer-events: none !important;
  z-index: 1 !important;
}

.item-wizard-content.spellbook-wizard-layout > * {
  position: relative !important;
  z-index: 2 !important;
}

/* Main content area with proper scrolling - ENHANCED */
.item-wizard-modal .wizard-main-content {
  flex: 1 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding: var(--pf-space-4, 16px) !important;
  padding-bottom: var(--pf-space-4, 16px) !important; /* Normal padding */
  background: transparent !important;
  min-height: 0 !important; /* Important for flex scrolling */
  max-height: calc(100% - 160px) !important; /* Account for header and footer */
}

/* Custom scrollbar for main content */
.item-wizard-modal .wizard-main-content::-webkit-scrollbar {
  width: 8px !important;
}

.item-wizard-modal .wizard-main-content::-webkit-scrollbar-track {
  background: var(--pf-parchment-dark, #e8dcc6) !important;
  border-radius: 4px !important;
}

.item-wizard-modal .wizard-main-content::-webkit-scrollbar-thumb {
  background: var(--pf-brown-light, #a08c70) !important;
  border-radius: 4px !important;
  transition: background 0.3s ease !important;
}

.item-wizard-modal .wizard-main-content::-webkit-scrollbar-thumb:hover {
  background: var(--pf-brown-medium, #8B4513) !important;
}

/* ===== WIZARD HEADER ===== */

.item-wizard-modal .wizard-header {
  background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
  border-bottom: 3px solid var(--pf-brown-light, #a08c70) !important;
  padding: var(--pf-space-4, 16px) var(--pf-space-5, 20px) !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.7),
    inset 0 -2px 0 rgba(139, 69, 19, 0.2),
    0 0 0 1px rgba(139, 69, 19, 0.3),
    0 0 20px rgba(139, 69, 19, 0.15) !important;
  position: relative !important;
  z-index: 10 !important;
  flex-shrink: 0 !important;
  cursor: grab !important;
  user-select: none !important;
}

.item-wizard-modal .wizard-header:active {
  cursor: grabbing !important;
}

.item-wizard-modal .wizard-header h2 {
  font-family: var(--pf-font-display, 'Cinzel', serif) !important;
  font-size: var(--pf-text-xl, 20px) !important;
  font-weight: var(--pf-font-bold, 700) !important;
  color: var(--pf-brown-darkest, #2d1810) !important;
  text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.8) !important;
  margin: 0 !important;
  letter-spacing: 0.5px !important;
  text-transform: uppercase !important;
}

.item-wizard-modal .wizard-header .close-button {
  background: var(--pf-gradient-button, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%)) !important;
  border: 2px solid var(--pf-brown-medium, #8B4513) !important;
  border-radius: var(--pf-border-radius, 8px) !important;
  color: var(--pf-text-primary, #2d1810) !important;
  font-family: var(--pf-font-display, 'Cinzel', serif) !important;
  font-size: 18px !important;
  font-weight: bold !important;
  width: 32px !important;
  height: 32px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: all var(--pf-transition-normal, 0.25s ease) !important;
  box-shadow:
    inset 0 2px 4px rgba(139, 69, 19, 0.1),
    0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

.item-wizard-modal .wizard-header .close-button:hover {
  background: var(--pf-gradient-button-hover, linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%)) !important;
  transform: translateY(-1px) !important;
  box-shadow:
    inset 0 2px 4px rgba(139, 69, 19, 0.15),
    0 4px 8px rgba(0, 0, 0, 0.15) !important;
}

/* ===== WIZARD FOOTER - ENHANCED PATHFINDER STYLING ===== */

.item-wizard-modal .wizard-footer {
  background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
  border-top: 3px solid var(--pf-brown-light, #a08c70) !important;
  padding: var(--pf-space-3, 12px) var(--pf-space-4, 16px) !important;
  box-shadow:
    0 -4px 12px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(139, 69, 19, 0.2) !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  flex-shrink: 0 !important;
  min-height: auto !important;
}

.item-wizard-modal .wizard-nav-controls {
  display: flex !important;
  gap: var(--pf-space-4, 16px) !important;
  width: 100% !important;
  justify-content: space-between !important;
}

.item-wizard-modal .wizard-nav-btn {
  background: var(--pf-gradient-gold, linear-gradient(145deg, #f4d03f 0%, #d4af37 50%, #b8860b 100%)) !important;
  border: 2px solid var(--pf-gold-dark, #b8860b) !important;
  border-radius: var(--pf-border-radius, 8px) !important;
  color: var(--pf-brown-darkest, #2d1810) !important;
  font-family: var(--pf-font-display, 'Cinzel', serif) !important;
  font-size: var(--pf-text-base, 14px) !important;
  font-weight: var(--pf-font-bold, 700) !important;
  padding: var(--pf-space-3, 12px) var(--pf-space-5, 20px) !important;
  cursor: pointer !important;
  transition: all var(--pf-transition-normal, 0.25s ease) !important;
  box-shadow:
    inset 0 2px 4px rgba(255, 255, 255, 0.4),
    0 4px 8px rgba(0, 0, 0, 0.2) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
  text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5) !important;
  min-width: 120px !important;
}

.item-wizard-modal .wizard-nav-btn:hover:not(:disabled) {
  background: var(--pf-gold-light, #f4d03f) !important;
  transform: translateY(-1px) !important;
  box-shadow:
    inset 0 2px 4px rgba(255, 255, 255, 0.6),
    0 6px 12px rgba(0, 0, 0, 0.25) !important;
}

.item-wizard-modal .wizard-nav-btn:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
  transform: none !important;
}

.item-wizard-modal .wizard-nav-create {
  background: var(--pf-gradient-gold, linear-gradient(145deg, #f4d03f 0%, #d4af37 50%, #b8860b 100%)) !important;
  border-color: var(--pf-gold-dark, #b8860b) !important;
  color: var(--pf-brown-darkest, #2d1810) !important;
  box-shadow:
    inset 0 2px 4px rgba(255, 255, 255, 0.5),
    0 4px 8px rgba(0, 0, 0, 0.2),
    0 0 12px rgba(212, 175, 55, 0.4) !important;
}

.item-wizard-modal .wizard-nav-create:hover {
  background: linear-gradient(145deg, #f4d03f 0%, #e6c547 50%, #d4af37 100%) !important;
  box-shadow:
    inset 0 2px 4px rgba(255, 255, 255, 0.6),
    0 6px 12px rgba(0, 0, 0, 0.3),
    0 0 16px rgba(212, 175, 55, 0.6) !important;
}

/* ===== ENHANCED FORM STYLING - RECIPE WIZARD STYLE ===== */

.item-wizard-modal .spell-wizard-form {
  padding: 0 !important;
  background: transparent !important;
  max-width: none !important;
  width: 100% !important;
  display: flex !important;
  flex-direction: column !important;
  gap: var(--pf-space-4, 16px) !important;
  border: none !important;
}

.item-wizard-modal .wizard-step {
  background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
  border: 2px solid var(--pf-brown-light) !important;
  border-radius: 12px !important;
  padding: var(--pf-space-6, 24px) !important;
  margin: 0 !important;
  margin-bottom: 16px !important;
  flex: 1 !important;
  overflow-y: visible !important; /* Allow content to flow naturally */
  overflow-x: hidden !important;
  min-height: 400px !important; /* Ensure minimum height for content */
  max-height: none !important; /* Remove height restrictions */
  height: auto !important; /* Allow natural height expansion */
  position: relative !important;
  z-index: 1 !important;
  width: 100% !important;
  max-width: 100% !important;
  box-shadow: 0 4px 8px rgba(139, 69, 19, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

.item-wizard-modal .wizard-step h3 {
  font-family: var(--pf-font-display, 'Cinzel', serif) !important;
  font-size: var(--pf-text-lg, 16px) !important;
  font-weight: var(--pf-font-bold, 600) !important;
  color: var(--pf-text-primary, #2d1810) !important;
  margin: 0 0 var(--pf-space-4, 16px) 0 !important;
  text-align: center !important;
  text-transform: uppercase !important;
  letter-spacing: 1px !important;
  border-bottom: 2px solid var(--pf-brown-medium, #8B4513) !important;
  padding-bottom: var(--pf-space-2, 8px) !important;
}

/* Remove step titles since we have navigation */
.item-wizard-modal .wizard-step h3 {
  display: none !important; /* Hide duplicate titles since we have step navigation */
}

/* Enhanced form groups and inputs - Recipe wizard style */
.item-wizard-modal .form-group {
  margin-bottom: var(--pf-space-6, 24px) !important;
  width: 100% !important;
}

.item-wizard-modal .form-group:last-child {
  margin-bottom: var(--pf-space-8, 32px) !important;
}

.item-wizard-modal .spell-wizard-form-group {
  margin-bottom: var(--pf-space-3, 12px) !important;
  width: 100% !important;
}

/* Two-column layout for basic info like recipe wizard */
.item-wizard-modal .form-row {
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  gap: var(--pf-space-4, 16px) !important;
  width: 100% !important;
}

.item-wizard-modal .form-row .form-group,
.item-wizard-modal .form-row .spell-wizard-form-group {
  margin-bottom: 0 !important;
}

/* Removed duplicate .item-wizard-modal .form-group label - using consolidated styles */

.item-wizard-modal input[type="text"],
.item-wizard-modal input[type="number"],
.item-wizard-modal textarea,
.item-wizard-modal select {
  width: 100% !important;
  padding: var(--pf-space-3, 12px) !important;
  background: var(--pf-gradient-button, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%)) !important;
  border: 2px solid var(--pf-brown-light, #a08c70) !important;
  border-radius: var(--pf-border-radius, 8px) !important;
  font-family: var(--pf-font-body, 'Crimson Text', serif) !important;
  font-size: var(--pf-text-base, 14px) !important;
  color: var(--pf-text-primary, #2d1810) !important;
  transition: all var(--pf-transition-normal, 0.25s ease) !important;
  box-shadow:
    inset 0 2px 4px rgba(139, 69, 19, 0.1),
    0 1px 2px rgba(0, 0, 0, 0.05) !important;
}

.item-wizard-modal input[type="text"]:focus,
.item-wizard-modal input[type="number"]:focus,
.item-wizard-modal textarea:focus,
.item-wizard-modal select:focus {
  outline: none !important;
  border-color: var(--pf-brown-medium, #8B4513) !important;
  box-shadow:
    inset 0 2px 4px rgba(139, 69, 19, 0.15),
    0 0 0 3px rgba(139, 69, 19, 0.2),
    0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* ===== ITEM TYPE GRID ===== */

.item-wizard-modal .item-type-grid {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)) !important;
  gap: var(--pf-space-3, 12px) !important;
  margin-top: var(--pf-space-3, 12px) !important;
}

.item-wizard-modal .type-button {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  padding: var(--pf-space-4, 16px) !important;
  background: var(--pf-gradient-button, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%)) !important;
  border: 2px solid var(--pf-brown-medium, #8B4513) !important;
  border-radius: var(--pf-border-radius, 8px) !important;
  cursor: pointer !important;
  transition: all var(--pf-transition-normal, 0.25s ease) !important;
  box-shadow:
    inset 0 2px 4px rgba(139, 69, 19, 0.1),
    0 2px 4px rgba(0, 0, 0, 0.1) !important;
  min-height: 100px !important;
}

.item-wizard-modal .type-button:hover {
  background: var(--pf-gradient-button-hover, linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%)) !important;
  transform: translateY(-2px) !important;
  box-shadow:
    inset 0 2px 4px rgba(139, 69, 19, 0.15),
    0 4px 8px rgba(0, 0, 0, 0.15) !important;
}

.item-wizard-modal .type-button.selected {
  background: var(--pf-gradient-gold, linear-gradient(145deg, #f4d03f 0%, #d4af37 50%, #b8860b 100%)) !important;
  border-color: var(--pf-gold-dark, #b8860b) !important;
  color: var(--pf-brown-darkest, #2d1810) !important;
  transform: translateY(-2px) !important;
  box-shadow:
    inset 0 2px 4px rgba(184, 134, 11, 0.2),
    0 4px 12px rgba(212, 175, 55, 0.3) !important;
}

.item-wizard-modal .type-button img {
  width: 48px !important;
  height: 48px !important;
  margin-bottom: var(--pf-space-2, 8px) !important;
  border-radius: var(--pf-border-radius, 8px) !important;
  border: 1px solid var(--pf-brown-light, #a08c70) !important;
}

.item-wizard-modal .type-button span {
  font-family: var(--pf-font-display, 'Cinzel', serif) !important;
  font-size: var(--pf-text-base, 14px) !important;
  font-weight: var(--pf-font-bold, 600) !important;
  color: var(--pf-text-primary, #2d1810) !important;
  text-align: center !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
}

/* ===== RESISTANCE SECTION ===== */

.item-wizard-modal .resistance-section {
  margin-top: var(--pf-space-4, 16px) !important;
}

.item-wizard-modal .resistance-section h4 {
  font-family: var(--pf-font-display, 'Cinzel', serif) !important;
  font-size: var(--pf-text-lg, 16px) !important;
  font-weight: var(--pf-font-bold, 600) !important;
  color: var(--pf-text-primary, #2d1810) !important;
  margin-bottom: var(--pf-space-3, 12px) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
}

.item-wizard-modal .resistance-grid {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
  gap: var(--pf-space-3, 12px) !important;
}

.item-wizard-modal .resistance-item {
  background: var(--pf-gradient-button, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%)) !important;
  border: 2px solid var(--pf-brown-medium, #8B4513) !important;
  border-radius: var(--pf-border-radius, 8px) !important;
  padding: var(--pf-space-3, 12px) !important;
  box-shadow:
    inset 0 2px 4px rgba(139, 69, 19, 0.1),
    0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

.item-wizard-modal .resistance-header {
  display: flex !important;
  align-items: center !important;
  margin-bottom: var(--pf-space-2, 8px) !important;
}

.item-wizard-modal .resistance-icon {
  width: 24px !important;
  height: 24px !important;
  margin-right: var(--pf-space-2, 8px) !important;
  border-radius: 4px !important;
  border: 1px solid var(--pf-brown-light, #a08c70) !important;
}

.item-wizard-modal .resistance-label {
  font-family: var(--pf-font-display, 'Cinzel', serif) !important;
  font-size: var(--pf-text-base, 14px) !important;
  font-weight: var(--pf-font-bold, 600) !important;
  color: var(--pf-text-primary, #2d1810) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
}

.item-wizard-modal .resistance-select {
  width: 100% !important;
  padding: var(--pf-space-2, 8px) !important;
  background: var(--pf-gradient-button, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%)) !important;
  border: 2px solid var(--pf-brown-medium, #8B4513) !important;
  border-radius: var(--pf-border-radius, 8px) !important;
  font-family: var(--pf-font-body, 'Crimson Text', serif) !important;
  font-size: var(--pf-text-base, 14px) !important;
  font-weight: var(--pf-font-bold, 600) !important;
  cursor: pointer !important;
  transition: all var(--pf-transition-normal, 0.25s ease) !important;
  box-shadow: inset 0 2px 4px rgba(139, 69, 19, 0.1) !important;
}

.item-wizard-modal .resistance-select:focus {
  outline: none !important;
  border-color: var(--pf-gold, #d4af37) !important;
  box-shadow:
    inset 0 2px 4px rgba(139, 69, 19, 0.15),
    0 0 0 3px rgba(212, 175, 55, 0.2) !important;
}

.item-wizard-modal .resistance-description {
  margin-top: var(--pf-space-2, 8px) !important;
  font-family: var(--pf-font-body, 'Crimson Text', serif) !important;
  font-size: var(--pf-text-sm, 12px) !important;
  color: var(--pf-text-secondary, #5a1e12) !important;
  font-style: italic !important;
  text-align: center !important;
}

.item-wizard-modal .wizard-content {
    flex: 1 !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    max-height: calc(90vh - 120px) !important;
    padding-bottom: var(--pf-space-4, 16px) !important; /* Normal padding */
    scrollbar-width: thin !important;
    scrollbar-color: var(--pf-brown-medium) var(--pf-brown-light) !important;
}

/* Override ALL remaining dark backgrounds */
.item-wizard-modal *[style*="background: #1a1a1a"],
.item-wizard-modal *[style*="background: #2a2a2a"],
.item-wizard-modal *[style*="background: #333"],
.item-wizard-modal *[style*="background-color: #1a1a1a"],
.item-wizard-modal *[style*="background-color: #2a2a2a"],
.item-wizard-modal *[style*="background-color: #333"],
.item-wizard-modal .type-button,
.item-wizard-modal .category-button,
.item-wizard-modal .slot-option,
.item-wizard-modal .subtype-option,
.item-wizard-modal .hand-option,
.item-wizard-modal .quality-option,
.item-wizard-modal .wow-input,
.item-wizard-modal .form-group input,
.item-wizard-modal .form-group select,
.item-wizard-modal .form-group textarea {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    color: var(--pf-text-primary) !important;
}

/* Ensure all scrollbars use Pathfinder theme */
.item-wizard-modal *::-webkit-scrollbar {
    width: 8px !important;
    background: var(--pf-brown-light) !important;
}

.item-wizard-modal *::-webkit-scrollbar-track {
    background: var(--pf-brown-light) !important;
    border-radius: 4px !important;
}

.item-wizard-modal *::-webkit-scrollbar-thumb {
    background: var(--pf-brown-medium) !important;
    border-radius: 4px !important;
    border: 1px solid var(--pf-brown-light) !important;
}

.item-wizard-modal *::-webkit-scrollbar-thumb:hover {
    background: var(--pf-brown-dark) !important;
}

/* Pathfinder color variables for item wizard */
:root {
  --pf-parchment-light: #f8f4e6;
  --pf-parchment: #ede4d3;
  --pf-parchment-dark: #e8dcc6;
  --pf-brown-darkest: #2d1810;
  --pf-brown-dark: #5a1e12;
  --pf-brown-medium: #8B4513;
  --pf-brown-light: #a08c70;
  --pf-gold: #d4af37;
  --pf-gold-light: #f4d03f;
  --pf-gold-dark: #b8860b;
  --pf-text-primary: #2d1810;
  --pf-text-secondary: #5a1e12;
  --pf-gradient-parchment: linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%);
  --pf-gradient-button: linear-gradient(145deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%);
  --pf-gradient-header: linear-gradient(135deg, #c4a373 0%, #a08c70 50%, #8b7355 100%);
  --pf-shadow-parchment: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 2px 0 rgba(255, 255, 255, 0.7), inset 0 -2px 0 rgba(139, 69, 19, 0.2);
}

/* ===== ITEM WIZARD CONTAINER ===== */

.modal-backdrop {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  background: rgba(0, 0, 0, 0.5) !important;
  /* z-index managed by component via inline styles */
}

.item-wizard-modal.spellbook-wizard-layout {
  background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
  border: 3px solid var(--pf-brown-light, #a08c70) !important;
  border-radius: 12px !important;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.7),
    inset 0 -2px 0 rgba(139, 69, 19, 0.2),
    0 0 0 1px rgba(139, 69, 19, 0.3),
    0 0 20px rgba(139, 69, 19, 0.15) !important;
  font-family: 'Cinzel', 'Times New Roman', serif !important;
  color: var(--pf-text-primary, #2d1810) !important;
  overflow: hidden !important;
  width: 800px !important;
  max-height: 90vh !important;
  min-height: 700px !important;
  height: 700px !important;
  display: flex !important;
  flex-direction: column !important;
  position: fixed !important;
  /* z-index managed by component via inline styles */
}

/* ===== SINGLE COLUMN LAYOUT (Preview is now external) ===== */

.wizard-main-content {
  width: 100% !important;
  height: 100% !important;
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
}

.item-wizard-modal .spell-wizard-step {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
  min-height: 0 !important;
}

.item-wizard-modal .spell-wizard-step-content {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding: var(--pf-space-4, 16px) !important;
  padding-bottom: 150px !important; /* Much more space at bottom for scrolling past description */
  min-height: 0 !important;
  max-height: 100% !important; /* Ensure content can scroll within its container */
}

.item-wizard-modal .spell-wizard-form {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  overflow-y: visible !important; /* Allow natural content flow */
  overflow-x: hidden !important;
  min-height: 0 !important;
  padding-bottom: var(--pf-space-4, 16px) !important; /* Normal padding */
  max-height: none !important; /* Remove height restrictions to allow natural expansion */
}

/* Custom scrollbar for spell-wizard-form */
.item-wizard-modal .spell-wizard-form::-webkit-scrollbar {
  width: 8px !important;
}

.item-wizard-modal .spell-wizard-form::-webkit-scrollbar-track {
  background: var(--pf-parchment-dark, #e8dcc6) !important;
  border-radius: 4px !important;
}

.item-wizard-modal .spell-wizard-form::-webkit-scrollbar-thumb {
  background: var(--pf-brown-light, #a08c70) !important;
  border-radius: 4px !important;
  transition: background 0.3s ease !important;
}

.item-wizard-modal .spell-wizard-form::-webkit-scrollbar-thumb:hover {
  background: var(--pf-brown-medium, #8B4513) !important;
}

.item-wizard-modal::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
        repeating-linear-gradient(
            45deg,
            transparent,
            transparent 8px,
            rgba(139, 69, 19, 0.02) 8px,
            rgba(139, 69, 19, 0.02) 16px
        );
    pointer-events: none;
    border-radius: inherit;
    z-index: 1;
}

.item-wizard-modal[data-quality="poor"] {
    border-color: #8b7355;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), inset 0 2px 0 rgba(255, 255, 255, 0.5);
}

.item-wizard-modal[data-quality="common"] {
    border-color: #a08c70;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), inset 0 2px 0 rgba(255, 255, 255, 0.6);
}

.item-wizard-modal[data-quality="uncommon"] {
    border-color: #2d5016;
    box-shadow: 0 8px 32px rgba(45, 80, 22, 0.3), inset 0 2px 0 rgba(255, 255, 255, 0.6);
}

.item-wizard-modal[data-quality="rare"] {
    border-color: #8b4513;
    box-shadow: 0 8px 32px rgba(139, 69, 19, 0.4), inset 0 2px 0 rgba(255, 255, 255, 0.6);
}

.item-wizard-modal[data-quality="epic"] {
    border-color: #6a0dad;
    box-shadow: 0 8px 32px rgba(106, 13, 173, 0.4), inset 0 2px 0 rgba(255, 255, 255, 0.6);
}

.item-wizard-modal[data-quality="legendary"] {
    border-color: var(--pf-gold-dark);
    box-shadow: 0 8px 32px rgba(212, 175, 55, 0.5), inset 0 2px 0 rgba(255, 255, 255, 0.7), 0 0 20px rgba(212, 175, 55, 0.3);
}

.item-wizard-modal[data-quality="artifact"] {
    border: 3px solid var(--pf-gold) !important;
    box-shadow: 0 8px 32px rgba(212, 175, 55, 0.6), inset 0 2px 0 rgba(255, 255, 255, 0.8), 0 0 30px rgba(212, 175, 55, 0.4);
}

.wizard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    background: var(--pf-gradient-header);
    border-bottom: 3px solid var(--pf-brown-medium);
    cursor: move;
    position: relative;
    z-index: 2;
    box-shadow:
        inset 0 2px 0 rgba(240, 230, 210, 0.3),
        inset 0 -2px 0 rgba(0, 0, 0, 0.4),
        0 2px 8px rgba(0, 0, 0, 0.2);
}

.wizard-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg,
        transparent,
        rgba(240, 230, 210, 0.6) 20%,
        rgba(240, 230, 210, 0.8) 50%,
        rgba(240, 230, 210, 0.6) 80%,
        transparent
    );
}

.wizard-title {
    font-size: 18px;
    font-weight: 700;
    color: var(--pf-parchment-light);
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
    font-family: 'Cinzel', 'Times New Roman', serif;
    letter-spacing: 1px;
    text-transform: uppercase;
}

.wizard-close {
    width: 28px;
    height: 28px;
    background: var(--pf-gradient-button);
    border: 2px solid var(--pf-brown-medium);
    color: var(--pf-text-primary);
    font-size: 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
    transition: all 0.2s ease;
    font-weight: bold;
    box-shadow:
        0 2px 4px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

.wizard-close:hover {
    background: linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%);
    border-color: var(--pf-gold);
    color: var(--pf-brown-darkest);
    box-shadow:
        0 3px 6px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.7),
        0 0 8px rgba(212, 175, 55, 0.3);
}

.wizard-content {
    padding: 20px;
    padding-bottom: 120px; /* Extra space to scroll past footer */
    max-height: calc(100vh - 200px);
    overflow-y: auto;
    background: var(--pf-gradient-parchment);
    position: relative;
    z-index: 2;
}

/* Removed duplicate wizard-step rule - consolidated above */

.wizard-step::before {
    display: none !important;
}

.wizard-step[data-quality="poor"]::before {
    background:
        linear-gradient(45deg, rgba(139, 115, 85, 0.1), transparent),
        repeating-linear-gradient(45deg, transparent, transparent 6px, rgba(139, 115, 85, 0.02) 6px, rgba(139, 115, 85, 0.02) 12px);
}

.wizard-step[data-quality="common"]::before {
    background:
        linear-gradient(45deg, rgba(160, 140, 112, 0.1), transparent),
        repeating-linear-gradient(45deg, transparent, transparent 6px, rgba(160, 140, 112, 0.02) 6px, rgba(160, 140, 112, 0.02) 12px);
}

.wizard-step[data-quality="uncommon"]::before {
    background:
        linear-gradient(45deg, rgba(45, 80, 22, 0.1), transparent),
        repeating-linear-gradient(45deg, transparent, transparent 6px, rgba(45, 80, 22, 0.02) 6px, rgba(45, 80, 22, 0.02) 12px);
}

.wizard-step[data-quality="rare"]::before {
    background:
        linear-gradient(45deg, rgba(139, 69, 19, 0.1), transparent),
        repeating-linear-gradient(45deg, transparent, transparent 6px, rgba(139, 69, 19, 0.02) 6px, rgba(139, 69, 19, 0.02) 12px);
}

.wizard-step[data-quality="epic"]::before {
    background:
        linear-gradient(45deg, rgba(106, 13, 173, 0.1), transparent),
        repeating-linear-gradient(45deg, transparent, transparent 6px, rgba(106, 13, 173, 0.02) 6px, rgba(106, 13, 173, 0.02) 12px);
}

.wizard-step[data-quality="legendary"]::before {
    background:
        linear-gradient(45deg, rgba(212, 175, 55, 0.1), transparent),
        repeating-linear-gradient(45deg, transparent, transparent 6px, rgba(212, 175, 55, 0.02) 6px, rgba(212, 175, 55, 0.02) 12px);
}

.wizard-step[data-quality="artifact"]::before {
    background:
        linear-gradient(45deg, rgba(212, 175, 55, 0.15), transparent),
        repeating-linear-gradient(45deg, transparent, transparent 6px, rgba(212, 175, 55, 0.03) 6px, rgba(212, 175, 55, 0.03) 12px);
}

.weapon-stats-section {
    margin-top: 20px;
    padding: 20px;
    background: var(--pf-gradient-parchment);
    border-radius: 12px;
    border: 2px solid var(--pf-brown-light);
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.damage-roll-group {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;
}

.damage-roll-input {
    width: 60px;
    text-align: center;
    background: var(--pf-gradient-button);
    border: 2px solid var(--pf-brown-medium);
    color: var(--pf-text-primary);
    padding: 8px 12px;
    border-radius: 6px;
    font-family: 'Cinzel', serif;
    font-weight: 600;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1);
}

.damage-roll-input:focus {
    border-color: var(--pf-gold);
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1),
        0 0 8px rgba(212, 175, 55, 0.3);
    outline: none;
}

.damage-type-select {
    flex: 1;
    background: var(--pf-gradient-button);
    border: 2px solid var(--pf-brown-medium);
    color: var(--pf-text-primary);
    padding: 8px 12px;
    border-radius: 6px;
    font-family: 'Cinzel', serif;
    font-weight: 600;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1);
}

.damage-type-select:focus {
    border-color: var(--pf-gold);
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1),
        0 0 8px rgba(212, 175, 55, 0.3);
    outline: none;
}

.carrying-capacity-section,
.duration-section,
.effects-section,
.chance-on-being-hit-section {
    margin-top: 20px;
    padding: 20px;
    background: var(--pf-gradient-parchment);
    border-radius: 12px;
    border: 2px solid var(--pf-brown-light);
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

/* Chance on Being Hit Config Styles */
.chance-on-being-hit-config {
    padding: 20px;
    background: var(--pf-gradient-parchment);
    border-radius: 12px;
    border: 2px solid var(--pf-brown-light);
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.config-toggle {
    margin-bottom: 16px;
}

.wow-checkbox-label {
    display: flex;
    align-items: center;
    cursor: pointer;
    user-select: none;
    font-family: 'Cinzel', serif;
    color: var(--pf-text-primary);
}

.wow-checkbox {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

.wow-checkbox-custom {
    position: relative;
    display: inline-block;
    width: 22px;
    height: 22px;
    background: var(--pf-gradient-button);
    border: 2px solid var(--pf-brown-medium);
    border-radius: 6px;
    margin-right: 12px;
    transition: all 0.2s ease;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1);
}

.wow-checkbox:checked ~ .wow-checkbox-custom {
    background: linear-gradient(145deg, var(--pf-gold-light), var(--pf-gold));
    border-color: var(--pf-gold-dark);
    box-shadow:
        inset 0 2px 4px rgba(212, 175, 55, 0.2),
        0 2px 4px rgba(0, 0, 0, 0.2),
        0 0 8px rgba(212, 175, 55, 0.3);
}

.wow-checkbox-custom:after {
    content: "";
    position: absolute;
    display: none;
    left: 7px;
    top: 3px;
    width: 5px;
    height: 10px;
    border: solid var(--pf-brown-darkest);
    border-width: 0 3px 3px 0;
    transform: rotate(45deg);
}

.wow-checkbox:checked ~ .wow-checkbox-custom:after {
    display: block;
}

.wow-option-text {
    font-weight: 600;
    color: var(--pf-text-primary);
    font-family: 'Cinzel', serif;
}

.wow-option-description {
    font-size: 0.9em;
    color: var(--pf-text-secondary);
    margin-top: 4px;
    margin-left: 34px;
    font-family: 'Crimson Text', serif;
    font-style: italic;
}

.wow-setting-section {
    margin-top: 20px;
    padding: 20px;
    background: var(--pf-gradient-parchment);
    border-radius: 12px;
    border: 2px solid var(--pf-brown-light);
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.wow-section-header {
    font-size: 18px;
    font-weight: 700;
    color: var(--pf-gold-dark);
    margin-bottom: 16px;
    font-family: 'Cinzel', serif;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.resolution-options {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    margin-bottom: 16px;
}

.dice-config, .card-config, .coin-config {
    margin-top: 16px;
}

.dice-threshold-config, .coin-count-config {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.threshold-input-group, .coin-count-input-group {
    display: flex;
    align-items: center;
    gap: 8px;
}

.threshold-button, .coin-count-button {
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--pf-gradient-button);
    border: 2px solid var(--pf-brown-medium);
    border-radius: 8px;
    color: var(--pf-text-primary);
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.threshold-button:hover, .coin-count-button:hover {
    background: linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%);
    border-color: var(--pf-gold);
    box-shadow: 0 0 8px rgba(212, 175, 55, 0.3);
}

.proc-chance-display {
    font-size: 14px;
    color: #1eff00;
    margin-top: 8px;
}

.card-rule-options, .coin-rule-options {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.card-rule-option, .coin-rule-option {
    display: flex;
    align-items: center;
    gap: 8px;
}

.suit-selection {
    margin-top: 12px;
}

.suit-options {
    display: flex;
    gap: 12px;
    margin-top: 8px;
}

.suit-option {
    padding: 12px 16px;
    background: var(--pf-gradient-button);
    border: 2px solid var(--pf-brown-medium);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    color: var(--pf-text-primary);
    font-family: 'Cinzel', serif;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1);
}

.suit-option:hover {
    background: linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%);
    border-color: var(--pf-gold);
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1),
        0 0 8px rgba(212, 175, 55, 0.3);
}

.suit-option.selected {
    background: linear-gradient(145deg, var(--pf-gold-light) 0%, var(--pf-gold) 50%, var(--pf-gold-dark) 100%);
    border-color: var(--pf-gold-dark);
    color: var(--pf-brown-darkest);
    box-shadow:
        inset 0 2px 4px rgba(212, 175, 55, 0.2),
        0 2px 4px rgba(0, 0, 0, 0.2),
        0 0 12px rgba(212, 175, 55, 0.4);
}

.section {
    margin-top: 20px;
}

.section-title {
    font-size: 16px;
    font-weight: 500;
    color: #ffd100;
    margin-bottom: 8px;
}

.item-wizard-modal .spell-wizard-card-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    margin-top: 12px;
}

.item-wizard-modal .spell-wizard-card {
    padding: 12px;
    background: var(--pf-gradient-button);
    border: var(--pf-border-width) solid var(--pf-brown-medium);
    border-radius: var(--pf-border-radius);
    cursor: pointer;
    transition: all var(--pf-transition-normal);
}

.item-wizard-modal .spell-wizard-card:hover {
    background: var(--pf-gradient-button-hover);
    border-color: var(--pf-brown-dark);
    transform: translateY(-2px);
}

.item-wizard-modal .spell-wizard-card.selected {
    background: var(--pf-gradient-gold);
    border-color: var(--pf-gold-dark);
    color: var(--pf-brown-darkest);
}

.item-wizard-modal .spell-wizard-card-icon {
    display: flex;
    justify-content: center;
    margin-bottom: 8px;
}

.item-wizard-modal .spell-wizard-card-icon .icon {
    font-size: 24px;
    color: #ffd100;
}

.item-wizard-modal .spell-wizard-card.selected .spell-wizard-card-icon .icon {
    color: #fff;
}

.section-panel {
    margin-top: var(--pf-space-1);
    padding: var(--pf-space-1);
    background: var(--pf-gradient-parchment-light);
    border-radius: var(--pf-border-radius);
    border: var(--pf-border-width) solid var(--pf-brown-light);
}

.section-panel-content {
    display: flex;
    flex-direction: column;
    gap: var(--pf-space-1);
}

.selected-spell-info-panel {
    margin-top: 12px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

/* Spell Library Button Styles */
.spell-library-button-container {
    width: 100%;
}

.spell-library-button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    padding: 10px 16px;
    background: linear-gradient(to bottom, #1e3a8a, #1e3a8a);
    border: 1px solid #2563eb;
    border-radius: 4px;
    color: #ffffff;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

.spell-library-button:hover {
    background: linear-gradient(to bottom, #2563eb, #1e40af);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    transform: translateY(-1px);
}

.selected-spell-display {
    display: flex;
    align-items: center;
    background-color: rgba(30, 41, 59, 0.7);
    border: 1px solid rgba(59, 130, 246, 0.5);
    border-radius: 4px;
    padding: 8px 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.selected-spell-display:hover {
    background-color: rgba(30, 41, 59, 0.9);
    border-color: #ffd100;
    box-shadow: 0 2px 8px rgba(255, 209, 0, 0.3);
    transform: translateY(-2px);
}

.selected-spell-icon {
    width: 32px;
    height: 32px;
    margin-right: 12px;
}

.selected-spell-icon img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 4px;
}

.selected-spell-info {
    flex: 1;
}

.selected-spell-name {
    font-weight: 500;
    color: #ffffff;
}

.selected-spell-type {
    font-size: 12px;
    color: #a0aec0;
}

.selected-spell-actions {
    display: flex;
    gap: 8px;
}

.view-details-btn, .clear-selection-btn {
    background: none;
    border: none;
    color: #a0aec0;
    cursor: pointer;
    transition: color 0.2s ease;
}

.view-details-btn:hover, .clear-selection-btn:hover {
    color: #ffffff;
}

.clear-selection-btn {
    font-size: 18px;
    line-height: 1;
}

.effect-item {

    align-items: center;
    gap: 12px;
    margin-bottom: 12px;
    padding: 8px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.effect-icon {
    width: 24px;
    height: 24px;
    object-fit: cover;
    border-radius: 4px;
}

.effect-name {
    flex: 1;
    font-size: 14px;
    color: #ffd100;
}

.effect-value {
    width: 80px;
    text-align: right;
    font-family: 'Times New Roman', serif;
    color: #fff;
    text-shadow: 1px 1px 0 #000;
}

.item-wizard {
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    background: rgba(0, 0, 0, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    color: #fff;
}

.wizard-content {
    padding: var(--pf-space-6, 24px) !important;
    padding-bottom: var(--pf-space-6, 24px) !important; /* Normal padding */
    background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
    flex: 1 !important;
    overflow-y: auto !important;
}

.wizard-navigation {
    display: flex;
    justify-content: space-between;
    gap: 10px;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.wow-button {
    padding: 8px 16px;
    background: #4a4a4a;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    color: #fff;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s ease;
}

.wow-button:hover {
    background: #5a5a5a;
    transform: translateY(-1px);
}

.wow-button.primary {
    background: #1a9fff;
}

.wow-button.primary:hover {
    background: #0090ff;
}

.wow-button.secondary {
    background: #666;
}

.wow-button.secondary:hover {
    background: #777;
}

.carrying-capacity-section {
    display: flex;
    flex-direction: column;
    gap: 16px;
    padding: 16px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.capacity-toggle {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    user-select: none;
}

.capacity-toggle input[type="checkbox"] {
    width: 18px;
    height: 18px;
    margin: 0;
    cursor: pointer;
}

.capacity-size-selector {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding-left: 26px;
}

.size-buttons {
    display: flex;
    gap: 8px;
}

.size-button {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    color: var(--wow-text-color);
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.size-button:hover {
    background: rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 255, 255, 0.2);
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.size-button.selected {
    background: var(--wow-accent-color);
    border-color: var(--wow-accent-color);
    color: #000;
    font-weight: 500;
    transform: translateY(1px);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

.capacity-preview {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 8px;
}

.preview-label {
    font-size: 0.9em;
    color: var(--wow-text-color);
    opacity: 0.8;
}

.additional-slots-grid {
    display: grid;
    grid-template-columns: repeat(5, 40px);
    gap: 4px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    width: fit-content;
}

.additional-slot {
    width: 40px;
    height: 40px;
    background: var(--wow-accent-color);
    opacity: 0.3;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    position: relative;
    transition: all 0.2s ease;
    cursor: pointer;
}

.additional-slot:hover {
    opacity: 0.5;
    transform: translateY(-1px);
}

.slot-plus {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #fff;
    font-size: 16px;
    font-weight: bold;
}

.item-wizard-modal {
    width: 800px;
    max-height: 90vh;
    min-height: 700px;
    height: 700px;
    background: var(--pf-gradient-parchment) !important;
    border: 3px solid var(--pf-brown-medium) !important;
    border-radius: 12px !important;
    box-shadow: var(--pf-shadow-parchment) !important;
    display: flex;
    flex-direction: column;
    z-index: 9999;
    pointer-events: auto;
    will-change: transform;
    transform: translate3d(0, 0, 0);
    color: var(--pf-text-primary) !important;
    font-family: 'Cinzel', serif !important;
    /* Smooth transitions for non-dragging state changes */
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

/* Quality-based styling */
.item-wizard-modal[data-quality="poor"] {
    border-color: #9d9d9d !important;
    border-width: 4px !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(157, 157, 157, 0.5) !important;
}

.item-wizard-modal[data-quality="poor"] .wizard-content {
    background: linear-gradient(to bottom, rgba(157, 157, 157, 0.05), transparent);
}

.item-wizard-modal[data-quality="common"] {
    border-color: #ffffff !important;
    border-width: 4px !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 255, 255, 0.4) !important;
}

.item-wizard-modal[data-quality="common"] .wizard-content {
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.05), transparent);
}

.item-wizard-modal[data-quality="uncommon"] {
    border-color: #1eff00 !important;
    border-width: 4px !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(30, 255, 0, 0.5) !important;
}

.item-wizard-modal[data-quality="uncommon"] .wizard-content {
    background: linear-gradient(to bottom, rgba(30, 255, 0, 0.05), transparent);
}

.item-wizard-modal[data-quality="rare"] {
    border-color: #0070dd !important;
    border-width: 4px !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(0, 112, 221, 0.5) !important;
}

.item-wizard-modal[data-quality="rare"] .wizard-content {
    background: linear-gradient(to bottom, rgba(0, 112, 221, 0.05), transparent);
}

.item-wizard-modal[data-quality="epic"] {
    border-color: #a335ee !important;
    border-width: 4px !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(163, 53, 238, 0.5) !important;
}

.item-wizard-modal[data-quality="epic"] .wizard-content {
    background: linear-gradient(to bottom, rgba(163, 53, 238, 0.05), transparent);
}

.item-wizard-modal[data-quality="legendary"] {
    border-color: #ff8000 !important;
    border-width: 4px !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 128, 0, 0.5) !important;
}

.item-wizard-modal[data-quality="legendary"] .wizard-content {
    background: linear-gradient(to bottom, rgba(255, 128, 0, 0.05), transparent);
}

.item-wizard-modal[data-quality="artifact"] {
    border-color: #e6cc80 !important;
    border-width: 4px !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 30px rgba(230, 204, 128, 0.6) !important;
}

.item-wizard-modal[data-quality="artifact"] .wizard-content {
    background: linear-gradient(to bottom, rgba(230, 204, 128, 0.05), transparent);
}

/* Quality-based header gradients - Enhanced Pathfinder parchment style */
.item-wizard-modal[data-quality="poor"] .wizard-header {
    background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
    border-bottom: 3px solid rgba(157, 157, 157, 0.6) !important;
}

.item-wizard-modal[data-quality="common"] .wizard-header {
    background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
    border-bottom: 3px solid var(--pf-gold) !important;
}

.item-wizard-modal[data-quality="uncommon"] .wizard-header {
    background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
    border-bottom: 3px solid rgba(30, 255, 0, 0.8) !important;
}

.item-wizard-modal[data-quality="rare"] .wizard-header {
    background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
    border-bottom: 3px solid rgba(0, 112, 221, 0.8) !important;
}

.item-wizard-modal[data-quality="epic"] .wizard-header {
    background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
    border-bottom: 3px solid rgba(163, 53, 238, 0.8) !important;
}

.item-wizard-modal[data-quality="legendary"] .wizard-header {
    background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
    border-bottom: 3px solid rgba(255, 128, 0, 0.8) !important;
}

.item-wizard-modal[data-quality="artifact"] .wizard-header {
    background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
    border-bottom: 3px solid rgba(230, 204, 128, 0.8) !important;
}

/* Quality-based text colors - Pathfinder style */
.item-wizard-modal[data-quality="poor"] .wizard-header h2 {
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8) !important;
}

.item-wizard-modal[data-quality="common"] .wizard-header h2 {
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8) !important;
}

.item-wizard-modal[data-quality="uncommon"] .wizard-header h2 {
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8) !important;
}

.item-wizard-modal[data-quality="rare"] .wizard-header h2 {
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8) !important;
}

.item-wizard-modal[data-quality="epic"] .wizard-header h2 {
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8) !important;
}

.item-wizard-modal[data-quality="legendary"] .wizard-header h2 {
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8) !important;
}

.item-wizard-modal[data-quality="artifact"] .wizard-header h2 {
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8) !important;
}

/* Quality-based footer styling - Enhanced Pathfinder parchment style */
.item-wizard-modal[data-quality] .wizard-footer {
    background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
    border-top: 3px solid var(--pf-brown-light, #a08c70) !important;
    box-shadow:
        0 -4px 12px rgba(0, 0, 0, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.5),
        inset 0 -1px 0 rgba(139, 69, 19, 0.2) !important;
}

/* Base styles */
.wizard-header {
    padding: 12px 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: grab;
    user-select: none;
    transition: all 0.3s ease;
}

.wizard-header:active {
    cursor: grabbing;
}

.wizard-header h2 {
    margin: 0;
    font-size: 18px;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    font-family: 'Times New Roman', serif;
}

.wizard-step-counter {
    color: rgba(255, 209, 0, 0.7);
    font-size: 14px;
}

.close-button {
    background: none;
    border: none;
    color: inherit;
    font-size: 24px;
    cursor: pointer;
    padding: 0 8px;
    transition: all 0.2s ease;
    opacity: 0.7;
}

.close-button:hover {
    opacity: 1;
}

.wizard-content {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden !important;
    padding: 16px;
    padding-bottom: 120px; /* Extra space to scroll past footer */
    scrollbar-width: thin;
    scrollbar-color: var(--pf-brown-medium) var(--pf-brown-light) !important;
    transition: all 0.3s ease;
    max-width: 100% !important;
    width: 100% !important;
}

.wizard-content::-webkit-scrollbar {
    width: 8px;
}

.wizard-content::-webkit-scrollbar-track {
    background: var(--pf-brown-light) !important;
    border-radius: 4px !important;
}

.wizard-content::-webkit-scrollbar-thumb {
    background: var(--pf-brown-medium) !important;
    border-radius: 4px !important;
    border: 1px solid var(--pf-brown-light) !important;
}

.wizard-content::-webkit-scrollbar-thumb:hover {
    background: var(--pf-brown-dark) !important;
}

/* ===== ITEM WIZARD FOOTER STYLING ===== */

.item-wizard-modal .item-wizard-footer {
  background: linear-gradient(135deg, var(--pf-parchment-dark, #e8dcc6) 0%, var(--pf-parchment-light, #f8f4e6) 100%) !important;
  border-top: 3px solid var(--pf-brown-light, #a08c70) !important;
  padding: var(--pf-space-4, 16px) var(--pf-space-5, 20px) !important;
  box-shadow:
    0 -4px 12px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
  flex-shrink: 0 !important;
}

.item-wizard-modal .wizard-nav-controls {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: var(--pf-space-4, 16px) !important;
  max-width: 100% !important;
  padding: 0 var(--pf-space-6, 24px) !important;
}

.item-wizard-modal .wizard-progress-container {
  flex: 1 !important;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  margin: 0 var(--pf-space-3, 12px) !important;
  max-width: 400px !important; /* Increased from 300px to 400px */
}

/* Compact progress bar for wizard footer */
.item-wizard-modal .wizard-progress-container .wow-progress-bar {
  height: 44px !important; /* Increased from 36px to 44px */
  max-width: 380px !important; /* Increased from 280px to 380px */
  margin: 0 !important;
}

.item-wizard-modal .wizard-progress-container .step-icon {
  width: 30px !important; /* Increased from 24px to 30px */
  height: 30px !important; /* Increased from 24px to 30px */
}

.item-wizard-modal .wizard-progress-container .step-tooltip {
  bottom: 35px !important;
}

.item-wizard-modal .wizard-nav-btn {
  display: flex !important;
  align-items: center !important;
  gap: var(--pf-space-2, 8px) !important;
  padding: var(--pf-space-3, 12px) var(--pf-space-4, 16px) !important;
  background: linear-gradient(135deg, var(--pf-gold, #d4af37) 0%, var(--pf-gold-dark, #b8860b) 100%) !important;
  border: var(--pf-border-width, 2px) solid var(--pf-brown-medium, #8B4513) !important;
  border-radius: var(--pf-border-radius, 8px) !important;
  color: var(--pf-brown-darkest, #2d1810) !important;
  font-family: var(--pf-font-display, 'Cinzel', serif) !important;
  font-size: var(--pf-text-base, 14px) !important;
  font-weight: var(--pf-font-bold, 600) !important;
  cursor: pointer !important;
  transition: all var(--pf-transition-normal, 0.25s ease) !important;
  box-shadow:
    0 4px 8px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.5) !important;
  min-width: 120px !important;
  justify-content: center !important;
}

.item-wizard-modal .wizard-nav-btn:hover:not(:disabled) {
  background: linear-gradient(135deg, var(--pf-gold-light, #f4d03f) 0%, var(--pf-gold, #d4af37) 100%) !important;
  border-color: var(--pf-gold, #d4af37) !important;
  transform: translateY(-2px) !important;
  box-shadow:
    0 6px 12px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

.item-wizard-modal .wizard-nav-btn:active:not(:disabled) {
  transform: translateY(0) !important;
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

.item-wizard-modal .wizard-nav-btn:disabled {
  background: var(--pf-brown-light, #a08c70) !important;
  color: var(--pf-text-muted, #6c5a47) !important;
  border-color: var(--pf-brown-medium, #8B4513) !important;
  cursor: not-allowed !important;
  opacity: 0.6 !important;
  transform: none !important;
  box-shadow: none !important;
}

.item-wizard-modal .wizard-nav-create {
  background: linear-gradient(135deg, #28a745 0%, #20c997 100%) !important;
  border-color: #20c997 !important;
  color: white !important;
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3) !important;
}

.item-wizard-modal .wizard-nav-create:hover:not(:disabled) {
  background: linear-gradient(135deg, #20c997 0%, #17a2b8 100%) !important;
  border-color: #17a2b8 !important;
}

.wizard-footer {
    padding: 12px 16px;
    display: flex;
    justify-content: space-between;
    transition: all 0.3s ease;
    width: 100%;
    position: relative;
    z-index: 10;
    background: linear-gradient(135deg, var(--pf-parchment-dark, #e8dcc6) 0%, var(--pf-parchment-light, #f8f4e6) 100%) !important;
    border-top: 3px solid var(--pf-brown-light, #a08c70) !important;
    box-shadow:
        0 -4px 12px rgba(0, 0, 0, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
}

.nav-button {
    background: var(--pf-gradient-button);
    border: 2px solid var(--pf-brown-medium);
    color: var(--pf-text-primary);
    padding: 12px 24px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-family: 'Cinzel', serif;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    min-width: 120px;
    box-shadow:
        0 4px 8px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

.nav-button:hover:not(:disabled) {
    background: linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%);
    border-color: var(--pf-gold);
    color: var(--pf-brown-darkest);
    box-shadow:
        0 6px 12px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.7),
        0 0 12px rgba(212, 175, 55, 0.3);
    transform: translateY(-2px);
}

.nav-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background: linear-gradient(145deg, #d5cbb0 0%, #c4b89c 50%, #b3a788 100%);
    color: var(--pf-text-secondary);
}

/* Create Item button styling */
.nav-button.next:last-child {
    background: linear-gradient(145deg, var(--pf-gold-light) 0%, var(--pf-gold) 50%, var(--pf-gold-dark) 100%);
    border-color: var(--pf-gold-dark);
    color: var(--pf-brown-darkest);
    font-weight: 700;
    box-shadow:
        0 4px 8px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.7),
        0 0 8px rgba(212, 175, 55, 0.4);
}

.nav-button.next:last-child:hover {
    background: linear-gradient(145deg, #f4d03f 0%, #d4af37 50%, #b8860b 100%);
    box-shadow:
        0 6px 12px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.8),
        0 0 16px rgba(212, 175, 55, 0.6);
    transform: translateY(-2px);
}

/* Quality-based button styling */
.item-wizard-modal[data-quality] .nav-button {
    border-color: inherit;
    color: inherit;
    background: rgba(255, 255, 255, 0.1);
}

.item-wizard-modal[data-quality] .nav-button:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.15);
    border-color: inherit;
}

/* Override quality styling for Create Item button */
.item-wizard-modal[data-quality] .nav-button.next:last-child {
    background: #4a9eff;
    color: white;
    border: 1px solid #3a8eef;
}

.item-wizard-modal[data-quality] .nav-button.next:last-child:hover {
    background: #3a8eef;
}

/* WoW Quality Colors */
.item-wizard[data-quality] {
    position: relative;
    transition: all 0.3s ease;
}

.item-wizard[data-quality]::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 8px;
    opacity: 0.15;
    pointer-events: none;
    transition: all 0.3s ease;
    z-index: 0;
}

/* Quality-specific backgrounds */
.item-wizard[data-quality="poor"]::before {
    background: linear-gradient(45deg, #9d9d9d40, transparent);
    box-shadow: inset 0 0 40px #9d9d9d20;
}
.item-wizard[data-quality="common"]::before {
    background: linear-gradient(45deg, #ffffff40, transparent);
    box-shadow: inset 0 0 40px #ffffff20;
}
.item-wizard[data-quality="uncommon"]::before {
    background: linear-gradient(45deg, #1eff0040, transparent);
    box-shadow: inset 0 0 40px #1eff0020;
}
.item-wizard[data-quality="rare"]::before {
    background: linear-gradient(45deg, #0070dd40, transparent);
    box-shadow: inset 0 0 40px #0070dd20;
}
.item-wizard[data-quality="epic"]::before {
    background: linear-gradient(45deg, #a335ee40, transparent);
    box-shadow: inset 0 0 40px #a335ee20;
}
.item-wizard[data-quality="legendary"]::before {
    background: linear-gradient(45deg, #ff800040, transparent);
    box-shadow: inset 0 0 40px #ff800020;
}
.item-wizard[data-quality="artifact"]::before {
    background: linear-gradient(45deg, #e6cc8040, transparent);
    box-shadow: inset 0 0 40px #e6cc8020;
}

/* Quality text colors */
.item-wizard[data-quality="poor"] .quality-text { color: #9d9d9d; }
.item-wizard[data-quality="common"] .quality-text { color: #ffffff; }
.item-wizard[data-quality="uncommon"] .quality-text { color: #1eff00; }
.item-wizard[data-quality="rare"] .quality-text { color: #0070dd; }
.item-wizard[data-quality="epic"] .quality-text { color: #a335ee; }
.item-wizard[data-quality="legendary"] .quality-text { color: #ff8000; }
.item-wizard[data-quality="artifact"] .quality-text { color: #e6cc80; }

/* Removed duplicate wizard-step rule - consolidated above */

/* WoW Classic Text Styles */
.wow-text {
    font-family: 'Times New Roman', serif;
    text-shadow: 1px 1px 0 #000;
}

.wow-heading {
    font-family: 'Times New Roman', serif;
    font-size: 18px;
    text-shadow: 1px 1px 0 #000;
    margin-bottom: 16px;
    text-align: center;
}

.wow-flavor-text {
    font-family: 'Times New Roman', serif;
    font-style: italic;
    color: #ffd100;
    text-shadow: 1px 1px 0 #000;
}

/* Form Elements */
.item-wizard-modal .form-group {
    position: relative;
    margin-bottom: 24px;
}

/* Removed duplicate .item-wizard-modal .form-group label - using consolidated styles */

.wow-input, .item-name-input, .item-description {
    background: var(--pf-gradient-button, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%)) !important;
    border: 2px solid var(--pf-brown-light, #a08c70) !important;
    border-radius: var(--pf-border-radius, 8px) !important;
    padding: 12px 16px;
    width: 100%;
    color: var(--pf-text-primary, #2d1810) !important;
    font-family: var(--pf-font-body, 'Crimson Text', serif) !important;
    font-size: 14px;
    transition: all 0.2s ease;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

.wow-input:focus, .item-name-input:focus, .item-description:focus {
    outline: none;
    border-color: var(--pf-brown-medium, #8B4513) !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.15),
        0 0 0 3px rgba(139, 69, 19, 0.2),
        0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* Description specific styles - Match level requirements field styling */
.item-description,
.item-description:focus,
.item-description:active,
textarea.item-description,
.wizard-step textarea.item-description {
    color: var(--pf-text-primary, #2d1810) !important;
    font-family: var(--pf-font-body, 'Crimson Text', serif) !important;
    font-style: normal !important;
    text-shadow: none !important;
    background: var(--pf-gradient-button, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%)) !important;
    border: 2px solid var(--pf-brown-light, #a08c70) !important;
    border-radius: var(--pf-border-radius, 8px) !important;
    padding: var(--pf-space-3, 12px) !important;
    width: 100% !important;
    min-height: auto !important; /* Remove fixed min-height to eliminate gap */
    resize: vertical !important;
    line-height: 1.4 !important;
    font-size: var(--pf-text-base, 14px) !important;
    margin-bottom: 0 !important; /* Remove bottom margin to eliminate gap */
    transition: all var(--pf-transition-normal, 0.25s ease) !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 1px 2px rgba(0, 0, 0, 0.05) !important;
    display: block !important; /* Ensure textarea is visible */
    visibility: visible !important; /* Ensure textarea is visible */
    opacity: 1 !important; /* Ensure textarea is visible */
}

/* Description field focus state */
.item-description:focus,
textarea.item-description:focus,
.wizard-step textarea.item-description:focus {
    outline: none !important;
    border-color: var(--pf-brown-medium, #8B4513) !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.15),
        0 0 0 3px rgba(139, 69, 19, 0.2),
        0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

.item-description::placeholder {
    color: var(--pf-text-muted, #6c5a47) !important;
    font-style: italic !important;
    opacity: 0.8 !important;
}

/* Ensure description textarea is always visible in item wizard */
.item-wizard-modal .form-group textarea.item-description {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    height: auto !important;
    min-height: 80px !important;
    max-height: none !important;
    z-index: 10 !important;
}

/* Ensure the form-group containing description is visible */
.item-wizard-modal .wizard-step .form-group:has(textarea.item-description),
.item-wizard-modal .wizard-step .form-group:last-child {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    margin-bottom: var(--pf-space-8, 32px) !important;
    position: relative !important;
    z-index: 10 !important;
}

/* Additional specific rule for description form group in BASIC_INFO step */
.item-wizard-modal .wizard-step .form-group:nth-child(4) {
    display: block !important;
    visibility: visible !important;
    margin-bottom: 40px !important;
}

/* Ensure wizard step has normal bottom space */
.item-wizard-modal .wizard-step {
    padding-bottom: var(--pf-space-4, 16px) !important; /* Normal bottom padding */
}

/* Stats and Properties */
.item-wizard-modal .stats-grid, .item-wizard-modal .properties-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    margin-bottom: 20px;
}

.item-wizard-modal .stat-item, .item-wizard-modal .property-item {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    padding: 12px;
}

.item-wizard-modal .stat-label, .item-wizard-modal .property-label {
    color: #ffd100;
    font-size: 14px;
    margin-bottom: 4px;
    text-shadow: 1px 1px 0 #000;
    flex: 1;
}

.item-wizard-modal .stat-value, .item-wizard-modal .property-value {
    font-family: 'Times New Roman', serif;
    color: #fff;
    text-shadow: 1px 1px 0 #000;
}

/* ===== UNIFIED SECTION STYLING ===== */

/* Main grid layout for combat stats */
.combat-stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--pf-space-4, 16px);
    padding: var(--pf-space-4, 16px);
    margin-bottom: var(--pf-space-6, 24px);
}

.utility-stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--pf-space-4, 16px);
    padding: var(--pf-space-4, 16px);
    margin-bottom: var(--pf-space-6, 24px);
}

/* Unified section styling for all stat sections */
.spell-damage-section,
.resistance-section {
    grid-column: 1 / -1;
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 12px !important;
    padding: var(--pf-space-5, 20px) !important;
    margin-top: var(--pf-space-4, 16px) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
    transition: all 0.2s ease;
}

.spell-damage-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
}

.spell-damage-controls {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.spell-type-buttons {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 8px;
}

.spell-type-button {
    width: 32px;
    height: 32px;
    padding: 4px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.spell-type-button img {
    width: 100%;
    height: 100%;
    border-radius: 2px;
}

.spell-type-button:hover {
    border-color: var(--spell-color);
    background: rgba(0, 0, 0, 0.4);
}

.spell-type-button.selected {
    border-color: var(--spell-color);
    box-shadow: 0 0 8px var(--spell-color);
}

.spell-type-button.selected img {
    filter: drop-shadow(0 0 2px var(--spell-color));
}

.spell-damage-section .stat-input {
    color: var(--spell-color);
    text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.5);
}

.spell-damage-section .stat-button {
    color: var(--spell-color);
}

.spell-damage-section .stat-button:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--spell-color);
}

/* Navigation buttons */
.wizard-nav {
    display: flex;
    justify-content: space-between;
    padding: 16px;
    background: rgba(0, 0, 0, 0.4);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    margin-top: 20px;
}

.wizard-button {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    padding: 8px 16px;
    color: #ffd100;
    font-family: 'Times New Roman', serif;
    cursor: pointer;
    transition: all 0.2s ease;
}

.wizard-button:hover {
    background: rgba(255, 209, 0, 0.1);
    border-color: #ffd100;
}

.wizard-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Step indicator */
.step-indicator {
    color: #ffd100;
    font-family: 'Times New Roman', serif;
    text-align: center;
    margin-bottom: 16px;
    text-shadow: 1px 1px 0 #000;
}

.wizard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px !important;
    background: var(--pf-gradient-parchment, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 30%, #e8dcc6 70%, #f0ead6 100%)) !important;
    border-bottom: 3px solid var(--pf-brown-light, #a08c70) !important;
    box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.4),
        inset 0 2px 0 rgba(255, 255, 255, 0.7),
        inset 0 -2px 0 rgba(139, 69, 19, 0.2),
        0 0 0 1px rgba(139, 69, 19, 0.3),
        0 0 20px rgba(139, 69, 19, 0.15) !important;
}

.wizard-header h2 {
    margin: 0;
    font-size: 20px;
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8) !important;
    font-family: 'Cinzel', serif !important;
}

.wizard-content {
    flex: 1;
    padding: 16px;
    padding-bottom: 16px; /* Normal padding */
    background: var(--pf-gradient-parchment) !important;
    border-radius: 8px;
    overflow-y: auto;
    min-height: 360px;
}

.wizard-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 12px;
    border-top: 1px solid #333;
}

.wizard-controls button {
    padding: 8px 20px;
    border-radius: 4px;
    border: none;
    cursor: pointer;
    font-family: inherit;
    font-size: 14px;
    transition: all 0.2s ease;
}

.prev-button, .next-button {
    background: #4a9eff;
    color: white;
    margin-left: 8px;
}

.prev-button:hover, .next-button:hover {
    background: #3a8eef;
}

.cancel-button {
    background: #666;
    color: white;
}

.cancel-button:hover {
    background: #555;
}

.complete-button {
    background: #4CAF50;
    color: white;
    margin-left: 8px;
}

.complete-button:hover {
    background: #45a049;
}

button:disabled {
    background: #444 !important;
    cursor: not-allowed;
    opacity: 0.7;
}

.item-type-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    padding: 16px;
}

.type-button {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    color: #fff;
    width: 100%;
}

.type-button img {
    width: 32px;
    height: 32px;
    border-radius: 4px;
    filter: brightness(0.9);
    transition: filter 0.2s ease;
}

.type-button:hover {
    background: linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%) !important;
    border-color: var(--pf-gold) !important;
}

.type-button:hover img {
    filter: brightness(1);
}

.type-button.selected {
    background: #4a9eff;
    border-color: #3a8eef;
}

.type-button.selected img {
    filter: brightness(1);
}

.type-button span {
    font-size: 14px;
    font-weight: 500;
}

.weapon-properties {
    background: #222;
    padding: 16px;
    border-radius: 8px;
    margin-bottom: 20px;
    border: 1px solid #444;
}

.weapon-type-selector {
    margin-bottom: 16px;
}

.button-group {
    display: flex;
    gap: 8px;
    margin-top: 8px;
}

.category-button {
    padding: 8px 16px;
    background: #2d2d2d;
    border: 1px solid #444;
    border-radius: 4px;
    color: #ccc;
    cursor: pointer;
    transition: all 0.2s ease;
}

.category-button:hover {
    background: linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%) !important;
    border-color: var(--pf-gold) !important;
}

.category-button.selected {
    background: #4a9eff;
    border-color: #4a9eff;
    color: #fff;
}

.weapon-stats-group {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
}

.form-group {
    margin-bottom: 20px;
}

/* Removed duplicate .form-group label - using consolidated styles */

.form-group input,
.form-group select,
.form-group textarea {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 4px;
    padding: 8px;
    width: 100%;
    color: #fff;
    font-size: 14px;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    border-color: #4a9eff;
    outline: none;
}

.item-wizard-modal .stats-grid,
.item-wizard-modal .combat-stats-grid,
.item-wizard-modal .resources-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 16px;
    margin-bottom: 20px;
}

/* ===== UNIFIED STAT ITEM STYLING ===== */

.item-wizard-modal .stat-item,
.item-wizard-modal .combat-stat-item,
.item-wizard-modal .resource-item {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 12px !important;
    padding: var(--pf-space-4, 16px) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
    transition: all 0.2s ease;
    display: flex !important;
    flex-direction: column !important;
    gap: var(--pf-space-3, 12px) !important;
}

.item-wizard-modal .stat-item:hover,
.item-wizard-modal .combat-stat-item:hover,
.item-wizard-modal .resource-item:hover {
    border-color: var(--pf-brown-medium) !important;
    box-shadow:
        0 6px 12px rgba(139, 69, 19, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
}

/* ===== STAT HEADER STYLING ===== */

.stat-header,
.damage-type-header,
.resistance-header {
    display: flex !important;
    align-items: center !important;
    gap: var(--pf-space-2, 8px) !important;
    margin-bottom: var(--pf-space-2, 8px) !important;
}

.stat-icon,
.damage-type-icon,
.resistance-icon {
    width: 24px !important;
    height: 24px !important;
    border-radius: 4px !important;
    border: 1px solid var(--pf-brown-light) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

.stat-label,
.damage-type-label,
.resistance-label {
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-sm) !important;
    font-weight: var(--pf-font-semibold) !important;
    color: var(--pf-text-primary) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) !important;
}

/* ===== STAT INPUT GROUP STYLING ===== */

.stat-input-group {
    display: flex !important;
    align-items: center !important;
    gap: var(--pf-space-1, 4px) !important;
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 8px !important;
    padding: var(--pf-space-1, 4px) !important;
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2) !important;
}

.stat-button {
    background: var(--pf-gradient-button) !important;
    border: 1px solid var(--pf-brown-medium) !important;
    border-radius: 4px !important;
    color: #000000 !important;
    font-family: var(--pf-font-display) !important;
    font-weight: var(--pf-font-bold) !important;
    font-size: var(--pf-text-sm) !important;
    width: 28px !important;
    height: 28px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    text-shadow: none !important;
}

.stat-button:hover {
    background: var(--pf-gradient-button-hover) !important;
    color: #000000 !important;
}

.stat-button:active {
    transform: translateY(1px) !important;
    color: #000000 !important;
}

.stat-button:hover {
    background: var(--pf-gradient-button-hover) !important;
    border-color: var(--pf-brown-dark) !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

.stat-input {
    background: var(--pf-gradient-parchment) !important;
    border: 1px solid var(--pf-brown-light) !important;
    border-radius: 4px !important;
    color: var(--pf-text-primary) !important;
    font-family: var(--pf-font-body) !important;
    font-size: var(--pf-text-sm) !important;
    font-weight: var(--pf-font-semibold) !important;
    text-align: center !important;
    width: 60px !important;
    height: 28px !important;
    padding: 0 var(--pf-space-1, 4px) !important;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1) !important;
    transition: all 0.2s ease !important;
}

.stat-input:focus {
    outline: none !important;
    border-color: var(--pf-gold) !important;
    box-shadow:
        inset 0 1px 2px rgba(0, 0, 0, 0.1),
        0 0 0 2px rgba(218, 165, 32, 0.3) !important;
}

.type-toggle {
    background: var(--pf-gradient-button) !important;
    border: 1px solid var(--pf-brown-medium) !important;
    border-radius: 4px !important;
    color: var(--pf-text-on-dark) !important;
    font-family: var(--pf-font-display) !important;
    font-weight: var(--pf-font-bold) !important;
    font-size: var(--pf-text-xs) !important;
    width: 32px !important;
    height: 28px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3) !important;
}

.type-toggle.active {
    background: var(--pf-gradient-gold) !important;
    border-color: var(--pf-gold-dark) !important;
    color: var(--pf-brown-darkest) !important;
    box-shadow: 0 0 8px rgba(218, 165, 32, 0.4) !important;
}

.type-toggle:hover {
    background: var(--pf-gradient-button-hover) !important;
    border-color: var(--pf-brown-dark) !important;
    transform: translateY(-1px) !important;
}

/* ===== SECTION HEADERS ===== */

.spell-damage-section h4,
.resistance-section h4 {
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-lg) !important;
    font-weight: var(--pf-font-bold) !important;
    color: var(--pf-text-primary) !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    text-align: center !important;
    margin: 0 0 var(--pf-space-4, 16px) 0 !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    border-bottom: 2px solid var(--pf-brown-light) !important;
    padding-bottom: var(--pf-space-2, 8px) !important;
}

/* ===== GRID LAYOUTS ===== */

.damage-type-grid,
.resistance-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
    gap: var(--pf-space-4, 16px) !important;
    margin-top: var(--pf-space-4, 16px) !important;
}

.damage-type-item,
.resistance-item {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 8px !important;
    padding: var(--pf-space-3, 12px) !important;
    box-shadow:
        0 2px 4px rgba(139, 69, 19, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
    transition: all 0.2s ease;
    display: flex !important;
    flex-direction: column !important;
    gap: var(--pf-space-2, 8px) !important;
}

.damage-type-item:hover,
.resistance-item:hover {
    border-color: var(--pf-brown-medium) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

/* ===== RESISTANCE CONTROLS ===== */

.resistance-controls {
    display: flex !important;
    flex-direction: column !important;
    gap: var(--pf-space-2, 8px) !important;
}

.resistance-select {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 6px !important;
    color: var(--pf-text-on-dark) !important;
    font-family: var(--pf-font-body) !important;
    font-size: var(--pf-text-sm) !important;
    font-weight: var(--pf-font-semibold) !important;
    padding: var(--pf-space-2, 8px) !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3) !important;
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2) !important;
}

.resistance-select:focus {
    outline: none !important;
    border-color: var(--pf-gold) !important;
    box-shadow:
        inset 0 1px 3px rgba(0, 0, 0, 0.2),
        0 0 0 2px rgba(218, 165, 32, 0.3) !important;
}

.resistance-description {
    font-family: var(--pf-font-body) !important;
    font-size: var(--pf-text-xs) !important;
    color: var(--pf-text-muted) !important;
    font-style: italic !important;
    text-align: center !important;
    padding: var(--pf-space-1, 4px) !important;
    background: rgba(139, 69, 19, 0.1) !important;
    border-radius: 4px !important;
    border: 1px solid rgba(139, 69, 19, 0.2) !important;
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */

@media (max-width: 768px) {
    .combat-stats-grid,
    .utility-stats-grid {
        grid-template-columns: 1fr !important;
    }

    .damage-type-grid,
    .resistance-grid {
        grid-template-columns: 1fr !important;
    }

    .stat-input-group {
        flex-wrap: wrap !important;
    }
}

/* ===== SECTION SPACING CONSISTENCY ===== */

.spell-damage-section + .resistance-section {
    margin-top: var(--pf-space-6, 24px) !important;
}

.combat-stats-grid + .spell-damage-section {
    margin-top: var(--pf-space-6, 24px) !important;
}

/* Ensure all sections have consistent bottom margin */
.spell-damage-section,
.resistance-section {
    margin-bottom: var(--pf-space-4, 16px) !important;
}

/* ===== COMPREHENSIVE PAGE OVERHAUL ===== */

/* Main page heading improvements */
.item-wizard-modal .wow-heading.quality-text {
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-2xl) !important;
    font-weight: var(--pf-font-bold) !important;
    color: var(--pf-text-primary) !important;
    text-align: center !important;
    text-transform: uppercase !important;
    letter-spacing: 2px !important;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3) !important;
    margin: 0 0 var(--pf-space-6, 24px) 0 !important;
    padding: var(--pf-space-4, 16px) !important;
    background: var(--pf-gradient-header) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 12px !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

/* Enhanced text readability */
.item-wizard-modal .wow-text,
.item-wizard-modal .stat-label,
.item-wizard-modal .damage-type-label,
.item-wizard-modal .resistance-label {
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8) !important;
    font-weight: var(--pf-font-semibold) !important;
}

/* Improved input field readability */
.item-wizard-modal input,
.item-wizard-modal select,
.item-wizard-modal textarea {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 6px !important;
    color: var(--pf-text-primary) !important;
    font-family: var(--pf-font-body) !important;
    font-size: var(--pf-text-base) !important;
    font-weight: var(--pf-font-semibold) !important;
    padding: var(--pf-space-2, 8px) var(--pf-space-3, 12px) !important;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    transition: all 0.2s ease !important;
}

.item-wizard-modal input:focus,
.item-wizard-modal select:focus,
.item-wizard-modal textarea:focus {
    outline: none !important;
    border-color: var(--pf-gold) !important;
    box-shadow:
        inset 0 2px 4px rgba(0, 0, 0, 0.1),
        0 0 0 3px rgba(218, 165, 32, 0.3) !important;
    background: rgba(248, 244, 230, 0.95) !important;
}

/* ===== DROPDOWN FIXES FOR READABILITY ===== */

.item-wizard-modal select {
    background: var(--pf-gradient-parchment) !important;
    color: var(--pf-text-primary) !important;
    text-shadow: none !important;
    cursor: pointer !important;
}

.item-wizard-modal select option {
    background: var(--pf-gradient-parchment) !important;
    color: var(--pf-text-primary) !important;
    padding: var(--pf-space-2, 8px) !important;
    font-weight: var(--pf-font-semibold) !important;
}

/* Specific fixes for resistance dropdowns */
.resistance-select {
    background: var(--pf-gradient-parchment) !important;
    color: var(--pf-text-primary) !important;
    text-shadow: none !important;
    border: 2px solid var(--pf-brown-medium) !important;
}

.resistance-select option {
    background: var(--pf-gradient-parchment) !important;
    color: var(--pf-text-primary) !important;
    text-shadow: none !important;
}

/* ===== ENHANCED BUTTON STYLING ===== */

.item-wizard-modal button,
.item-wizard-modal .btn,
.item-wizard-modal .stat-button,
.item-wizard-modal .type-toggle {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 6px !important;
    color: var(--pf-text-on-dark) !important;
    font-family: var(--pf-font-display) !important;
    font-weight: var(--pf-font-semibold) !important;
    font-size: var(--pf-text-sm) !important;
    padding: var(--pf-space-2, 8px) var(--pf-space-3, 12px) !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3) !important;
    box-shadow:
        0 2px 4px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
}

.item-wizard-modal button:hover,
.item-wizard-modal .btn:hover,
.item-wizard-modal .stat-button:hover,
.item-wizard-modal .type-toggle:hover {
    background: var(--pf-gradient-button-hover) !important;
    border-color: var(--pf-brown-dark) !important;
    transform: translateY(-1px) !important;
    box-shadow:
        0 4px 8px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

/* ===== MOVEMENT SPEED & CARRYING CAPACITY OVERHAUL ===== */

.item-wizard-modal .utility-stats-grid {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: var(--pf-space-6, 24px) !important;
    margin-bottom: var(--pf-space-6, 24px) !important;
}

/* Movement Speed Section */
.item-wizard-modal .movement-speed-section {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 12px !important;
    padding: var(--pf-space-5, 20px) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

.item-wizard-modal .movement-speed-section h4 {
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-lg) !important;
    font-weight: var(--pf-font-bold) !important;
    color: var(--pf-text-primary) !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    text-align: center !important;
    margin: 0 0 var(--pf-space-4, 16px) 0 !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    border-bottom: 2px solid var(--pf-brown-light) !important;
    padding-bottom: var(--pf-space-2, 8px) !important;
}

/* Carrying Capacity Section */
.item-wizard-modal .carrying-capacity-section {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 12px !important;
    padding: var(--pf-space-5, 20px) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

.item-wizard-modal .carrying-capacity-section h4 {
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-lg) !important;
    font-weight: var(--pf-font-bold) !important;
    color: var(--pf-text-primary) !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    text-align: center !important;
    margin: 0 0 var(--pf-space-4, 16px) 0 !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    border-bottom: 2px solid var(--pf-brown-light) !important;
    padding-bottom: var(--pf-space-2, 8px) !important;
}

/* ===== DAMAGE PROPERTIES SECTION OVERHAUL ===== */

.item-wizard-modal .damage-properties-section {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 12px !important;
    padding: var(--pf-space-5, 20px) !important;
    margin-bottom: var(--pf-space-6, 24px) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

.item-wizard-modal .damage-properties-section h4 {
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-xl) !important;
    font-weight: var(--pf-font-bold) !important;
    color: var(--pf-text-primary) !important;
    text-transform: uppercase !important;
    letter-spacing: 2px !important;
    text-align: center !important;
    margin: 0 0 var(--pf-space-6, 24px) 0 !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    border-bottom: 3px solid var(--pf-brown-medium) !important;
    padding-bottom: var(--pf-space-3, 12px) !important;
}

/* Damage grid improvements - FULL WIDTH LAYOUT */
.item-wizard-modal .damage-grid {
    display: flex !important;
    flex-direction: column !important;
    gap: var(--pf-space-6, 24px) !important;
    width: 100% !important;
}

.item-wizard-modal .damage-controls-row {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
    gap: var(--pf-space-4, 16px) !important;
    width: 100% !important;
}

/* Full width damage type selection section */
.item-wizard-modal .damage-type-selection-section {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 12px !important;
    padding: var(--pf-space-5, 20px) !important;
    width: 100% !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

.item-wizard-modal .damage-section {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 8px !important;
    padding: var(--pf-space-4, 16px) !important;
    box-shadow:
        0 2px 4px rgba(139, 69, 19, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
    transition: all 0.2s ease;
    width: 100% !important;
}

.item-wizard-modal .damage-section:hover {
    border-color: var(--pf-brown-medium) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

/* ===== DAMAGE TYPE BUTTON READABILITY FIXES ===== */

.item-wizard-modal .damage-type-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important;
    gap: var(--pf-space-3, 12px) !important;
    margin-top: var(--pf-space-4, 16px) !important;
    width: 100% !important;
}

.item-wizard-modal .damage-type-button {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 8px !important;
    padding: var(--pf-space-3, 12px) !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: var(--pf-space-2, 8px) !important;
    position: relative !important;
    overflow: hidden !important;
    min-height: 80px !important;
    box-shadow:
        0 2px 4px rgba(139, 69, 19, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

.item-wizard-modal .damage-type-button:hover {
    border-color: var(--pf-brown-dark) !important;
    transform: translateY(-2px) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

.item-wizard-modal .damage-type-button.selected {
    background: var(--pf-gradient-gold) !important;
    border-color: var(--pf-gold-dark) !important;
    box-shadow:
        0 0 12px rgba(218, 165, 32, 0.6),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

/* Enhanced text readability for damage type buttons */
.item-wizard-modal .damage-type-name {
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-base) !important;
    font-weight: var(--pf-font-bold) !important;
    color: var(--pf-text-primary) !important;
    text-shadow:
        1px 1px 2px rgba(255, 255, 255, 0.8),
        0 0 4px rgba(255, 255, 255, 0.6) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    margin: 0 !important;
    line-height: 1.2 !important;
}

.item-wizard-modal .damage-type-description {
    font-family: var(--pf-font-body) !important;
    font-size: var(--pf-text-sm) !important;
    font-weight: var(--pf-font-medium) !important;
    color: var(--pf-text-secondary) !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.6) !important;
    line-height: 1.3 !important;
    margin: 0 !important;
}

.item-wizard-modal .damage-type-icon {
    width: 32px !important;
    height: 32px !important;
    border-radius: 6px !important;
    border: 2px solid var(--pf-brown-light) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    float: left !important;
    margin-right: var(--pf-space-2, 8px) !important;
    margin-bottom: var(--pf-space-1, 4px) !important;
}

/* ===== SECTION HEADER IMPROVEMENTS ===== */

.item-wizard-modal .section-header {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: var(--pf-space-2, 8px) !important;
    margin-bottom: var(--pf-space-4, 16px) !important;
    padding: var(--pf-space-3, 12px) !important;
    background: var(--pf-gradient-header) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 8px !important;
    box-shadow:
        0 2px 4px rgba(139, 69, 19, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

.item-wizard-modal .section-icon {
    width: 24px !important;
    height: 24px !important;
    border-radius: 4px !important;
    border: 1px solid var(--pf-brown-light) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

.item-wizard-modal .section-header h5 {
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-base) !important;
    font-weight: var(--pf-font-bold) !important;
    color: var(--pf-text-on-dark) !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    margin: 0 !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3) !important;
}

/* ===== ENHANCED FORM CONTROLS ===== */

.item-wizard-modal .dice-input-group,
.item-wizard-modal .damage-dice-section {
    display: flex !important;
    flex-direction: column !important;
    gap: var(--pf-space-2, 8px) !important;
}

.item-wizard-modal .dice-controls {
    display: flex !important;
    align-items: center !important;
    gap: var(--pf-space-2, 8px) !important;
    justify-content: center !important;
}

/* Enhanced checkbox and toggle styling */
.item-wizard-modal input[type="checkbox"] {
    width: 20px !important;
    height: 20px !important;
    accent-color: var(--pf-gold) !important;
    cursor: pointer !important;
}

.item-wizard-modal label {
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-sm) !important;
    font-weight: var(--pf-font-semibold) !important;
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8) !important;
    cursor: pointer !important;
}

/* ===== ACTIVE STATES AND INTERACTIONS ===== */

.item-wizard-modal .type-toggle.active {
    background: var(--pf-gradient-gold) !important;
    border-color: var(--pf-gold-dark) !important;
    color: var(--pf-brown-darkest) !important;
    box-shadow:
        0 0 12px rgba(218, 165, 32, 0.6),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2) !important;
}

.item-wizard-modal button:active,
.item-wizard-modal .btn:active,
.item-wizard-modal .stat-button:active {
    transform: translateY(1px) !important;
    box-shadow:
        0 1px 2px rgba(0, 0, 0, 0.3),
        inset 0 1px 3px rgba(0, 0, 0, 0.2) !important;
}

/* ===== IMPROVED SPACING AND LAYOUT ===== */

/* Removed duplicate wizard-step rule - consolidated above */

.item-wizard-modal .form-group {
    margin-bottom: var(--pf-space-5, 20px) !important;
}

.item-wizard-modal .form-group:last-child {
    margin-bottom: var(--pf-space-8, 32px) !important;
}

/* ===== ENHANCED MOBILE RESPONSIVENESS ===== */

@media (max-width: 1024px) {
    .item-wizard-modal .damage-controls-row {
        grid-template-columns: 1fr !important;
    }

    .item-wizard-modal .utility-stats-grid {
        grid-template-columns: 1fr !important;
    }

    .item-wizard-modal .damage-type-grid {
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)) !important;
    }
}

@media (max-width: 768px) {
    .item-wizard-modal .damage-controls-row {
        grid-template-columns: 1fr !important;
    }

    .item-wizard-modal .combat-stats-grid {
        grid-template-columns: 1fr !important;
    }

    .item-wizard-modal .damage-type-grid {
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)) !important;
    }

    .item-wizard-modal .dice-controls {
        flex-wrap: wrap !important;
        justify-content: center !important;
    }

    .item-wizard-modal .section-header {
        flex-direction: column !important;
        text-align: center !important;
    }

    .item-wizard-modal .currency-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: var(--pf-space-3, 12px) !important;
    }

    .item-wizard-modal .currency-item {
        padding: var(--pf-space-3, 12px) !important;
    }

    .item-wizard-modal .randomize-button {
        width: 20px !important;
        height: 20px !important;
        font-size: 10px !important;
    }

    .item-wizard-modal .randomize-all-button {
        font-size: 12px !important;
        padding: var(--pf-space-1, 4px) var(--pf-space-3, 12px) !important;
    }

    .item-wizard-modal .currency-icon {
        width: 36px !important;
        height: 36px !important;
    }

    /* Icon section mobile responsiveness */
    .item-wizard-modal .wow-icon-categories {
        max-height: 400px !important;
    }

    .item-wizard-modal .wow-icon-grid {
        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)) !important;
        gap: var(--pf-space-2, 8px) !important;
        padding: var(--pf-space-2, 8px) !important;
    }

    .item-wizard-modal .wow-icon-button {
        min-height: 70px !important;
        padding: var(--pf-space-2, 8px) !important;
    }

    .item-wizard-modal .wow-item-icon {
        width: 40px !important;
        height: 40px !important;
    }

    .item-wizard-modal .wow-item-preview {
        width: 100px !important;
        height: 100px !important;
    }

    .item-wizard-modal .wow-preview-section {
        padding: var(--pf-space-4, 16px) !important;
    }
}

.item-wizard-modal .stat-item:hover,
.item-wizard-modal .combat-stat-item:hover,
.item-wizard-modal .resource-item:hover {
    border-color: #4a9eff;
    box-shadow: 0 0 0 1px #4a9eff20;
}

.item-wizard-modal .stat-input-group,
.item-wizard-modal .resource-input-group {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-top: 8px;
}

.item-wizard-modal .stat-modifier,
.item-wizard-modal .resource-unit {
    color: #4a9eff;
    font-size: 14px;
    min-width: 45px;
    text-align: center;
    padding: 4px 8px;
    background: var(--pf-gradient-button) !important;
    border-radius: 4px;
    border: 2px solid var(--pf-brown-medium) !important;
}

.item-wizard-modal .wow-input {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 4px;
    padding: 8px 12px;
    font-size: 14px;
    transition: all 0.2s ease;
    width: 100%;
}

.item-wizard-modal .wow-input:hover {
    border-color: #666;
}

.item-wizard-modal .wow-input:focus {
    border-color: #4a9eff;
    outline: none;
    box-shadow: 0 0 5px rgba(255, 209, 0, 0.3);
}

.effects-section {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.effect-group {
    margin-bottom: 16px;
    padding: 12px;
    background: #222;
    border-radius: 6px;
    border: 1px solid #444;
}

.effect-group h4 {
    margin: 0 0 12px 0;
    color: #4a9eff;
    font-size: 14px;
}

.conditions-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
}

.condition-checkbox {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #ccc;
}

.special-effect-input {
    width: 100%;
    min-height: 80px;
    resize: vertical;
}

.slot-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    margin-top: 8px;
}

.slot-button {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 8px;
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.slot-button img {
    width: 32px;
    height: 32px;
    border-radius: 4px;
    margin-bottom: 4px;
    border: 1px solid #4a4a4a;
}

.slot-button span {
    color: #ccc;
    font-size: 12px;
    text-align: center;
}

.slot-button:hover {
    background: #444;
    border-color: #555;
}

.slot-button.selected {
    background: #4a9eff;
    border-color: #3a8eef;
}

.slot-button.selected span {
    color: #fff;
}

.review-section {
    display: grid;
    gap: 20px;
}

.review-combat-stats,
.review-resources {
    background: #222;
    padding: 16px;
    border-radius: 8px;
    border: 1px solid #444;
}

.review-combat-stats h5,
.review-resources h5 {
    color: #4a9eff;
    margin: 0 0 12px 0;
    font-size: 16px;
    font-weight: 500;
    border-bottom: 1px solid #333;
    padding-bottom: 8px;
}

/* WoW Quality Colors */
.wizard-step[data-quality] {
    position: relative;
    padding: 20px;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.wizard-step[data-quality]::before {
    display: none !important;
}

/* Quality-specific backgrounds */
.wizard-step[data-quality="poor"]::before {
    background: linear-gradient(45deg, #9d9d9d20, transparent);
    box-shadow: inset 0 0 20px #9d9d9d10;
}
.wizard-step[data-quality="common"]::before {
    background: linear-gradient(45deg, #ffffff20, transparent);
    box-shadow: inset 0 0 20px #ffffff10;
}
.wizard-step[data-quality="uncommon"]::before {
    background: linear-gradient(45deg, #1eff0020, transparent);
    box-shadow: inset 0 0 20px #1eff0010;
}
.wizard-step[data-quality="rare"]::before {
    background: linear-gradient(45deg, #0070dd20, transparent);
    box-shadow: inset 0 0 20px #0070dd10;
}
.wizard-step[data-quality="epic"]::before {
    background: linear-gradient(45deg, #a335ee20, transparent);
    box-shadow: inset 0 0 20px #a335ee10;
}
.wizard-step[data-quality="legendary"]::before {
    background: linear-gradient(45deg, #ff800020, transparent);
    box-shadow: inset 0 0 20px #ff800010;
}
.wizard-step[data-quality="artifact"]::before {
    background: linear-gradient(45deg, #e6cc8020, transparent);
    box-shadow: inset 0 0 20px #e6cc8010;
}

/* Quality text colors */
.wizard-step[data-quality="poor"] h3 { color: #9d9d9d; }
.wizard-step[data-quality="common"] h3 { color: #ffffff; }
.wizard-step[data-quality="uncommon"] h3 { color: #1eff00; }
.wizard-step[data-quality="rare"] h3 { color: #0070dd; }
.wizard-step[data-quality="epic"] h3 { color: #a335ee; }
.wizard-step[data-quality="legendary"] h3 { color: #ff8000; }
.wizard-step[data-quality="artifact"] h3 { color: #e6cc80; }

/* WoW Classic style description */
.item-name-input {
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid #ffffff20;
    border-radius: 4px;
    padding: 8px 12px;
    width: 100%;
    color: inherit;
    font-weight: 500;
    font-family: 'Times New Roman', serif;
    font-size: 16px;
    text-shadow: 1px 1px 0 #000;
}

.item-name-input:focus {
    outline: none;
    border-color: currentColor;
}

.item-name-input::placeholder {
    color: rgba(255, 255, 255, 0.5);
    font-style: italic;
}

/* Form group styling */
.form-group {
    position: relative;
    margin-bottom: 20px;
}

/* Removed duplicate .form-group label - using consolidated styles */

/* Description text styling */
.wow-flavor-text {
    font-family: 'Times New Roman', serif;
    font-style: italic;
    color: #ffd100;
    text-shadow: 1px 1px 0 #000;
}

.wow-heading {
    font-family: 'Times New Roman', serif;
    font-size: 18px;
    text-shadow: 1px 1px 0 #000;
    margin-bottom: 16px;
    text-align: center;
}

/* Stats styling */
.item-wizard-modal .stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
    padding: 16px;
}

.item-wizard-modal .stat-item {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    padding: 12px;
    transition: all 0.2s ease;
}

.item-wizard-modal .stat-item:hover {
    border-color: rgba(255, 209, 0, 0.3);
    background: rgba(0, 0, 0, 0.4);
}

.stat-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.stat-icon {
    width: 24px;
    height: 24px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.stat-label {
    color: #ffd100;
    font-size: 14px;
    margin-bottom: 4px;
    text-shadow: 1px 1px 0 #000;
    flex: 1;
}

.stat-input-group {
    display: flex;
    align-items: center;
    gap: 4px;
}

.stat-input-group input {
    flex: 1;
    text-align: center;
    font-weight: bold;
}

.stat-button {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #000000 !important;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.stat-button:hover {
    background: rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 255, 255, 0.2);
    color: #000000 !important;
}

.stat-description {
    opacity: 0.8;
    font-size: 14px;
    text-align: center;
    padding: 0 16px;
}

.resistance-section {
    grid-column: 1 / -1;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: 16px;
    margin-top: 16px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.resistance-section h4 {
    margin-bottom: 12px;
    color: #ffd100;
    font-size: 1.1em;
    text-align: center;
}

.resistance-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 12px;
}

.resistance-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    padding: 8px;

    transition: all 0.2s ease;
}

.resistance-item:hover {
    background: rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 255, 255, 0.2);
}

.resistance-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.resistance-icon {
    width: 24px;
    height: 24px;
    border-radius: 4px;
}

.resistance-label {
    color: #fff;
    font-size: 0.9em;
}

.spell-damage-section {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: 16px;
    margin-top: 16px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.spell-damage-section h4 {
    margin-bottom: 12px;
    color: #ffd100;
    font-size: 1.1em;
    text-align: center;
}

.damage-type-item {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.damage-type-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.damage-type-icon {
    width: 24px;
    height: 24px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.damage-type-label {
    font-size: 14px;
    color: var(--wow-text-color);
}

.stat-input-group {
    display: flex;
    align-items: center;
    gap: 4px;
}

.stat-button {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: #000000;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.stat-button:hover {
    background: rgba(255, 255, 255, 0.1);
    color: #000000;
}

.stat-input {
    width: 60px;
    text-align: center;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: var(--wow-text-color);
    padding: 4px;
    font-size: 14px;
}

.stat-input:focus {
    outline: none;
    border-color: var(--wow-accent-color);
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
}

.type-toggle {
    width: 28px;
    height: 28px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: var(--wow-text-color);
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.type-toggle.active {
    background: var(--wow-accent-color);
    color: #ffffff;
}

.grid-input-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 8px;
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 4px;
}

.grid-dimension {
    display: flex;
    align-items: center;
    gap: 8px;
}

.grid-dimension label {
    width: 50px;
    color: #ccc;
    font-size: 14px;
}

.grid-input {
    width: 50px;
    text-align: center;
    background: #2c2c2c;
    border: 1px solid #404040;
    color: #fff;
    padding: 2px 4px;
    font-size: 14px;
}

.grid-preview {
    text-align: center;
    color: #ccc;
    font-size: 14px;
    padding: 4px;
    background: #2c2c2c;
    border-radius: 2px;
}

/* Utility Stats Grid */
.utility-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 16px;
    padding: 16px;
}

/* Combat Stats Grid */
.combat-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 16px;
    padding: 16px;
}

/* Stat Items */
.item-wizard-modal .stat-item {
    background: #2c2c2c;
    border: 1px solid #404040;
    padding: 12px;
    border-radius: 4px;
}

.stat-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.stat-icon {
    width: 24px;
    height: 24px;
    border-radius: 2px;
}

.stat-label {
    color: #fff;
    font-size: 14px;
}

/* Make inputs more compact on smaller screens */
@media (max-width: 768px) {
    .utility-stats-grid,
    .combat-stats-grid {
        grid-template-columns: 1fr;
    }

    .stat-input {
        width: 50px;
    }

    .grid-input {
        width: 40px;
    }
}

/* Resistance Toggles */
.resistance-controls {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 4px;
}

.resistance-toggles {
    display: flex;
    gap: 8px;
}

.resistance-toggle-label {
    display: flex;
    align-items: center;
    gap: 4px;
    color: #ccc;
    font-size: 12px;
    cursor: pointer;
    padding: 2px 6px;
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.2s ease;
    flex: 1;
}

.resistance-toggle-label:hover {
    background: rgba(255, 255, 255, 0.1);
}

.resistance-toggle-label input[type="checkbox"] {
    margin: 0;
    cursor: pointer;
    width: 14px;
    height: 14px;
    accent-color: #ffd100;
}

.resistance-toggle-label span {
    flex: 1;
    text-align: center;
}

.resistance-toggle-label input[type="checkbox"]:checked + span {
    color: #ffd100;
    text-shadow: 0 0 4px rgba(255, 209, 0, 0.5);
}

.resistance-item .stat-input-group {
    width: 100%;
}

.resistance-item .stat-input {
    flex: 1;
    text-align: center;
    min-width: 0;
}

/* ===== ENHANCED CURRENCY SECTION STYLING ===== */

.item-wizard-modal .value-section {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 12px !important;
    padding: var(--pf-space-6, 24px) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
    display: flex !important;
    flex-direction: column !important;
    gap: var(--pf-space-6, 24px) !important;
}

.item-wizard-modal .currency-grid {
    display: grid !important;
    grid-template-columns: repeat(4, 1fr) !important;
    gap: var(--pf-space-2, 8px) !important;
    width: 100% !important;
    max-width: 100% !important;
}

.item-wizard-modal .currency-item {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 8px !important;
    padding: var(--pf-space-2, 8px) !important;
    box-shadow:
        0 3px 6px rgba(139, 69, 19, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
    transition: all 0.2s ease !important;
    display: flex !important;
    flex-direction: column !important;
    gap: var(--pf-space-2, 8px) !important;
    min-width: 0 !important;
    overflow: hidden !important;
}

.item-wizard-modal .currency-item:hover {
    border-color: var(--pf-brown-dark) !important;
    transform: translateY(-2px) !important;
    box-shadow:
        0 6px 12px rgba(139, 69, 19, 0.25),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

.item-wizard-modal .currency-header {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: var(--pf-space-2, 8px) !important;
    padding-bottom: var(--pf-space-2, 8px) !important;
    border-bottom: 2px solid var(--pf-brown-light) !important;
    margin-bottom: var(--pf-space-2, 8px) !important;
}

.item-wizard-modal .currency-icon {
    width: 32px !important;
    height: 32px !important;
    border-radius: 6px !important;
    border: 2px solid var(--pf-brown-light) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    transition: all 0.2s ease !important;
}

.item-wizard-modal .currency-item:hover .currency-icon {
    border-color: var(--pf-brown-dark) !important;
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3) !important;
}

.item-wizard-modal .currency-label {
    font-family: var(--pf-font-display) !important;
    font-size: 11px !important;
    font-weight: var(--pf-font-bold) !important;
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.3px !important;
    margin: 0 !important;
}

/* Enhanced currency input controls */
.item-wizard-modal .currency-item .stat-input-group {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: var(--pf-space-2, 8px) !important;
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 8px !important;
    padding: var(--pf-space-2, 8px) !important;
    box-shadow: inset 0 2px 4px rgba(139, 69, 19, 0.1) !important;
}

.item-wizard-modal .currency-item .stat-input {
    background: var(--pf-gradient-parchment) !important;
    border: 1px solid var(--pf-brown-light) !important;
    border-radius: 4px !important;
    color: var(--pf-text-primary) !important;
    font-family: var(--pf-font-display) !important;
    font-size: 12px !important;
    font-weight: var(--pf-font-bold) !important;
    text-align: center !important;
    padding: var(--pf-space-1, 4px) !important;
    min-width: 40px !important;
    max-width: 50px !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.6) !important;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1) !important;
}

.item-wizard-modal .currency-item .stat-input:focus {
    outline: none !important;
    border-color: var(--pf-gold) !important;
    box-shadow:
        inset 0 1px 2px rgba(0, 0, 0, 0.1),
        0 0 0 2px rgba(218, 165, 32, 0.3) !important;
}

.item-wizard-modal .currency-item .stat-button {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 4px !important;
    color: #000000 !important;
    font-family: var(--pf-font-display) !important;
    font-size: 14px !important;
    font-weight: var(--pf-font-bold) !important;
    width: 24px !important;
    height: 24px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    text-shadow: none !important;
    box-shadow:
        0 2px 4px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
}

.item-wizard-modal .currency-item .stat-button:hover {
    background: var(--pf-gradient-button-hover) !important;
    color: #000000 !important;
}

.item-wizard-modal .currency-item .stat-button:active {
    transform: translateY(1px) !important;
    color: #000000 !important;
}

.item-wizard-modal .currency-item .stat-button:hover {
    background: var(--pf-gradient-button-hover) !important;
    border-color: var(--pf-brown-dark) !important;
    transform: translateY(-1px) !important;
    box-shadow:
        0 3px 6px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

.item-wizard-modal .currency-item .stat-button:active {
    transform: translateY(0) !important;
    box-shadow:
        0 1px 2px rgba(0, 0, 0, 0.3),
        inset 0 1px 3px rgba(0, 0, 0, 0.2) !important;
}

/* ===== RANDOMIZER BUTTONS ===== */

.item-wizard-modal .randomize-button {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 4px !important;
    color: #000000 !important;
    font-size: 12px !important;
    width: 24px !important;
    height: 24px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    margin-top: var(--pf-space-1, 4px) !important;
    box-shadow:
        0 2px 4px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
}

.item-wizard-modal .randomize-button:hover {
    background: var(--pf-gradient-button-hover) !important;
    border-color: var(--pf-brown-dark) !important;
    transform: translateY(-1px) !important;
    box-shadow:
        0 3px 6px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

.item-wizard-modal .randomize-button:active {
    transform: translateY(0) !important;
    box-shadow:
        0 1px 2px rgba(0, 0, 0, 0.3),
        inset 0 1px 3px rgba(0, 0, 0, 0.2) !important;
}

.item-wizard-modal .randomize-all-section {
    display: flex !important;
    justify-content: center !important;
    margin: var(--pf-space-4, 16px) 0 !important;
}

.item-wizard-modal .randomize-all-button {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 8px !important;
    color: #000000 !important;
    font-family: var(--pf-font-display) !important;
    font-size: 14px !important;
    font-weight: var(--pf-font-bold) !important;
    padding: var(--pf-space-2, 8px) var(--pf-space-4, 16px) !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.6) !important;
    box-shadow:
        0 2px 4px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
    display: flex !important;
    align-items: center !important;
    gap: var(--pf-space-2, 8px) !important;
}

.item-wizard-modal .randomize-all-button:hover {
    background: var(--pf-gradient-button-hover) !important;
    border-color: var(--pf-brown-dark) !important;
    transform: translateY(-2px) !important;
    box-shadow:
        0 4px 8px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

.item-wizard-modal .randomize-all-button:active {
    transform: translateY(0) !important;
    box-shadow:
        0 2px 4px rgba(0, 0, 0, 0.3),
        inset 0 1px 3px rgba(0, 0, 0, 0.2) !important;
}

/* Enhanced value total display */
.item-wizard-modal .value-total {
    background: var(--pf-gradient-header) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 10px !important;
    padding: var(--pf-space-4, 16px) !important;
    text-align: center !important;
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-lg) !important;
    font-weight: var(--pf-font-bold) !important;
    color: var(--pf-text-on-dark) !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3) !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    box-shadow:
        0 3px 6px rgba(139, 69, 19, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
    margin-top: var(--pf-space-4, 16px) !important;
    display: flex !important;
    flex-direction: column !important;
    gap: var(--pf-space-2, 8px) !important;
}

.item-wizard-modal .value-total .total-label {
    font-size: var(--pf-text-base) !important;
    color: var(--pf-text-on-dark) !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3) !important;
}

.item-wizard-modal .value-total .currency-display {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: var(--pf-space-3, 12px) !important;
    font-size: var(--pf-text-xl) !important;
    font-weight: var(--pf-font-bold) !important;
}

/* Individual currency styling in total */
.item-wizard-modal .value-total .gold-amount {
    color: #FFD700 !important;
    text-shadow:
        1px 1px 2px rgba(0, 0, 0, 0.5),
        0 0 8px rgba(255, 215, 0, 0.6) !important;
}

.item-wizard-modal .value-total .gold-symbol {
    color: #FFD700 !important;
    font-size: var(--pf-text-base) !important;
    margin-right: var(--pf-space-2, 8px) !important;
}

.item-wizard-modal .value-total .silver-amount {
    color: #C0C0C0 !important;
    text-shadow:
        1px 1px 2px rgba(0, 0, 0, 0.5),
        0 0 8px rgba(192, 192, 192, 0.6) !important;
}

.item-wizard-modal .value-total .silver-symbol {
    color: #C0C0C0 !important;
    font-size: var(--pf-text-base) !important;
    margin-right: var(--pf-space-2, 8px) !important;
}

.item-wizard-modal .value-total .copper-amount {
    color: #B87333 !important;
    text-shadow:
        1px 1px 2px rgba(0, 0, 0, 0.5),
        0 0 8px rgba(184, 115, 51, 0.6) !important;
}

.item-wizard-modal .value-total .copper-symbol {
    color: #B87333 !important;
    font-size: var(--pf-text-base) !important;
}

/* Currency Amount Section */
.currency-amount-section {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.currency-amount-display {
    display: flex;
    align-items: center;
    gap: 16px;
    padding-bottom: 16px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.currency-icon-large {
    width: 64px;
    height: 64px;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

.currency-info {
    flex: 1;
}

.currency-info h4 {
    color: #ffd100;
    font-size: 18px;
    margin: 0 0 8px 0;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

.currency-info p {
    color: #cccccc;
    font-size: 14px;
    margin: 0;
}

.currency-amount-config {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.currency-value-control {
    display: flex;
    align-items: center;
    gap: 16px;
}

.currency-value-control label {
    color: #ffd100;
    font-size: 16px;
    min-width: 80px;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

.currency-type-display {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
    padding: 12px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.currency-type-display p {
    color: #cccccc;
    font-size: 14px;
    margin: 0;
    text-align: center;
}

.value-total {
    font-size: 16px;
    color: #ffd100;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    padding: 8px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Removed conflicting item-tooltip styles - using main styles from item-tooltip.css */

/* Special styling for item tooltip in review step */
.review-step .item-tooltip {
    margin: 0 auto;
}

/* Key Usage Section Styling */
.key-usage-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.usage-option {
    background: rgba(213, 203, 176, 0.2);
    border: 1px solid rgba(139, 69, 19, 0.3);
    border-radius: 6px;
    padding: 12px;
    transition: all 0.2s ease;
}

.usage-option:hover {
    background: rgba(213, 203, 176, 0.3);
    border-color: rgba(139, 69, 19, 0.5);
}

.usage-label {
    display: flex;
    flex-direction: column;
    gap: 4px;
    cursor: pointer;
    margin-left: 8px;
}

.usage-title {
    font-weight: bold;
    color: #f8f4e6;
    font-size: 14px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.usage-description {
    font-size: 12px;
    color: #c4a373;
    font-style: italic;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.usage-note {
    padding: 8px 12px;
    background: rgba(139, 69, 19, 0.1);
    border-radius: 4px;
    border-left: 3px solid #d4af37;
}

.note-text {
    font-size: 13px;
    color: #d4af37;
    font-weight: 500;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

.quality-common { color: #ffffff; }
.quality-uncommon { color: #1eff00; }
.quality-rare { color: #0070dd; }
.quality-epic { color: #a335ee; }
.quality-legendary { color: #ff8000; }

.item-slot {
    color: #ffd100;
    font-size: 14px;
    margin-bottom: 8px;
}

.item-armor {
    color: #ffffff;
    font-size: 14px;
    margin-bottom: 8px;
}

.stat-line {
    color: #1eff00;
    font-size: 14px;
    margin: 2px 0;
}

.resistance-line {
    color: #1eff00;
    font-size: 14px;
    margin: 2px 0;
}

.item-utility {
    color: #1eff00;
    font-size: 14px;
    margin: 4px 0;
}

.item-value {
    margin-top: 8px;
    padding-top: 8px;
    border-top: 1px solid #4a4a4a;
    font-size: 14px;
}

.sell-price {
    color: #9d9d9d;
}

.gold {
    color: #ffd100;
}

.silver {
    color: #c0c0c0;
}

.copper {
    color: #b87333;
}

.green-text {
    color: #1eff00;
}

.yellow-text {
    color: #ffd100;
}

.grey-text {
    color: #9d9d9d;
}

.item-damage {
    color: #ffffff;
    font-size: 14px;
    margin: 8px 0;
}



.review-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    gap: 20px;
}

.preview-section {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 20px;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.tooltip-preview {
    margin: 20px 0;
    position: relative;
}

.review-layout {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
}

.tooltip-container {
    flex: 0 0 auto;
    max-height: 500px;
    overflow-y: auto;
    padding-right: 10px;
    scrollbar-width: thin;
    scrollbar-color: var(--pf-brown-medium) var(--pf-brown-light) !important;
}

.tooltip-container.centered {
    margin: 0 auto;
    max-width: 350px;
    padding: 0;
    background: transparent;
    border: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    overflow-x: hidden; /* Prevent horizontal scrolling */
}

/* Review step specific styles */
.review-step {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    height: 100% !important;
    width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
    overflow: hidden !important;
    position: relative !important;
}

.review-tooltip-container {
    max-width: 320px !important;
    width: 100% !important;
    margin: 0 auto !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    background: transparent !important;
    padding: 0 !important;
    overflow: hidden !important;
    position: relative !important;
}

.review-step .item-tooltip {
    width: 100% !important;
    max-width: 320px !important;
    margin: 0 auto !important;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5) !important;
    position: relative !important;
    left: 0 !important;
    right: 0 !important;
    transform: none !important;
}

.create-item-button {
    background: #4CAF50 !important;
    color: white !important;
    font-weight: bold !important;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important;
    transition: all 0.2s ease !important;
    font-size: 16px !important;
    padding: 10px 20px !important;
}

.review-footer {
    display: flex !important;
    justify-content: space-between !important;
    width: 100% !important;
}

.create-item-button:hover {
    background: #45a049 !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3) !important;
}

.tooltip-container::-webkit-scrollbar {
    width: 8px;
}

.tooltip-container::-webkit-scrollbar-track {
    background: var(--pf-brown-light) !important;
    border-radius: 4px !important;
}

.tooltip-container::-webkit-scrollbar-thumb {
    background: var(--pf-brown-medium) !important;
    border-radius: 4px !important;
    border: 1px solid var(--pf-brown-light) !important;
}

.tooltip-container::-webkit-scrollbar-thumb:hover {
    background: var(--pf-brown-dark) !important;
}

.review-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.review-section {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: 15px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.review-section h4 {
    color: #ffd100;
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 16px;
}

.review-section p {
    color: #aaa;
    margin-bottom: 15px;
    font-size: 14px;
    line-height: 1.4;
}

.review-checklist {
    list-style-type: none;
    padding: 0;
    margin: 0;
}

.review-checklist li {
    padding: 6px 0;
    color: #fff;
    font-size: 14px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    position: relative;
    padding-left: 24px;
}

.review-checklist li:last-child {
    border-bottom: none;
}

.review-checklist li:before {
    content: "";
    color: #1eff00;
    position: absolute;
    left: 0;
    top: 6px;
}

.review-actions {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}

.wow-button {
    background: #4a9eff;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.2s;
}

.wow-button:hover {
    background: #3a8eef;
}

.wow-button.secondary {
    background: #666;
}

.wow-button.secondary:hover {
    background: #555;
}

.slot-selection,
.subtype-selection,
.hand-selection,
.quality-selection {
    margin-bottom: 16px;
}

.slot-options,
.subtype-options,
.hand-options,
.quality-options {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 8px;
    margin-top: 8px;
}

.slot-option,
.subtype-option,
.hand-option,
.quality-option {
    background: var(--pf-gradient-button) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 4px;
    padding: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.slot-option:hover,
.subtype-option:hover,
.hand-option:hover,
.quality-option:hover {
    background: linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%) !important;
    border-color: var(--pf-gold) !important;
}

.slot-option.selected,
.subtype-option.selected,
.hand-option.selected,
.quality-option.selected {
    background: linear-gradient(145deg, var(--pf-gold-light) 0%, var(--pf-gold) 50%, var(--pf-gold-dark) 100%) !important;
    border-color: var(--pf-gold-dark) !important;
    box-shadow: 0 0 10px rgba(255, 209, 0, 0.3);
}

.slot-option img,
.subtype-option img,
.hand-option img,
.quality-option img {
    width: 36px;
    height: 36px;
    border-radius: 4px;
    margin-bottom: 6px;
    border: 1px solid #4a4a4a;
}

.slot-option span,
.subtype-option span,
.hand-option span,
.quality-option span {
    color: var(--pf-text-primary, #2d1810) !important;
    font-size: 13px !important;
    font-weight: bold !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5) !important;
    font-family: var(--pf-font-display, 'Cinzel', serif) !important;
}

.slot-description,
.hand-description,
.quality-description {
    color: #999;
    font-size: 11px;
    margin-top: 4px;
    line-height: 1.2;
}

h4 {
    color: #ffd100;
    font-size: 14px;
    margin-bottom: 6px;
    font-weight: bold;
}

.damage-properties-section {
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.2));
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 24px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.damage-properties-section h4 {
    margin-bottom: 20px;
    text-align: center;
    color: var(--wow-heading-color);
    font-size: 1.4em;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
}

.damage-grid {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.damage-row {
    display: flex;
    gap: 24px;
    align-items: stretch;
}

.damage-section {
    flex: 1;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: 16px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.section-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.section-header img {
    width: 32px;
    height: 32px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.section-header h5 {
    margin: 0;
    font-size: 1.2em;
    color: var(--wow-heading-color);
}

.damage-content {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.dice-input-group {
    display: flex;
    gap: 12px;
    margin-bottom: 16px;
    background: rgba(0, 0, 0, 0.2);
    padding: 12px;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.dice-input-group .wow-select {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #ffffff;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 1.1em;
    flex: 1;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
    font-weight: 500;
    min-width: 80px;
    appearance: none;
    background-image: linear-gradient(135deg, rgba(240, 230, 210, 0.95) 0%, rgba(230, 220, 200, 0.9) 50%, rgba(213, 203, 176, 0.85) 100%);
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 12px;
    padding-right: 32px;
}

.dice-input-group .wow-select:hover {
    background-color: rgba(0, 0, 0, 0.6);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.dice-input-group .wow-select:focus {
    outline: none;
    border-color: var(--wow-accent-color, #ffd100);
    box-shadow: 0 0 0 2px rgba(255, 209, 0, 0.2);
}

.bonus-input-group {
    display: flex;
    gap: 12px;
    margin-bottom: 16px;
    background: rgba(0, 0, 0, 0.2);
    padding: 12px;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    align-items: center;
}

.bonus-input-group .stat-input {
    text-align: center;
    width: 120px; /* Increased from 80px for better visibility */
    padding: 8px 12px;
    border-radius: 6px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--wow-text-color);
    font-size: 1.1em;
    font-weight: 500;
}

.bonus-input-group .stat-input:focus {
    outline: none;
    border-color: var(--wow-accent-color);
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
}

.bonus-input-group .stat-button {
    width: 36px;
    height: 36px;
    font-size: 18px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #000000;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
}

.bonus-input-group .stat-button:hover {
    background: rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 255, 255, 0.3);
    color: #000000;
}

.bonus-input-group .stat-button:active {
    transform: translateY(1px);
    color: #000000;
}

.bonus-input-group .stat-button:hover {
    background: rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 255, 255, 0.2);
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.bonus-input-group .stat-button:active {
    transform: translateY(1px);
}

.damage-type-button {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    border: 1px solid;
    border-radius: 6px;
    background: rgba(0, 0, 0, 0.5);
    color: var(--wow-text-color, #ffffff);
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 1em;
    position: relative;
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Item Editor Damage Type Button */
.item-editor .damage-type-button {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
    padding: 12px;
    border: 1px solid var(--type-color, #666);
    border-radius: 6px;
    background: linear-gradient(to bottom, rgba(var(--type-color-rgb, 0, 0, 0), 0.2), rgba(var(--type-color-rgb, 0, 0, 0), 0.1));
    color: var(--wow-text-color, #ffffff);
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 1em;
    position: relative;
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    height: auto;
    width: 100%;
}

.item-editor .damage-type-button .damage-type-icon {
    width: 32px;
    height: 32px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    margin-right: 8px;
    float: left;
}

.item-editor .damage-type-button .damage-type-tooltip {
    display: flex;
    flex-direction: column;
    gap: 4px;
    position: static;
    background: none;
    border: none;
    box-shadow: none;
    padding: 0;
    margin: 0;
    transform: none;
    pointer-events: auto;
}

.item-editor .damage-type-button .damage-type-name {
    font-size: 15px;
    font-weight: 600;
    color: var(--type-color, #ffffff);
    text-shadow: 0 0 10px var(--type-color, #ffffff);
    line-height: 1.2;
    white-space: nowrap;
    margin-bottom: 4px;
    text-align: left;
}

.item-editor .damage-type-button .damage-type-description {
    font-size: 13px;
    color: #e0e0e0;
    line-height: 1.3;
    text-align: left;
}

.damage-type-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.1), transparent);
    opacity: 0;
    transition: opacity 0.2s ease;
}

.damage-type-button:hover::before {
    opacity: 1;
}

.damage-type-button:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.damage-type-button.selected {
    color: #000;
    font-weight: 500;
    transform: translateY(1px);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

.damage-type-button.selected::before {
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
    opacity: 1;
}

.damage-type-icon {
    width: 24px;
    height: 24px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    background-color: rgba(0, 0, 0, 0.3);
    padding: 2px;
}

.damage-type-button span {
    flex: 1;
    text-align: left;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

.damage-type-button.selected span {
    text-shadow: none;
}

/* Dropdown option styling */
.dice-input-group .wow-select option {
    background-color: var(--pf-gradient-button) !important;
    color: #ffffff;
    padding: 8px;
    font-size: 14px;
}

.stat-button {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--wow-border-color);
    color: #000000;
    width: 32px;
    height: 32px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 16px;
    font-weight: bold;
}

.stat-button:hover {
    background: rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 255, 255, 0.3);
    color: #000000;
}

.stat-button:active {
    transform: translateY(1px);
    color: #000000;
}

.stat-input {
    text-align: center;
    width: 60px;
    padding: 4px 8px;
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--wow-border-color);
    color: var(--wow-text-color);
    font-size: 14px;
}

.stat-input:focus {
    outline: none;
    border-color: var(--wow-accent-color);
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
}

.carrying-capacity-section {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.capacity-toggle {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    user-select: none;
}

.capacity-toggle input[type="checkbox"] {
    width: 18px;
    height: 18px;
    margin: 0;
    cursor: pointer;
}

.capacity-size-selector {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding-left: 26px;
}

.size-buttons {
    display: flex;
    gap: 8px;
}

.size-button {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    color: var(--wow-text-color);
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.size-button:hover {
    background: rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 255, 255, 0.2);
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.size-button.selected {
    background: var(--wow-accent-color);
    border-color: var(--wow-accent-color);
    color: #000;
    font-weight: 500;
    transform: translateY(1px);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

.capacity-preview {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 8px;
}

.preview-label {
    font-size: 0.9em;
    color: var(--wow-text-color);
    opacity: 0.8;
}

.additional-slots-grid {
    display: grid;
    grid-template-columns: repeat(5, 40px);
    gap: 4px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    width: fit-content;
}

.additional-slot {
    width: 40px;
    height: 40px;
    background: var(--wow-accent-color);
    opacity: 0.3;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    position: relative;
    transition: all 0.2s ease;
    cursor: pointer;
}

.additional-slot:hover {
    opacity: 0.5;
    transform: translateY(-1px);
}

.slot-plus {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #fff;
    font-size: 16px;
    font-weight: bold;
}

.damage-section {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 16px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.damage-type-selector {
    display: flex;
    align-items: center;
    gap: 12px;
}

.damage-type-selector label {
    font-size: 0.9em;
    color: var(--wow-text-color);
    opacity: 0.8;
    min-width: 100px;
}

.damage-value-section {
    display: flex;
    align-items: center;
    gap: 12px;
}

.damage-value-section label {
    font-size: 0.9em;
    color: var(--wow-text-color);
    opacity: 0.8;
    min-width: 100px;
}

.damage-inputs {
    display: flex;
    align-items: center;
    gap: 8px;
}

.dice-select {
    width: 80px;
}

.damage-modifier {
    display: flex;
    align-items: center;
    gap: 4px;
}

.sign-select {
    width: 50px;
}

.damage-number {
    width: 60px;
    padding: 6px 12px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: var(--wow-text-color);
    font-size: 14px;
    text-align: center;
}

.damage-number:hover {
    background: rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 255, 255, 0.2);
}

.damage-number:focus {
    outline: none;
    border-color: var(--wow-accent-color);
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
}

.quest-property {
    margin-bottom: 16px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

.quest-property-header {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
}

.quest-icon {
    width: 32px;
    height: 32px;
    margin-right: 12px;
    border: 1px solid #4a4a4a;
    border-radius: 4px;
}

.quest-property label {
    color: #ffd100;
    font-size: 16px;
    font-weight: 500;
}

.quest-property input,
.quest-property textarea {
    width: 100%;
    margin-top: 4px;
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid #4a4a4a;
    padding: 8px 12px;
    color: #ffffff;
}

.quest-property .time-limit-input {
    display: flex;
    align-items: center;
    gap: 12px;
}

.quest-property .time-limit-input input {
    width: 120px;
}

.quest-property .time-limit-input span {
    color: #888888;
    font-size: 14px;
}

.gathering-requirements {
    padding: 20px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    margin-top: 20px;
}

.gathering-items {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-top: 15px;
}

.gathering-item {
    display: flex;
    gap: 10px;
    align-items: center;
}

.gathering-item .wow-input {
    flex: 1;
}

.gathering-item .quantity-input {
    width: 100px;
    flex: 0 0 auto;
}

.gathering-item .remove-button {
    background-color: #8b0000;
    padding: 5px 10px;
    font-size: 14px;
}

.gathering-requirements .add-button {
    align-self: flex-start;
    margin-top: 10px;
    background-color: #006400;
}

/* Size Selector */
.capacity-size-selector {
    display: flex;
    flex-direction: column;
    gap: 16px;
    padding-left: 62px;
}

.dimension-selectors {
    display: flex;
    gap: 24px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.dimension-group {
    display: flex;
    align-items: center;
    gap: 8px;
}

.dimension-group label {
    font-size: 0.9em;
    color: var(--wow-text-color);
    opacity: 0.8;
    min-width: 50px;
}

.dimension-group .wow-select {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: var(--wow-text-color);
    padding: 6px 12px;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 60px;
}

.dimension-group .wow-select:hover {
    background: rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 255, 255, 0.2);
}

.dimension-group .wow-select:focus {
    outline: none;
    border-color: var(--wow-accent-color);
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
}

.capacity-preview {
    font-size: 0.9em;
    color: var(--wow-text-color);
    opacity: 0.8;
    text-align: center;
    padding: 4px 8px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
    margin-top: 4px;
}

.slots-input {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.slots-input label {
    font-size: 0.9em;
    color: var(--wow-text-color);
    opacity: 0.8;
    min-width: 100px;
}

.slots-input .wow-input {
    width: 100px; /* Increased from 60px for better visibility */
    padding: 8px 12px; /* Increased padding for better usability */
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: var(--wow-text-color);
    font-size: 14px;
    text-align: center;
}

.slots-input .wow-input:hover {
    background: rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 255, 255, 0.2);
}

.slots-input .wow-input:focus {
    outline: none;
    border-color: var(--wow-accent-color);
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
}

.capacity-preview {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 8px;
}

.preview-label {
    font-size: 0.9em;
    color: var(--wow-text-color);
    opacity: 0.8;
}

.additional-slots-grid {
    display: grid;
    grid-template-columns: repeat(5, 40px);
    gap: 4px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    width: fit-content;
}

.additional-slot {
    width: 40px;
    height: 40px;
    background: var(--wow-accent-color);
    opacity: 0.3;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    position: relative;
    transition: all 0.2s ease;
    cursor: pointer;
}

.additional-slot:hover {
    opacity: 0.5;
    transform: translateY(-1px);
}

.slot-plus {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #fff;
    font-size: 16px;
    font-weight: bold;
}

.quality-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
    gap: 12px;
    margin-top: 8px;
}

.quality-button {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: var(--pf-gradient-button, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%)) !important;
    border: 2px solid var(--pf-brown-light, #a08c70) !important;
    border-radius: var(--pf-border-radius, 8px) !important;
    padding: 12px 8px;
    cursor: pointer;
    transition: all var(--pf-transition-normal, 0.25s ease) !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

.quality-button:hover {
    background: var(--pf-gradient-button-hover, linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%)) !important;
    transform: translateY(-2px);
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.15),
        0 4px 8px rgba(0, 0, 0, 0.15) !important;
}

.quality-button.selected {
    background: var(--pf-gradient-gold, linear-gradient(145deg, #f4d03f 0%, #d4af37 50%, #b8860b 100%)) !important;
    border-color: var(--pf-gold-dark, #b8860b) !important;
    box-shadow:
        inset 0 2px 4px rgba(184, 134, 11, 0.2),
        0 4px 12px rgba(212, 175, 55, 0.3) !important;
}

.quality-button img {
    width: 32px;
    height: 32px;
    border-radius: 4px;
    margin-bottom: 8px;
}

.quality-button span {
    font-size: 12px;
    text-align: center;
    color: var(--pf-text-primary, #2d1810) !important;
    font-family: var(--pf-font-display, 'Cinzel', serif) !important;
    font-weight: 600 !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5) !important;
}

.quality-button[data-quality="poor"] { color: #9d9d9d; }
.quality-button[data-quality="common"] { color: #ffffff; }
.quality-button[data-quality="uncommon"] { color: #1eff00; }
.quality-button[data-quality="rare"] { color: #0070dd; }
.quality-button[data-quality="epic"] { color: #a335ee; }
.quality-button[data-quality="legendary"] { color: #ff8000; }
.quality-button[data-quality="artifact"] { color: #e6cc80; }

.quality-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 12px;
    margin-top: 8px;
}

.quality-button {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 12px 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

.quality-button .flavor-text {
    font-size: 11px;
    text-align: center;
    opacity: 0;
    position: absolute;
    bottom: 100%;
    left: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.9);
    padding: 8px;
    border-radius: 4px;
    margin-bottom: 4px;
    pointer-events: none;
    transition: opacity 0.2s ease;
    z-index: 100;
    white-space: normal;
    line-height: 1.3;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.quality-button:hover .flavor-text {
    opacity: 1;
}

.spell-damage-section {
    margin-top: 20px;
    padding: 16px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.spell-damage-section h4 {
    margin-bottom: 16px;
    color: var(--wow-text-color);
    font-size: 16px;
}

.damage-type-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
    max-height: none;
    overflow: visible;
}

.item-editor .damage-type-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 10px;
    max-height: none;
    overflow: visible;
}

.damage-type-item {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.damage-type-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.damage-type-icon {
    width: 28px;
    height: 28px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.damage-type-label {
    font-size: 16px;
    font-weight: 500;
    color: #ffffff;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

.damage-type-item .stat-input-group {
    display: flex;
    align-items: center;
    gap: 4px;
}

.damage-type-item .stat-button {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: var(--wow-text-color);
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.damage-type-item .stat-button:hover {
    background: rgba(255, 255, 255, 0.1);
}

.damage-type-item .stat-input {
    width: 60px;
    text-align: center;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: var(--wow-text-color);
    padding: 4px;
    font-size: 14px;
}

.damage-type-item .type-toggle {
    width: 28px;
    height: 28px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: var(--wow-text-color);
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.damage-type-item .type-toggle.active {
    background: var(--wow-accent-color);
    color: #fff;
}

/* Progress Bar Container */
.wow-progress-bar {
    position: relative;
    width: 100%;
    height: 42px;
    background: var(--pf-gradient-parchment);
    border: 3px solid var(--pf-brown-medium);
    border-radius: 12px;
    overflow: visible !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.2),
        inset 0 2px 4px rgba(139, 69, 19, 0.1);
    margin: 12px 0 24px;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
}

.wow-progress-segments {
    position: relative;
    display: flex;
    width: 100%;
    height: 100%;
    z-index: 2;
    border-radius: 9px;
    overflow: hidden;
}

.tooltip-container {
    border-radius: 12px;
    background: var(--pf-gradient-parchment);
    border: 2px solid var(--pf-brown-light);
    padding: 20px;
    margin-bottom: 24px;
    max-width: 500px;
    margin: 0 auto 24px;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.wow-progress-fill {
    position: absolute;
    height: 100%;
    max-width: 100%;
    background: linear-gradient(to right,
        rgba(212, 175, 55, 0.1),
        rgba(212, 175, 55, 0.3),
        rgba(212, 175, 55, 0.2)
    );
    box-shadow:
        0 0 12px rgba(212, 175, 55, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
    transition: width 0.3s ease;
    z-index: 1;
    border-radius: 9px;
}

/* Progress Segments */
.wow-progress-segment {
    position: relative;
    flex: 1 1 0;
    min-width: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    border-right: 2px solid var(--pf-brown-medium);
    transition: all 0.2s ease;
}

.wow-progress-segment:last-child {
    border-right: none;
}

/* Segment States */
.wow-progress-segment:hover {
    background-color: rgba(212, 175, 55, 0.15);
    cursor: pointer;
}

.wow-progress-segment.completed {
    background-color: rgba(212, 175, 55, 0.1);
}

.wow-progress-segment.active {
    background-color: rgba(212, 175, 55, 0.25);
    box-shadow: inset 0 0 8px rgba(212, 175, 55, 0.3);
}

/* Step Icon */
.step-icon {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: var(--pf-gradient-button);
    border: 2px solid var(--pf-brown-medium);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Cinzel', serif;
    font-weight: 700;
    color: var(--pf-text-primary);
    transition: all 0.2s ease;
    box-shadow:
        0 2px 4px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

.wow-progress-segment:hover .step-icon {
    border-color: var(--pf-gold);
    box-shadow:
        0 4px 8px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.7),
        0 0 12px rgba(212, 175, 55, 0.4);
    background: linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%);
    transform: scale(1.1);
}

.wow-progress-segment.completed .step-icon {
    border-color: var(--pf-gold-dark);
    background: linear-gradient(145deg, var(--pf-gold-light) 0%, var(--pf-gold) 50%, var(--pf-gold-dark) 100%);
    color: var(--pf-brown-darkest);
    box-shadow:
        0 2px 4px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.7),
        0 0 8px rgba(212, 175, 55, 0.3);
}

.wow-progress-segment.active .step-icon {
    border-color: var(--pf-gold);
    background: linear-gradient(145deg, #f4d03f 0%, #d4af37 50%, #b8860b 100%);
    color: var(--pf-brown-darkest);
    box-shadow:
        0 4px 8px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.8),
        0 0 16px rgba(212, 175, 55, 0.6);
    transform: scale(1.15);
}

/* Tooltip */
.step-tooltip {
    position: absolute;
    bottom: calc(100% + 12px);
    left: 50%;
    transform: translateX(-50%);
    background: var(--pf-gradient-parchment);
    border: 2px solid var(--pf-brown-medium);
    border-radius: 8px;
    padding: 12px 16px;
    color: var(--pf-text-primary);
    font-family: 'Cinzel', serif;
    font-weight: 600;
    max-width: 220px;
    text-align: center;
    pointer-events: none;
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s ease;
    box-shadow:
        0 8px 16px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.6);
    z-index: 1000;
}

.wow-progress-segment:hover .step-tooltip {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(-4px);
}
.step-tooltip-content {
    max-width: 300px;
    width: 100%;
    overflow: hidden;
}
.step-tooltip::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-top: 5px solid rgba(37, 150, 255, 0.4);
}

/* Tooltip Content */
.step-tooltip .tooltip-header {
    display: flex;
    align-items: center;
    gap: 8px;
    padding-bottom: 6px;
    border-bottom: 1px solid rgba(37, 150, 255, 0.2);
    margin-bottom: 6px;
}

.step-tooltip .tooltip-icon {
    width: 24px;
    height: 24px;
    border-radius: 3px;
    border: 1px solid rgba(37, 150, 255, 0.4);
    filter: brightness(1.1) saturate(1.1);
}

/* Tooltip classes removed - using unified Pathfinder tooltip system */

.quest-properties {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    padding: 1rem;
}

.property-section {
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 1rem;
}

.property-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
}

.property-icon {
    width: 32px;
    height: 32px;
    border-radius: 4px;
}

.level-input-group,
.time-limit-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.level-button,
.time-button {
    width: 32px;
    height: 32px;
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #fff;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
}

.level-button:hover,
.time-button:hover {
    background: rgba(0, 0, 0, 0.4);
}

.objectives-input {
    width: 100%;
    min-height: 80px;
    resize: vertical;
}

.time-unit {
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.9rem;
}

.time-input-wrapper {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

/* ===== ENHANCED ITEM APPEARANCE STYLES ===== */

.item-wizard-modal .item-appearance-section {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 12px !important;
    padding: var(--pf-space-6, 24px) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
    display: flex !important;
    flex-direction: column !important;
    gap: var(--pf-space-6, 24px) !important;
}

.item-wizard-modal .wow-icon-categories {
    display: flex !important;
    flex-direction: column !important;
    gap: var(--pf-space-5, 20px) !important;
    max-height: 600px !important;
    overflow-y: auto !important;
    padding-right: var(--pf-space-2, 8px) !important;
}

/* Custom scrollbar for icon categories */
.item-wizard-modal .wow-icon-categories::-webkit-scrollbar {
    width: 8px !important;
}

.item-wizard-modal .wow-icon-categories::-webkit-scrollbar-track {
    background: var(--pf-brown-light) !important;
    border-radius: 4px !important;
}

.item-wizard-modal .wow-icon-categories::-webkit-scrollbar-thumb {
    background: var(--pf-brown-medium) !important;
    border-radius: 4px !important;
}

.item-wizard-modal .wow-icon-categories::-webkit-scrollbar-thumb:hover {
    background: var(--pf-brown-dark) !important;
}

.item-wizard-modal .wow-icon-category {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 10px !important;
    padding: var(--pf-space-4, 16px) !important;
    box-shadow:
        0 3px 6px rgba(139, 69, 19, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
    transition: all 0.2s ease !important;
}

.item-wizard-modal .wow-icon-category:hover {
    border-color: var(--pf-brown-dark) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.25),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

.item-wizard-modal .wow-category-title {
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-lg) !important;
    font-weight: var(--pf-font-bold) !important;
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    margin: 0 0 var(--pf-space-3, 12px) 0 !important;
    text-align: center !important;
    padding-bottom: var(--pf-space-2, 8px) !important;
    border-bottom: 2px solid var(--pf-brown-light) !important;
}

.item-wizard-modal .wow-sub-category-title {
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-base) !important;
    font-weight: var(--pf-font-semibold) !important;
    color: var(--pf-text-secondary) !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.6) !important;
    text-transform: capitalize !important;
    margin: var(--pf-space-3, 12px) 0 var(--pf-space-2, 8px) 0 !important;
}

.item-wizard-modal .wow-icon-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)) !important;
    gap: var(--pf-space-3, 12px) !important;
    padding: var(--pf-space-3, 12px) !important;
    background: var(--pf-gradient-parchment) !important;
    border: 1px solid var(--pf-brown-light) !important;
    border-radius: 8px !important;
    box-shadow: inset 0 2px 4px rgba(139, 69, 19, 0.1) !important;
}

.item-wizard-modal .wow-icon-button {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 8px !important;
    padding: var(--pf-space-3, 12px) !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    gap: var(--pf-space-2, 8px) !important;
    position: relative !important;
    overflow: hidden !important;
    min-height: 80px !important;
    box-shadow:
        0 2px 4px rgba(139, 69, 19, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

.item-wizard-modal .wow-icon-button:hover {
    border-color: var(--pf-brown-dark) !important;
    transform: translateY(-2px) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

.item-wizard-modal .wow-icon-button.selected {
    background: var(--pf-gradient-gold) !important;
    border-color: var(--pf-gold-dark) !important;
    box-shadow:
        0 0 12px rgba(218, 165, 32, 0.6),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

.item-wizard-modal .wow-item-icon {
    width: 48px !important;
    height: 48px !important;
    object-fit: cover !important;
    border-radius: 6px !important;
    border: 2px solid var(--pf-brown-light) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    transition: all 0.2s ease !important;
}

.item-wizard-modal .wow-icon-button:hover .wow-item-icon {
    border-color: var(--pf-brown-dark) !important;
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3) !important;
}

.item-wizard-modal .wow-icon-name {
    font-family: var(--pf-font-body) !important;
    font-size: var(--pf-text-xs) !important;
    font-weight: var(--pf-font-medium) !important;
    color: var(--pf-text-secondary) !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.6) !important;
    text-align: center !important;
    line-height: 1.2 !important;
    margin: 0 !important;
    word-wrap: break-word !important;
    max-width: 100% !important;
}

/* Enhanced custom URL section */
.item-wizard-modal .wow-custom-url-section {
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 10px !important;
    padding: var(--pf-space-4, 16px) !important;
    box-shadow:
        0 3px 6px rgba(139, 69, 19, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

.item-wizard-modal .wow-section-title {
    font-family: var(--pf-font-display) !important;
    font-size: var(--pf-text-base) !important;
    font-weight: var(--pf-font-bold) !important;
    color: var(--pf-text-primary) !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    margin: 0 0 var(--pf-space-3, 12px) 0 !important;
    text-align: center !important;
}

.item-wizard-modal .wow-custom-url-section .wow-input {
    width: 100% !important;
    background: var(--pf-gradient-parchment) !important;
    border: 2px solid var(--pf-brown-light) !important;
    border-radius: 6px !important;
    color: var(--pf-text-primary) !important;
    font-family: var(--pf-font-body) !important;
    font-size: var(--pf-text-base) !important;
    padding: var(--pf-space-3, 12px) !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.6) !important;
    box-shadow: inset 0 2px 4px rgba(139, 69, 19, 0.1) !important;
    transition: all 0.2s ease !important;
}

.item-wizard-modal .wow-custom-url-section .wow-input:focus {
    outline: none !important;
    border-color: var(--pf-gold) !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 0 0 2px rgba(218, 165, 32, 0.3) !important;
}

/* Enhanced preview section */
.item-wizard-modal .wow-preview-section {
    background: var(--pf-gradient-header) !important;
    border: 2px solid var(--pf-brown-medium) !important;
    border-radius: 10px !important;
    padding: var(--pf-space-5, 20px) !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    gap: var(--pf-space-4, 16px) !important;
}

.item-wizard-modal .wow-preview-section .wow-section-title {
    color: var(--pf-text-on-dark) !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3) !important;
}

.item-wizard-modal .wow-item-preview {
    width: 120px !important;
    height: 120px !important;
    background: var(--pf-gradient-parchment) !important;
    border: 3px solid var(--pf-brown-medium) !important;
    border-radius: 12px !important;
    padding: var(--pf-space-3, 12px) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    box-shadow:
        0 4px 8px rgba(139, 69, 19, 0.3),
        inset 0 2px 4px rgba(255, 255, 255, 0.2) !important;
    transition: all 0.2s ease !important;
}

.item-wizard-modal .wow-item-preview:hover {
    transform: scale(1.05) !important;
    box-shadow:
        0 6px 12px rgba(139, 69, 19, 0.4),
        inset 0 2px 4px rgba(255, 255, 255, 0.3) !important;
}

.item-wizard-modal .wow-preview-image {
    max-width: 100% !important;
    max-height: 100% !important;
    object-fit: contain !important;
    border-radius: 6px !important;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)) !important;
}

.wow-section-title {
    color: #ffd100;
    margin-bottom: 10px;
    font-size: 1.1em;
}

/* Quick Item Wizard Styles */
.quick-item-wizard {
    background: linear-gradient(to bottom, rgba(240, 230, 210, 0.98), rgba(230, 220, 200, 0.98));
    border: 2px solid #7a3b2e;
    border-radius: 8px;
    padding: 25px;
    width: 350px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(122, 59, 46, 0.3);
    font-family: 'Bookman Old Style', 'Garamond', serif;
    color: #3a3a3a;
}

.quick-item-wizard h2 {
    color: #7a3b2e;
    font-size: 20px;
    margin: 0 0 25px 0;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
    border-bottom: 2px solid #7a3b2e;
    padding-bottom: 10px;
}

.quick-item-wizard .form-group {
    margin-bottom: 20px;
}

.quick-item-wizard label {
    display: block;
    color: #5e2e23;
    margin-bottom: 8px;
    font-size: 15px;
    font-weight: 600;
    text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.3);
}

.quick-item-wizard select,
.quick-item-wizard input,
.quick-item-wizard textarea {
    width: 100%;
    padding: 10px 12px;
    background: rgba(255, 255, 255, 0.9);
    border: 2px solid #a08c70;
    border-radius: 6px;
    color: #3a3a3a;
    font-size: 14px;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.quick-item-wizard select:hover,
.quick-item-wizard input:hover,
.quick-item-wizard textarea:hover {
    border-color: #7a3b2e;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1), 0 0 0 2px rgba(122, 59, 46, 0.2);
}

.quick-item-wizard select:focus,
.quick-item-wizard input:focus,
.quick-item-wizard textarea:focus {
    border-color: #7a3b2e;
    outline: none;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1), 0 0 0 3px rgba(122, 59, 46, 0.3);
}

.quick-item-wizard .button-group {
    display: flex;
    gap: 12px;
    margin-top: 25px;
}

.quick-item-wizard button {
    flex: 1;
    padding: 12px 16px;
    border: 2px solid transparent;
    border-radius: 6px;
    font-size: 15px;
    font-weight: 600;
    font-family: 'Bookman Old Style', 'Garamond', serif;
    cursor: pointer;
    transition: all 0.2s ease;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.quick-item-wizard .primary-button {
    background: linear-gradient(to bottom, #7a3b2e, #5e2e23);
    color: #f0e6d2;
    border-color: #7a3b2e;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.quick-item-wizard .primary-button:hover {
    background: linear-gradient(to bottom, #8a4b3e, #6e3e33);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    transform: translateY(-1px);
}

.quick-item-wizard .primary-button:disabled {
    background: linear-gradient(to bottom, #666, #555);
    border-color: #666;
    cursor: not-allowed;
    transform: none;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.quick-item-wizard .secondary-button {
    background: linear-gradient(to bottom, #a08c70, #8a7660);
    color: #3a3a3a;
    border-color: #a08c70;
    text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.3);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.quick-item-wizard .secondary-button:hover {
    background: linear-gradient(to bottom, #b09c80, #9a8670);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    transform: translateY(-1px);
}

.quick-item-wizard .ai-toggle {
    display: flex;
    align-items: center;
    margin-bottom: 12px;
    padding: 10px;
    background: rgba(122, 59, 46, 0.1);
    border-radius: 6px;
    border: 1px solid rgba(122, 59, 46, 0.2);
}

.quick-item-wizard input[type="checkbox"] {
    margin-right: 10px;
    cursor: pointer;
    width: 18px;
    height: 18px;
    accent-color: #7a3b2e;
}

.quick-item-wizard input[type="checkbox"] + label {
    display: inline;
    cursor: pointer;
    margin-bottom: 0;
    font-weight: 600;
    color: #5e2e23;
}

.quick-item-wizard .ai-prompt {
    margin-top: 12px;
}

.quick-item-wizard .ai-prompt textarea {
    min-height: 80px;
    resize: vertical;
    font-family: 'Bookman Old Style', 'Garamond', serif;
}

/* Magic Type and Preservation Styles */
.magic-type-grid,
.preservation-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
}

.magic-type-button,
.preservation-button {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 100%;
    text-align: left;
}

.magic-type-button:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--magic-color);
}

.magic-type-button.selected {
    background: rgba(0, 0, 0, 0.4);
    border-color: var(--magic-color);
    box-shadow: 0 0 10px var(--magic-color);
}

.magic-icon,
.preservation-icon {
    width: 32px;
    height: 32px;
    border-radius: 4px;
}

.magic-info,
.preservation-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.magic-name,
.preservation-name {
    color: var(--magic-color, #ffd100);
    font-size: 14px;
    font-weight: bold;
}

.magic-description,
.preservation-description {
    color: #808080;
    font-size: 12px;
}

.preservation-button:hover {
    background: rgba(255, 255, 255, 0.1);
}

.preservation-button.selected {
    background: rgba(0, 0, 0, 0.4);
    border-color: #ffd100;
    box-shadow: 0 0 10px rgba(255, 209, 0, 0.3);
}

/* Quantity Input Styles */
.quantity-input-group {
    display: flex;
    align-items: center;
    gap: 8px;
}

.quantity-button {
    padding: 4px 12px;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    cursor: pointer;
    color: #ffffff;
    font-size: 16px;
    transition: all 0.2s ease;
}

.quantity-button:hover {
    background: rgba(255, 255, 255, 0.1);
}
.level-requirement-input {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-top: 8px;
}

.level-input-group {
    display: flex;
    align-items: center;
    gap: 8px;
    background: var(--pf-gradient-button, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%)) !important;
    border: 2px solid var(--pf-brown-light, #a08c70) !important;
    border-radius: var(--pf-border-radius, 8px) !important;
    padding: 8px 12px;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

.level-icon {
    width: 28px;
    height: 28px;
    border-radius: 4px;
    margin-right: 8px;
}

.level-button {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--pf-gradient-button, linear-gradient(145deg, #f8f4e6 0%, #ede4d3 50%, #e8dcc6 100%)) !important;
    border: 2px solid var(--pf-brown-medium, #8B4513) !important;
    border-radius: var(--pf-border-radius, 8px) !important;
    color: var(--pf-text-primary, #2d1810) !important;
    font-family: var(--pf-font-display, 'Cinzel', serif) !important;
    font-size: 16px;
    font-weight: var(--pf-font-semibold, 600) !important;
    cursor: pointer;
    transition: all 0.2s ease;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5) !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.1),
        0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

.level-button:hover {
    background: var(--pf-gradient-button-hover, linear-gradient(145deg, #ede4d3 0%, #e8dcc6 50%, #d5cbb0 100%)) !important;
    transform: translateY(-1px) !important;
    box-shadow:
        inset 0 2px 4px rgba(139, 69, 19, 0.15),
        0 4px 8px rgba(0, 0, 0, 0.15) !important;
}

.level-label {
    margin-left: 8px;
    color: var(--pf-text-primary, #2d1810) !important;
    font-family: var(--pf-font-body, 'Crimson Text', serif) !important;
    font-weight: var(--pf-font-semibold, 600) !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5) !important;
    color: #ff4444;
    font-weight: 500;
    font-size: 14px;
}