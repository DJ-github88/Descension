.grid-item-orb {
  /* position, size, and styling are handled by inline styles for dynamic scaling */
  position: absolute;
  /* width and height are set dynamically via inline styles */
  border-radius: 50%;
  cursor: pointer;
  z-index: 100; /* Increased z-index to ensure visibility */
  /* transform is set dynamically via inline styles */
  pointer-events: all;
  /* border is set dynamically via inline styles */
  box-sizing: border-box;

  /* Enhanced multi-layered shadows for depth */
  box-shadow:
    /* Outer glow */
    0 0 calc(var(--orb-size, 20px) * 0.6) calc(var(--orb-size, 20px) * 0.2) var(--glow-color, rgba(255, 255, 255, 0.4)),
    /* Medium glow */
    0 0 calc(var(--orb-size, 20px) * 0.3) calc(var(--orb-size, 20px) * 0.1) var(--glow-color, rgba(255, 255, 255, 0.6)),
    /* Inner highlight for 3D effect */
    inset 0 calc(var(--orb-size, 20px) * 0.1) calc(var(--orb-size, 20px) * 0.15) rgba(255, 255, 255, 0.3),
    /* Inner shadow for depth */
    inset 0 calc(var(--orb-size, 20px) * -0.05) calc(var(--orb-size, 20px) * 0.1) rgba(0, 0, 0, 0.2),
    /* Bottom shadow */
    0 calc(var(--orb-size, 20px) * 0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.2);

  /* Subtle floating animation */
  animation: orbFloat 4s ease-in-out infinite;

  /* Enhanced border with quality-based styling */
  border: calc(var(--orb-size, 20px) * 0.03) solid rgba(255, 255, 255, 0.6);

  /* Smooth transitions - EXCLUDE left/top to prevent floating during camera movement */
  transition: filter 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  /* When background image is present, add overlay for 3D effect */
  position: relative;
}

/* Add a subtle overlay for 3D effect when using background images */
.grid-item-orb::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 50%;
  background:
    /* Main highlight */
    radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.2) 30%, transparent 60%),
    /* Secondary highlight */
    radial-gradient(ellipse at 70% 70%, rgba(255, 255, 255, 0.15) 0%, transparent 40%);
  pointer-events: none;
  z-index: 1;
}

.grid-item-orb:hover {
  /* Enhanced hover effects with quality-aware scaling */
  filter: brightness(1.2) saturate(1.2) contrast(1.05);
  transform: translate(-50%, -50%) scale(1.1) !important;

  /* Intensified multi-layered glow on hover */
  box-shadow:
    /* Intense outer glow */
    0 0 calc(var(--orb-size, 20px) * 1.2) calc(var(--orb-size, 20px) * 0.4) var(--glow-color, rgba(255, 255, 255, 0.8)),
    /* Medium glow */
    0 0 calc(var(--orb-size, 20px) * 0.6) calc(var(--orb-size, 20px) * 0.2) var(--glow-color, rgba(255, 255, 255, 0.9)),
    /* Inner glow */
    0 0 calc(var(--orb-size, 20px) * 0.3) calc(var(--orb-size, 20px) * 0.1) var(--glow-color, rgba(255, 255, 255, 1)),
    /* Enhanced inner highlight */
    inset 0 calc(var(--orb-size, 20px) * 0.2) calc(var(--orb-size, 20px) * 0.3) rgba(255, 255, 255, 0.6),
    /* Inner shadow for depth */
    inset 0 calc(var(--orb-size, 20px) * -0.1) calc(var(--orb-size, 20px) * 0.25) rgba(0, 0, 0, 0.3),
    /* Enhanced bottom shadow */
    0 calc(var(--orb-size, 20px) * 0.15) calc(var(--orb-size, 20px) * 0.3) rgba(0, 0, 0, 0.4);

  /* Hover animation */
  animation: orbPulse 1.2s ease-in-out infinite, orbFloat 4s ease-in-out infinite;
}

.grid-item-orb::after {
  content: '';
  position: absolute;
  top: var(--highlight-top, 15%);
  left: var(--highlight-left, 20%);
  width: var(--highlight-size, 25%);
  height: var(--highlight-size, 25%);
  background: radial-gradient(circle, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%);
  border-radius: 50%;
  filter: blur(1px);
  animation: orbShimmer 2s ease-in-out infinite alternate;
}

/* ENHANCED ANIMATIONS FOR DIFFERENT QUALITIES */

/* Base floating animation */
@keyframes orbFloat {
  0%, 100% {
    transform: translate(-50%, -50%) translateY(0px);
  }
  50% {
    transform: translate(-50%, -50%) translateY(-3px);
  }
}

/* Hover pulse animation */
@keyframes orbPulse {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1.1);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.15);
  }
}

/* Uncommon quality shimmer */
@keyframes orbUncommonShimmer {
  0% {
    filter: brightness(1) saturate(1);
  }
  100% {
    filter: brightness(1.2) saturate(1.3);
  }
}

/* Rare quality magical pulse */
@keyframes orbRarePulse {
  0%, 100% {
    box-shadow:
      0 0 calc(var(--orb-size, 20px) * 0.6) calc(var(--orb-size, 20px) * 0.2) var(--glow-color),
      0 0 calc(var(--orb-size, 20px) * 0.3) calc(var(--orb-size, 20px) * 0.1) var(--glow-color),
      inset 0 calc(var(--orb-size, 20px) * 0.15) calc(var(--orb-size, 20px) * 0.25) rgba(255, 255, 255, 0.4),
      inset 0 calc(var(--orb-size, 20px) * -0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.3),
      0 calc(var(--orb-size, 20px) * 0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.2);
  }
  50% {
    box-shadow:
      0 0 calc(var(--orb-size, 20px) * 0.9) calc(var(--orb-size, 20px) * 0.3) var(--glow-color),
      0 0 calc(var(--orb-size, 20px) * 0.5) calc(var(--orb-size, 20px) * 0.15) var(--glow-color),
      inset 0 calc(var(--orb-size, 20px) * 0.15) calc(var(--orb-size, 20px) * 0.25) rgba(255, 255, 255, 0.5),
      inset 0 calc(var(--orb-size, 20px) * -0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.3),
      0 calc(var(--orb-size, 20px) * 0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.2);
  }
}

/* Epic quality arcane energy */
@keyframes orbEpicArcane {
  0%, 100% {
    filter: brightness(1) saturate(1) hue-rotate(0deg);
  }
  33% {
    filter: brightness(1.1) saturate(1.2) hue-rotate(5deg);
  }
  66% {
    filter: brightness(1.05) saturate(1.1) hue-rotate(-5deg);
  }
}

/* Legendary quality divine radiance */
@keyframes orbLegendaryRadiance {
  0%, 100% {
    box-shadow:
      0 0 calc(var(--orb-size, 20px) * 0.8) calc(var(--orb-size, 20px) * 0.3) var(--glow-color),
      0 0 calc(var(--orb-size, 20px) * 0.4) calc(var(--orb-size, 20px) * 0.15) var(--glow-color),
      0 0 calc(var(--orb-size, 20px) * 0.2) calc(var(--orb-size, 20px) * 0.05) rgba(255, 255, 255, 0.8),
      inset 0 calc(var(--orb-size, 20px) * 0.15) calc(var(--orb-size, 20px) * 0.25) rgba(255, 255, 255, 0.4),
      inset 0 calc(var(--orb-size, 20px) * -0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.3),
      0 calc(var(--orb-size, 20px) * 0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.2);
    filter: brightness(1) saturate(1);
  }
  50% {
    box-shadow:
      0 0 calc(var(--orb-size, 20px) * 1.2) calc(var(--orb-size, 20px) * 0.4) var(--glow-color),
      0 0 calc(var(--orb-size, 20px) * 0.6) calc(var(--orb-size, 20px) * 0.2) var(--glow-color),
      0 0 calc(var(--orb-size, 20px) * 0.3) calc(var(--orb-size, 20px) * 0.1) rgba(255, 255, 255, 1),
      inset 0 calc(var(--orb-size, 20px) * 0.15) calc(var(--orb-size, 20px) * 0.25) rgba(255, 255, 255, 0.6),
      inset 0 calc(var(--orb-size, 20px) * -0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.3),
      0 calc(var(--orb-size, 20px) * 0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.2);
    filter: brightness(1.2) saturate(1.3);
  }
}

/* Legacy pulse animation - kept for compatibility */
@keyframes pulse {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1);
    opacity: 0.8;
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
}

/* POOR QUALITY - Dull, weathered appearance */
.grid-item-orb[data-quality="poor"] {
  --orb-color: #9d9d9d;
  --orb-color-mid: #7d7d7d;
  --orb-color-dark: #5d5d5d;
  --glow-color: rgba(157, 157, 157, 0.3);

  /* Dull, matte appearance */
  background:
    radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 30%, transparent 60%),
    radial-gradient(circle at center, #9d9d9d 0%, #7d7d7d 60%, #5d5d5d 100%);

  border: calc(var(--orb-size, 20px) * 0.02) solid rgba(157, 157, 157, 0.4);
  filter: contrast(0.8) saturate(0.6);
}

/* COMMON QUALITY - Clean, simple appearance */
.grid-item-orb[data-quality="common"] {
  --orb-color: #ffffff;
  --orb-color-mid: #e0e0e0;
  --orb-color-dark: #c0c0c0;
  --glow-color: rgba(255, 255, 255, 0.4);

  border: calc(var(--orb-size, 20px) * 0.03) solid rgba(255, 255, 255, 0.6);
}

/* UNCOMMON QUALITY - Vibrant green with energy */
.grid-item-orb[data-quality="uncommon"] {
  --orb-color: #1eff00;
  --orb-color-mid: #15cc00;
  --orb-color-dark: #0a9900;
  --glow-color: rgba(30, 255, 0, 0.6);

  /* Enhanced green energy effect */
  background:
    radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.4) 30%, transparent 60%),
    radial-gradient(ellipse at 70% 70%, rgba(30, 255, 0, 0.3) 0%, transparent 40%),
    radial-gradient(circle at center, #1eff00 0%, #15cc00 60%, #0a9900 100%);

  border: calc(var(--orb-size, 20px) * 0.03) solid rgba(30, 255, 0, 0.8);
  animation: orbFloat 4s ease-in-out infinite, orbUncommonShimmer 2s ease-in-out infinite alternate;
}

/* RARE QUALITY - Deep blue with magical aura */
.grid-item-orb[data-quality="rare"] {
  --orb-color: #0070dd;
  --orb-color-mid: #0055bb;
  --orb-color-dark: #003a99;
  --glow-color: rgba(0, 112, 221, 0.7);

  /* Magical blue energy */
  background:
    radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.5) 30%, transparent 60%),
    radial-gradient(ellipse at 70% 70%, rgba(0, 112, 221, 0.4) 0%, transparent 40%),
    radial-gradient(circle at center, #0070dd 0%, #0055bb 60%, #003a99 100%);

  border: calc(var(--orb-size, 20px) * 0.04) solid rgba(0, 112, 221, 0.9);
  animation: orbFloat 4s ease-in-out infinite, orbRarePulse 3s ease-in-out infinite;
}

/* EPIC QUALITY - Purple with arcane power */
.grid-item-orb[data-quality="epic"] {
  --orb-color: #a335ee;
  --orb-color-mid: #8825cc;
  --orb-color-dark: #6d15aa;
  --glow-color: rgba(163, 53, 238, 0.8);

  /* Arcane purple energy with sparkles */
  background:
    radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.6) 30%, transparent 60%),
    radial-gradient(ellipse at 70% 70%, rgba(163, 53, 238, 0.5) 0%, transparent 40%),
    radial-gradient(circle at center, #a335ee 0%, #8825cc 60%, #6d15aa 100%);

  border: calc(var(--orb-size, 20px) * 0.04) solid rgba(163, 53, 238, 1);
  animation: orbFloat 3.5s ease-in-out infinite, orbEpicArcane 2.5s ease-in-out infinite;

  /* Epic quality gets particle effects */
  position: relative;
  overflow: visible;
}

/* Epic particle effects using pseudo-elements */
.grid-item-orb[data-quality="epic"]::before {
  content: '';
  position: absolute;
  top: -20%;
  left: -20%;
  width: 140%;
  height: 140%;
  background:
    radial-gradient(circle at 20% 30%, rgba(163, 53, 238, 0.6) 1px, transparent 2px),
    radial-gradient(circle at 80% 70%, rgba(163, 53, 238, 0.4) 1px, transparent 2px),
    radial-gradient(circle at 60% 20%, rgba(163, 53, 238, 0.5) 1px, transparent 2px),
    radial-gradient(circle at 30% 80%, rgba(163, 53, 238, 0.3) 1px, transparent 2px);
  background-size: 20px 20px, 25px 25px, 18px 18px, 22px 22px;
  animation: orbEpicParticles 4s linear infinite;
  pointer-events: none;
  z-index: -1;
}

@keyframes orbEpicParticles {
  0% {
    transform: rotate(0deg) scale(1);
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: rotate(360deg) scale(1.1);
    opacity: 0.6;
  }
}

/* LEGENDARY QUALITY - Orange with divine radiance */
.grid-item-orb[data-quality="legendary"] {
  --orb-color: #ff8000;
  --orb-color-mid: #dd6600;
  --orb-color-dark: #bb4400;
  --glow-color: rgba(255, 128, 0, 0.9);

  /* Divine orange radiance with multiple highlights */
  background:
    radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.7) 30%, transparent 60%),
    radial-gradient(ellipse at 70% 70%, rgba(255, 128, 0, 0.6) 0%, transparent 40%),
    radial-gradient(ellipse at 40% 60%, rgba(255, 200, 100, 0.4) 0%, transparent 50%),
    radial-gradient(circle at center, #ff8000 0%, #dd6600 60%, #bb4400 100%);

  border: calc(var(--orb-size, 20px) * 0.05) solid rgba(255, 128, 0, 1);
  animation: orbFloat 3s ease-in-out infinite, orbLegendaryRadiance 2s ease-in-out infinite;

  /* Legendary gets the most intense effects */
  filter: brightness(1.1) saturate(1.2);
  position: relative;
  overflow: visible;
}

/* Legendary divine particle effects */
.grid-item-orb[data-quality="legendary"]::before {
  content: '';
  position: absolute;
  top: -30%;
  left: -30%;
  width: 160%;
  height: 160%;
  background:
    radial-gradient(circle at 15% 25%, rgba(255, 255, 255, 0.8) 1px, transparent 3px),
    radial-gradient(circle at 85% 75%, rgba(255, 200, 100, 0.6) 1px, transparent 2px),
    radial-gradient(circle at 65% 15%, rgba(255, 128, 0, 0.7) 1px, transparent 2px),
    radial-gradient(circle at 25% 85%, rgba(255, 255, 255, 0.5) 1px, transparent 3px),
    radial-gradient(circle at 50% 50%, rgba(255, 200, 100, 0.4) 1px, transparent 2px);
  background-size: 15px 15px, 20px 20px, 12px 12px, 18px 18px, 25px 25px;
  animation: orbLegendaryParticles 3s linear infinite;
  pointer-events: none;
  z-index: -1;
}

@keyframes orbLegendaryParticles {
  0% {
    transform: rotate(0deg) scale(1);
    opacity: 0.8;
  }
  25% {
    opacity: 1;
  }
  50% {
    transform: rotate(180deg) scale(1.2);
    opacity: 0.9;
  }
  75% {
    opacity: 1;
  }
  100% {
    transform: rotate(360deg) scale(1);
    opacity: 0.8;
  }
}

/* Special legendary animation */
@keyframes orbLegendaryPulse {
  0%, 100% {
    box-shadow:
      0 0 calc(var(--orb-size, 20px) * 0.5) calc(var(--orb-size, 20px) * 0.15) var(--glow-color, #ffffff),
      inset 0 calc(var(--orb-size, 20px) * 0.1) calc(var(--orb-size, 20px) * 0.2) rgba(255, 255, 255, 0.3),
      inset 0 calc(var(--orb-size, 20px) * -0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.2);
  }
  50% {
    box-shadow:
      0 0 calc(var(--orb-size, 20px) * 0.8) calc(var(--orb-size, 20px) * 0.3) var(--glow-color, #ffffff),
      inset 0 calc(var(--orb-size, 20px) * 0.1) calc(var(--orb-size, 20px) * 0.3) rgba(255, 255, 255, 0.5),
      inset 0 calc(var(--orb-size, 20px) * -0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.2);
  }
}

/* CURRENCY-SPECIFIC STYLING WITH METALLIC EFFECTS */

/* Platinum currency - Lustrous platinum metallic */
.grid-item-orb[data-currency="platinum"] {
  --orb-color: #e5e4e2;
  --orb-color-mid: #d3d2d0;
  --orb-color-dark: #b8b7b5;
  --glow-color: rgba(229, 228, 226, 0.7);

  /* Metallic platinum appearance */
  background:
    radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.6) 30%, transparent 60%),
    radial-gradient(ellipse at 70% 70%, rgba(229, 228, 226, 0.4) 0%, transparent 40%),
    linear-gradient(135deg, #e5e4e2 0%, #d3d2d0 50%, #b8b7b5 100%);

  border: calc(var(--orb-size, 20px) * 0.04) solid rgba(229, 228, 226, 0.9);
  animation: orbFloat 4s ease-in-out infinite, orbPlatinumShine 3.5s ease-in-out infinite;
}

/* Gold currency - Brilliant golden metallic */
.grid-item-orb[data-currency="gold"] {
  --orb-color: #ffd700;
  --orb-color-mid: #e6c200;
  --orb-color-dark: #b8860b;
  --glow-color: rgba(255, 215, 0, 0.7);

  /* Metallic gold appearance */
  background:
    radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.6) 30%, transparent 60%),
    radial-gradient(ellipse at 70% 70%, rgba(255, 215, 0, 0.4) 0%, transparent 40%),
    linear-gradient(135deg, #ffd700 0%, #e6c200 50%, #b8860b 100%);

  border: calc(var(--orb-size, 20px) * 0.04) solid rgba(255, 215, 0, 0.9);
  animation: orbFloat 4s ease-in-out infinite, orbGoldShine 3s ease-in-out infinite;
}

/* Silver currency - Lustrous silver metallic */
.grid-item-orb[data-currency="silver"] {
  --orb-color: #c0c0c0;
  --orb-color-mid: #a8a8a8;
  --orb-color-dark: #808080;
  --glow-color: rgba(192, 192, 192, 0.6);

  /* Metallic silver appearance */
  background:
    radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.5) 30%, transparent 60%),
    radial-gradient(ellipse at 70% 70%, rgba(192, 192, 192, 0.3) 0%, transparent 40%),
    linear-gradient(135deg, #c0c0c0 0%, #a8a8a8 50%, #808080 100%);

  border: calc(var(--orb-size, 20px) * 0.03) solid rgba(192, 192, 192, 0.8);
  animation: orbFloat 4s ease-in-out infinite, orbSilverGleam 4s ease-in-out infinite;
}

/* Copper currency - Warm copper metallic */
.grid-item-orb[data-currency="copper"] {
  --orb-color: #cd7f32;
  --orb-color-mid: #b8722d;
  --orb-color-dark: #8b4513;
  --glow-color: rgba(205, 127, 50, 0.5);

  /* Metallic copper appearance */
  background:
    radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.4) 30%, transparent 60%),
    radial-gradient(ellipse at 70% 70%, rgba(205, 127, 50, 0.3) 0%, transparent 40%),
    linear-gradient(135deg, #cd7f32 0%, #b8722d 50%, #8b4513 100%);

  border: calc(var(--orb-size, 20px) * 0.03) solid rgba(205, 127, 50, 0.7);
  animation: orbFloat 4s ease-in-out infinite;
}

/* CURRENCY ANIMATIONS */
@keyframes orbPlatinumShine {
  0%, 100% {
    filter: brightness(1) saturate(1);
  }
  50% {
    filter: brightness(1.25) saturate(1.3);
  }
}

@keyframes orbGoldShine {
  0%, 100% {
    filter: brightness(1) saturate(1);
  }
  50% {
    filter: brightness(1.3) saturate(1.4);
  }
}

@keyframes orbSilverGleam {
  0%, 100% {
    filter: brightness(1) saturate(1);
  }
  50% {
    filter: brightness(1.2) saturate(1.2);
  }
}

/* ENHANCED PSEUDO-ELEMENTS FOR REALISTIC MATERIALS */

/* Primary highlight layer */
.grid-item-orb::before {
  content: '';
  position: absolute;
  top: 10%;
  left: 15%;
  width: 35%;
  height: 35%;
  border-radius: 50%;
  background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.4) 50%, transparent 100%);
  pointer-events: none;
  z-index: 1;
  animation: orbShimmer 3s ease-in-out infinite alternate;
}

/* Secondary highlight for depth */
.grid-item-orb::after {
  content: '';
  position: absolute;
  top: 60%;
  left: 65%;
  width: 20%;
  height: 20%;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.2) 50%, transparent 100%);
  pointer-events: none;
  z-index: 2;
  animation: orbShimmer 3s ease-in-out infinite alternate-reverse;
}

/* Shimmer animation for highlights */
@keyframes orbShimmer {
  0% {
    opacity: 0.6;
    transform: scale(1);
  }
  100% {
    opacity: 0.9;
    transform: scale(1.1);
  }
}

/* SPECIAL EFFECTS FOR HIGH-QUALITY ITEMS */

/* Epic quality particle effects */
.grid-item-orb[data-quality="epic"]::before {
  animation: orbShimmer 2s ease-in-out infinite alternate, orbEpicSparkle 3s ease-in-out infinite;
}

@keyframes orbEpicSparkle {
  0%, 100% {
    box-shadow:
      2px 2px 4px rgba(163, 53, 238, 0.6),
      -2px -2px 4px rgba(163, 53, 238, 0.6);
  }
  50% {
    box-shadow:
      4px 4px 8px rgba(163, 53, 238, 0.8),
      -4px -4px 8px rgba(163, 53, 238, 0.8),
      0 0 12px rgba(163, 53, 238, 0.4);
  }
}

/* Legendary quality divine effects */
.grid-item-orb[data-quality="legendary"]::before {
  animation: orbShimmer 1.5s ease-in-out infinite alternate, orbLegendaryDivine 2s ease-in-out infinite;
}

.grid-item-orb[data-quality="legendary"]::after {
  animation: orbShimmer 1.5s ease-in-out infinite alternate-reverse, orbLegendaryDivine 2s ease-in-out infinite reverse;
}

@keyframes orbLegendaryDivine {
  0%, 100% {
    box-shadow:
      0 0 6px rgba(255, 128, 0, 0.8),
      2px 2px 8px rgba(255, 200, 100, 0.6),
      -2px -2px 8px rgba(255, 200, 100, 0.6);
  }
  50% {
    box-shadow:
      0 0 12px rgba(255, 128, 0, 1),
      4px 4px 12px rgba(255, 200, 100, 0.8),
      -4px -4px 12px rgba(255, 200, 100, 0.8),
      0 0 20px rgba(255, 255, 255, 0.4);
  }
}

/* QUALITY-SPECIFIC HOVER ENHANCEMENTS */
.grid-item-orb[data-quality="poor"]:hover {
  filter: brightness(1.1) saturate(0.8) contrast(1.1);
}

.grid-item-orb[data-quality="common"]:hover {
  filter: brightness(1.2) saturate(1.1) contrast(1.1);
}

.grid-item-orb[data-quality="uncommon"]:hover {
  filter: brightness(1.3) saturate(1.3) contrast(1.2);
  animation: orbPulse 1.2s ease-in-out infinite, orbFloat 4s ease-in-out infinite, orbUncommonShimmer 1s ease-in-out infinite;
}

.grid-item-orb[data-quality="rare"]:hover {
  filter: brightness(1.4) saturate(1.4) contrast(1.2);
  animation: orbPulse 1s ease-in-out infinite, orbFloat 4s ease-in-out infinite, orbRarePulse 2s ease-in-out infinite;
}

.grid-item-orb[data-quality="epic"]:hover {
  filter: brightness(1.5) saturate(1.5) contrast(1.3);
  animation: orbPulse 0.8s ease-in-out infinite, orbFloat 3.5s ease-in-out infinite, orbEpicArcane 1.5s ease-in-out infinite;
}

.grid-item-orb[data-quality="legendary"]:hover {
  filter: brightness(1.6) saturate(1.6) contrast(1.4);
  animation: orbPulse 0.6s ease-in-out infinite, orbFloat 3s ease-in-out infinite, orbLegendaryRadiance 1s ease-in-out infinite;
}

/* SPECIAL ITEM TYPE ENHANCEMENTS */

/* Container items get a special border pattern */
.grid-item-orb[data-container="true"] {
  border-style: dashed !important;
  border-width: calc(var(--orb-size, 20px) * 0.04) !important;
}

.grid-item-orb[data-container="true"]::before {
  /* Add a subtle inner border for containers */
  box-shadow: inset 0 0 0 calc(var(--orb-size, 20px) * 0.02) rgba(255, 255, 255, 0.3);
}

/* Weapon items get a subtle metallic sheen */
.grid-item-orb[data-type="weapon"] {
  background:
    radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.4) 30%, transparent 60%),
    radial-gradient(ellipse at 70% 70%, rgba(200, 200, 200, 0.3) 0%, transparent 40%),
    radial-gradient(circle at center, var(--orb-color, #ffffff) 0%, var(--orb-color-mid, #cccccc) 60%, var(--orb-color-dark, #999999) 100%);
}

/* Armor items get a protective aura */
.grid-item-orb[data-type="armor"] {
  box-shadow:
    0 0 calc(var(--orb-size, 20px) * 0.6) calc(var(--orb-size, 20px) * 0.2) var(--glow-color, rgba(255, 255, 255, 0.4)),
    0 0 calc(var(--orb-size, 20px) * 0.3) calc(var(--orb-size, 20px) * 0.1) var(--glow-color, rgba(255, 255, 255, 0.6)),
    inset 0 calc(var(--orb-size, 20px) * 0.15) calc(var(--orb-size, 20px) * 0.25) rgba(255, 255, 255, 0.4),
    inset 0 calc(var(--orb-size, 20px) * -0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.3),
    0 calc(var(--orb-size, 20px) * 0.1) calc(var(--orb-size, 20px) * 0.2) rgba(0, 0, 0, 0.2),
    /* Additional protective ring */
    0 0 0 calc(var(--orb-size, 20px) * 0.08) rgba(100, 150, 255, 0.2);
}

/* Consumable items get a subtle pulsing effect */
.grid-item-orb[data-type="consumable"] {
  animation: orbFloat 4s ease-in-out infinite, orbConsumablePulse 3s ease-in-out infinite;
}

@keyframes orbConsumablePulse {
  0%, 100% {
    filter: brightness(1) saturate(1);
  }
  50% {
    filter: brightness(1.1) saturate(1.2);
  }
}

/* ACCESSIBILITY AND PERFORMANCE OPTIMIZATIONS */

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .grid-item-orb {
    animation: none !important;
  }

  .grid-item-orb::before,
  .grid-item-orb::after {
    animation: none !important;
  }

  .grid-item-orb:hover {
    animation: none !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .grid-item-orb {
    border-width: calc(var(--orb-size, 20px) * 0.06) !important;
    filter: contrast(1.5) !important;
  }
}

/* Legacy pulse animation - kept for compatibility */
@keyframes pulse {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1);
    opacity: 0.8;
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
}
